const v0=function(){const e=document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),sp={},y0="/",Ds=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${y0}${r}`,r in sp)return;sp[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":v0,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,c)=>{o.addEventListener("load",a),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function eh(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function th(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ue(r)?E0(r):th(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Ue(t))return t;if(Ve(t))return t}}const b0=/;(?![^(]*\))/g,w0=/:([^]+)/,_0=/\/\*.*?\*\//gs;function E0(t){const e={};return t.replace(_0,"").split(b0).forEach(n=>{if(n){const r=n.split(w0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function nh(t){let e="";if(Ue(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=nh(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const T0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",S0=eh(T0);function jv(t){return!!t||t===""}const NF=t=>Ue(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===Uv||!ge(t.toString))?JSON.stringify(t,$v,2):String(t),$v=(t,e)=>e&&e.__v_isRef?$v(t,e.value):vi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:qv(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!ue(e)&&!Qv(e)?String(e):e,Le={},gi=[],an=()=>{},C0=()=>!1,I0=/^on[^a-z]/,dc=t=>I0.test(t),rh=t=>t.startsWith("onUpdate:"),ut=Object.assign,ih=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},O0=Object.prototype.hasOwnProperty,Te=(t,e)=>O0.call(t,e),ue=Array.isArray,vi=t=>Co(t)==="[object Map]",qv=t=>Co(t)==="[object Set]",k0=t=>Co(t)==="[object RegExp]",ge=t=>typeof t=="function",Ue=t=>typeof t=="string",sh=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",Bv=t=>Ve(t)&&ge(t.then)&&ge(t.catch),Uv=Object.prototype.toString,Co=t=>Uv.call(t),x0=t=>Co(t).slice(8,-1),Qv=t=>Co(t)==="[object Object]",oh=t=>Ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,la=eh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},D0=/-(\w)/g,wn=pc(t=>t.replace(D0,(e,n)=>n?n.toUpperCase():"")),A0=/\B([A-Z])/g,Yi=pc(t=>t.replace(A0,"-$1").toLowerCase()),mc=pc(t=>t.charAt(0).toUpperCase()+t.slice(1)),yu=pc(t=>t?`on${mc(t)}`:""),Ks=(t,e)=>!Object.is(t,e),As=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Aa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},N0=t=>{const e=parseFloat(t);return isNaN(e)?t:e},R0=t=>{const e=Ue(t)?Number(t):NaN;return isNaN(e)?t:e};let op;const P0=()=>op||(op=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let tn;class zv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tn,!e&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=tn;try{return tn=this,e()}finally{tn=n}}}on(){tn=this}off(){tn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function M0(t){return new zv(t)}function L0(t,e=tn){e&&e.active&&e.effects.push(t)}function F0(){return tn}const ah=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Kv=t=>(t.w&rr)>0,Hv=t=>(t.n&rr)>0,V0=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=rr},j0=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Kv(i)&&!Hv(i)?i.delete(t):e[n++]=i,i.w&=~rr,i.n&=~rr}e.length=n}},bl=new WeakMap;let bs=0,rr=1;const wl=30;let sn;const kr=Symbol(""),_l=Symbol("");class ch{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,L0(this,r)}run(){if(!this.active)return this.fn();let e=sn,n=Jn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=sn,sn=this,Jn=!0,rr=1<<++bs,bs<=wl?V0(this):ap(this),this.fn()}finally{bs<=wl&&j0(this),rr=1<<--bs,sn=this.parent,Jn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){sn===this?this.deferStop=!0:this.active&&(ap(this),this.onStop&&this.onStop(),this.active=!1)}}function ap(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Jn=!0;const Gv=[];function Ji(){Gv.push(Jn),Jn=!1}function Xi(){const t=Gv.pop();Jn=t===void 0?!0:t}function Ft(t,e,n){if(Jn&&sn){let r=bl.get(t);r||bl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=ah()),Wv(i)}}function Wv(t,e){let n=!1;bs<=wl?Hv(t)||(t.n|=rr,n=!Kv(t)):n=!t.has(sn),n&&(t.add(sn),sn.deps.push(t))}function xn(t,e,n,r,i,s){const o=bl.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ue(t)){const c=Number(r);o.forEach((u,l)=>{(l==="length"||l>=c)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ue(t)?oh(n)&&a.push(o.get("length")):(a.push(o.get(kr)),vi(t)&&a.push(o.get(_l)));break;case"delete":ue(t)||(a.push(o.get(kr)),vi(t)&&a.push(o.get(_l)));break;case"set":vi(t)&&a.push(o.get(kr));break}if(a.length===1)a[0]&&El(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);El(ah(c))}}function El(t,e){const n=ue(t)?t:[...t];for(const r of n)r.computed&&cp(r);for(const r of n)r.computed||cp(r)}function cp(t,e){(t!==sn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const $0=eh("__proto__,__v_isRef,__isVue"),Yv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sh)),q0=uh(),B0=uh(!1,!0),U0=uh(!0),up=Q0();function Q0(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Se(this);for(let s=0,o=this.length;s<o;s++)Ft(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Se)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ji();const r=Se(this)[e].apply(this,n);return Xi(),r}}),t}function z0(t){const e=Se(this);return Ft(e,"has",t),e.hasOwnProperty(t)}function uh(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?aT:ty:e?ey:Zv).get(r))return r;const o=ue(r);if(!t){if(o&&Te(up,i))return Reflect.get(up,i,s);if(i==="hasOwnProperty")return z0}const a=Reflect.get(r,i,s);return(sh(i)?Yv.has(i):$0(i))||(t||Ft(r,"get",i),e)?a:Ye(a)?o&&oh(i)?a:a.value:Ve(a)?t?ny(a):Fn(a):a}}const K0=Jv(),H0=Jv(!0);function Jv(t=!1){return function(n,r,i,s){let o=n[r];if(ki(o)&&Ye(o)&&!Ye(i))return!1;if(!t&&(!Na(i)&&!ki(i)&&(o=Se(o),i=Se(i)),!ue(n)&&Ye(o)&&!Ye(i)))return o.value=i,!0;const a=ue(n)&&oh(r)?Number(r)<n.length:Te(n,r),c=Reflect.set(n,r,i,s);return n===Se(s)&&(a?Ks(i,o)&&xn(n,"set",r,i):xn(n,"add",r,i)),c}}function G0(t,e){const n=Te(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&xn(t,"delete",e,void 0),r}function W0(t,e){const n=Reflect.has(t,e);return(!sh(e)||!Yv.has(e))&&Ft(t,"has",e),n}function Y0(t){return Ft(t,"iterate",ue(t)?"length":kr),Reflect.ownKeys(t)}const Xv={get:q0,set:K0,deleteProperty:G0,has:W0,ownKeys:Y0},J0={get:U0,set(t,e){return!0},deleteProperty(t,e){return!0}},X0=ut({},Xv,{get:B0,set:H0}),lh=t=>t,gc=t=>Reflect.getPrototypeOf(t);function Qo(t,e,n=!1,r=!1){t=t.__v_raw;const i=Se(t),s=Se(e);n||(e!==s&&Ft(i,"get",e),Ft(i,"get",s));const{has:o}=gc(i),a=r?lh:n?dh:Hs;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function zo(t,e=!1){const n=this.__v_raw,r=Se(n),i=Se(t);return e||(t!==i&&Ft(r,"has",t),Ft(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ko(t,e=!1){return t=t.__v_raw,!e&&Ft(Se(t),"iterate",kr),Reflect.get(t,"size",t)}function lp(t){t=Se(t);const e=Se(this);return gc(e).has.call(e,t)||(e.add(t),xn(e,"add",t,t)),this}function fp(t,e){e=Se(e);const n=Se(this),{has:r,get:i}=gc(n);let s=r.call(n,t);s||(t=Se(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Ks(e,o)&&xn(n,"set",t,e):xn(n,"add",t,e),this}function hp(t){const e=Se(this),{has:n,get:r}=gc(e);let i=n.call(e,t);i||(t=Se(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&xn(e,"delete",t,void 0),s}function dp(){const t=Se(this),e=t.size!==0,n=t.clear();return e&&xn(t,"clear",void 0,void 0),n}function Ho(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Se(o),c=e?lh:t?dh:Hs;return!t&&Ft(a,"iterate",kr),o.forEach((u,l)=>r.call(i,c(u),c(l),s))}}function Go(t,e,n){return function(...r){const i=this.__v_raw,s=Se(i),o=vi(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),l=n?lh:e?dh:Hs;return!e&&Ft(s,"iterate",c?_l:kr),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function jn(t){return function(...e){return t==="delete"?!1:this}}function Z0(){const t={get(s){return Qo(this,s)},get size(){return Ko(this)},has:zo,add:lp,set:fp,delete:hp,clear:dp,forEach:Ho(!1,!1)},e={get(s){return Qo(this,s,!1,!0)},get size(){return Ko(this)},has:zo,add:lp,set:fp,delete:hp,clear:dp,forEach:Ho(!1,!0)},n={get(s){return Qo(this,s,!0)},get size(){return Ko(this,!0)},has(s){return zo.call(this,s,!0)},add:jn("add"),set:jn("set"),delete:jn("delete"),clear:jn("clear"),forEach:Ho(!0,!1)},r={get(s){return Qo(this,s,!0,!0)},get size(){return Ko(this,!0)},has(s){return zo.call(this,s,!0)},add:jn("add"),set:jn("set"),delete:jn("delete"),clear:jn("clear"),forEach:Ho(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Go(s,!1,!1),n[s]=Go(s,!0,!1),e[s]=Go(s,!1,!0),r[s]=Go(s,!0,!0)}),[t,n,e,r]}const[eT,tT,nT,rT]=Z0();function fh(t,e){const n=e?t?rT:nT:t?tT:eT;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Te(n,i)&&i in r?n:r,i,s)}const iT={get:fh(!1,!1)},sT={get:fh(!1,!0)},oT={get:fh(!0,!1)},Zv=new WeakMap,ey=new WeakMap,ty=new WeakMap,aT=new WeakMap;function cT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uT(t){return t.__v_skip||!Object.isExtensible(t)?0:cT(x0(t))}function Fn(t){return ki(t)?t:hh(t,!1,Xv,iT,Zv)}function lT(t){return hh(t,!1,X0,sT,ey)}function ny(t){return hh(t,!0,J0,oT,ty)}function hh(t,e,n,r,i){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=uT(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function yi(t){return ki(t)?yi(t.__v_raw):!!(t&&t.__v_isReactive)}function ki(t){return!!(t&&t.__v_isReadonly)}function Na(t){return!!(t&&t.__v_isShallow)}function ry(t){return yi(t)||ki(t)}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Zi(t){return Aa(t,"__v_skip",!0),t}const Hs=t=>Ve(t)?Fn(t):t,dh=t=>Ve(t)?ny(t):t;function iy(t){Jn&&sn&&(t=Se(t),Wv(t.dep||(t.dep=ah())))}function sy(t,e){t=Se(t);const n=t.dep;n&&El(n)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function Ne(t){return oy(t,!1)}function fT(t){return oy(t,!0)}function oy(t,e){return Ye(t)?t:new hT(t,e)}class hT{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Se(e),this._value=n?e:Hs(e)}get value(){return iy(this),this._value}set value(e){const n=this.__v_isShallow||Na(e)||ki(e);e=n?e:Se(e),Ks(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Hs(e),sy(this))}}function xr(t){return Ye(t)?t.value:t}const dT={get:(t,e,n)=>xr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ay(t){return yi(t)?t:new Proxy(t,dT)}var cy;class pT{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[cy]=!1,this._dirty=!0,this.effect=new ch(e,()=>{this._dirty||(this._dirty=!0,sy(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Se(this);return iy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}cy="__v_isReadonly";function mT(t,e,n=!1){let r,i;const s=ge(t);return s?(r=t,i=an):(r=t.get,i=t.set),new pT(r,i,s||!i,n)}function Xn(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){vc(s,e,n)}return i}function Ht(t,e,n,r){if(ge(t)){const s=Xn(t,e,n,r);return s&&Bv(s)&&s.catch(o=>{vc(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ht(t[s],e,n,r));return i}function vc(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Xn(c,null,10,[t,o,a]);return}}gT(t,n,i,r)}function gT(t,e,n,r=!0){console.error(t)}let Gs=!1,Tl=!1;const Tt=[];let vn=0;const bi=[];let In=null,_r=0;const uy=Promise.resolve();let ph=null;function xi(t){const e=ph||uy;return t?e.then(this?t.bind(this):t):e}function vT(t){let e=vn+1,n=Tt.length;for(;e<n;){const r=e+n>>>1;Ws(Tt[r])<t?e=r+1:n=r}return e}function mh(t){(!Tt.length||!Tt.includes(t,Gs&&t.allowRecurse?vn+1:vn))&&(t.id==null?Tt.push(t):Tt.splice(vT(t.id),0,t),ly())}function ly(){!Gs&&!Tl&&(Tl=!0,ph=uy.then(hy))}function yT(t){const e=Tt.indexOf(t);e>vn&&Tt.splice(e,1)}function bT(t){ue(t)?bi.push(...t):(!In||!In.includes(t,t.allowRecurse?_r+1:_r))&&bi.push(t),ly()}function pp(t,e=Gs?vn+1:0){for(;e<Tt.length;e++){const n=Tt[e];n&&n.pre&&(Tt.splice(e,1),e--,n())}}function fy(t){if(bi.length){const e=[...new Set(bi)];if(bi.length=0,In){In.push(...e);return}for(In=e,In.sort((n,r)=>Ws(n)-Ws(r)),_r=0;_r<In.length;_r++)In[_r]();In=null,_r=0}}const Ws=t=>t.id==null?1/0:t.id,wT=(t,e)=>{const n=Ws(t)-Ws(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function hy(t){Tl=!1,Gs=!0,Tt.sort(wT);const e=an;try{for(vn=0;vn<Tt.length;vn++){const n=Tt[vn];n&&n.active!==!1&&Xn(n,null,14)}}finally{vn=0,Tt.length=0,fy(),Gs=!1,ph=null,(Tt.length||bi.length)&&hy()}}function _T(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Le;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=r[l]||Le;h&&(i=n.map(d=>Ue(d)?d.trim():d)),f&&(i=n.map(N0))}let a,c=r[a=yu(e)]||r[a=yu(wn(e))];!c&&s&&(c=r[a=yu(Yi(e))]),c&&Ht(c,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ht(u,t,6,i)}}function dy(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ge(t)){const c=u=>{const l=dy(u,e,!0);l&&(a=!0,ut(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(Ve(t)&&r.set(t,null),null):(ue(s)?s.forEach(c=>o[c]=null):ut(o,s),Ve(t)&&r.set(t,o),o)}function yc(t,e){return!t||!dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Yi(e))||Te(t,e))}let gt=null,bc=null;function Ra(t){const e=gt;return gt=t,bc=t&&t.type.__scopeId||null,e}function RF(t){bc=t}function PF(){bc=null}function On(t,e=gt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Cp(-1);const s=Ra(e);let o;try{o=t(...i)}finally{Ra(s),r._d&&Cp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function bu(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:u,render:l,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:m}=t;let g,w;const v=Ra(t);try{if(n.shapeFlag&4){const E=i||r;g=gn(l.call(E,E,f,s,d,h,p)),w=c}else{const E=e;g=gn(E.length>1?E(s,{attrs:c,slots:a,emit:u}):E(s,null)),w=e.props?c:ET(c)}}catch(E){Ms.length=0,vc(E,t,1),g=Fe(Wt)}let y=g;if(w&&m!==!1){const E=Object.keys(w),{shapeFlag:T}=y;E.length&&T&7&&(o&&E.some(rh)&&(w=TT(w,o)),y=Dn(y,w))}return n.dirs&&(y=Dn(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,Ra(v),g}const ET=t=>{let e;for(const n in t)(n==="class"||n==="style"||dc(n))&&((e||(e={}))[n]=t[n]);return e},TT=(t,e)=>{const n={};for(const r in t)(!rh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ST(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?mp(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(o[h]!==r[h]&&!yc(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mp(r,o,u):!0:!!o;return!1}function mp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!yc(n,s))return!0}return!1}function CT({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const py=t=>t.__isSuspense;function IT(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):bT(t)}function Ns(t,e){if(We){let n=We.provides;const r=We.parent&&We.parent.provides;r===n&&(n=We.provides=Object.create(r)),n[t]=e}}function Gt(t,e,n=!1){const r=We||gt;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ge(e)?e.call(r.proxy):e}}const Wo={};function Ct(t,e,n){return my(t,e,n)}function my(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Le){const a=F0()===(We==null?void 0:We.scope)?We:null;let c,u=!1,l=!1;if(Ye(t)?(c=()=>t.value,u=Na(t)):yi(t)?(c=()=>t,r=!0):ue(t)?(l=!0,u=t.some(y=>yi(y)||Na(y)),c=()=>t.map(y=>{if(Ye(y))return y.value;if(yi(y))return Tr(y);if(ge(y))return Xn(y,a,2)})):ge(t)?e?c=()=>Xn(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Ht(t,a,3,[h])}:c=an,e&&r){const y=c;c=()=>Tr(y())}let f,h=y=>{f=w.onStop=()=>{Xn(y,a,4)}},d;if(Zs)if(h=an,e?n&&Ht(e,a,3,[c(),l?[]:void 0,h]):c(),i==="sync"){const y=wS();d=y.__watcherHandles||(y.__watcherHandles=[])}else return an;let p=l?new Array(t.length).fill(Wo):Wo;const m=()=>{if(!!w.active)if(e){const y=w.run();(r||u||(l?y.some((E,T)=>Ks(E,p[T])):Ks(y,p)))&&(f&&f(),Ht(e,a,3,[y,p===Wo?void 0:l&&p[0]===Wo?[]:p,h]),p=y)}else w.run()};m.allowRecurse=!!e;let g;i==="sync"?g=m:i==="post"?g=()=>pt(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>mh(m));const w=new ch(c,g);e?n?m():p=w.run():i==="post"?pt(w.run.bind(w),a&&a.suspense):w.run();const v=()=>{w.stop(),a&&a.scope&&ih(a.scope.effects,w)};return d&&d.push(v),v}function OT(t,e,n){const r=this.proxy,i=Ue(t)?t.includes(".")?gy(r,t):()=>r[t]:t.bind(r,r);let s;ge(e)?s=e:(s=e.handler,n=e);const o=We;Ai(this);const a=my(i,s.bind(r),n);return o?Ai(o):Dr(),a}function gy(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Tr(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ye(t))Tr(t.value,e);else if(ue(t))for(let n=0;n<t.length;n++)Tr(t[n],e);else if(qv(t)||vi(t))t.forEach(n=>{Tr(n,e)});else if(Qv(t))for(const n in t)Tr(t[n],e);return t}function vy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ec(()=>{t.isMounted=!0}),fn(()=>{t.isUnmounting=!0}),t}const Ut=[Function,Array],kT={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ut,onEnter:Ut,onAfterEnter:Ut,onEnterCancelled:Ut,onBeforeLeave:Ut,onLeave:Ut,onAfterLeave:Ut,onLeaveCancelled:Ut,onBeforeAppear:Ut,onAppear:Ut,onAfterAppear:Ut,onAppearCancelled:Ut},setup(t,{slots:e}){const n=xt(),r=vy();let i;return()=>{const s=e.default&&gh(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==Wt){o=m;break}}const a=Se(t),{mode:c}=a;if(r.isLeaving)return wu(o);const u=gp(o);if(!u)return wu(o);const l=Ys(u,a,r,n);Di(u,l);const f=n.subTree,h=f&&gp(f);let d=!1;const{getTransitionKey:p}=u.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(h&&h.type!==Wt&&(!Yn(u,h)||d)){const m=Ys(h,a,r,n);if(Di(h,m),c==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},wu(o);c==="in-out"&&u.type!==Wt&&(m.delayLeave=(g,w,v)=>{const y=by(r,h);y[String(h.key)]=h,g._leaveCb=()=>{w(),g._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=v})}return o}}},yy=kT;function by(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ys(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:w,onAppearCancelled:v}=e,y=String(t.key),E=by(n,t),T=(O,L)=>{O&&Ht(O,r,9,L)},x=(O,L)=>{const z=L[1];T(O,L),ue(O)?O.every(te=>te.length<=1)&&z():O.length<=1&&z()},k={mode:s,persisted:o,beforeEnter(O){let L=a;if(!n.isMounted)if(i)L=m||a;else return;O._leaveCb&&O._leaveCb(!0);const z=E[y];z&&Yn(t,z)&&z.el._leaveCb&&z.el._leaveCb(),T(L,[O])},enter(O){let L=c,z=u,te=l;if(!n.isMounted)if(i)L=g||c,z=w||u,te=v||l;else return;let $=!1;const ae=O._enterCb=B=>{$||($=!0,B?T(te,[O]):T(z,[O]),k.delayedLeave&&k.delayedLeave(),O._enterCb=void 0)};L?x(L,[O,ae]):ae()},leave(O,L){const z=String(t.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return L();T(f,[O]);let te=!1;const $=O._leaveCb=ae=>{te||(te=!0,L(),ae?T(p,[O]):T(d,[O]),O._leaveCb=void 0,E[z]===t&&delete E[z])};E[z]=t,h?x(h,[O,$]):$()},clone(O){return Ys(O,e,n,r)}};return k}function wu(t){if(wc(t))return t=Dn(t),t.children=null,t}function gp(t){return wc(t)?t.children?t.children[0]:void 0:t}function Di(t,e){t.shapeFlag&6&&t.component?Di(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gh(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Mt?(o.patchFlag&128&&i++,r=r.concat(gh(o.children,e,a))):(e||o.type!==Wt)&&r.push(a!=null?Dn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function vh(t){return ge(t)?{setup:t,name:t.name}:t}const wi=t=>!!t.type.__asyncLoader,wc=t=>t.type.__isKeepAlive,xT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=xt(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:u,um:l,o:{createElement:f}}}=r,h=f("div");r.activate=(v,y,E,T,x)=>{const k=v.component;u(v,y,E,0,a),c(k.vnode,v,y,E,k,a,T,v.slotScopeIds,x),pt(()=>{k.isDeactivated=!1,k.a&&As(k.a);const O=v.props&&v.props.onVnodeMounted;O&&zt(O,k.parent,v)},a)},r.deactivate=v=>{const y=v.component;u(v,h,null,1,a),pt(()=>{y.da&&As(y.da);const E=v.props&&v.props.onVnodeUnmounted;E&&zt(E,y.parent,v),y.isDeactivated=!0},a)};function d(v){_u(v),l(v,n,a,!0)}function p(v){i.forEach((y,E)=>{const T=Dl(y.type);T&&(!v||!v(T))&&m(E)})}function m(v){const y=i.get(v);!o||!Yn(y,o)?d(y):o&&_u(o),i.delete(v),s.delete(v)}Ct(()=>[t.include,t.exclude],([v,y])=>{v&&p(E=>ws(v,E)),y&&p(E=>!ws(y,E))},{flush:"post",deep:!0});let g=null;const w=()=>{g!=null&&i.set(g,Eu(n.subTree))};return Ec(w),bh(w),fn(()=>{i.forEach(v=>{const{subTree:y,suspense:E}=n,T=Eu(y);if(v.type===T.type&&v.key===T.key){_u(T);const x=T.component.da;x&&pt(x,E);return}d(v)})}),()=>{if(g=null,!e.default)return null;const v=e.default(),y=v[0];if(v.length>1)return o=null,v;if(!Xs(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let E=Eu(y);const T=E.type,x=Dl(wi(E)?E.type.__asyncResolved||{}:T),{include:k,exclude:O,max:L}=t;if(k&&(!x||!ws(k,x))||O&&x&&ws(O,x))return o=E,y;const z=E.key==null?T:E.key,te=i.get(z);return E.el&&(E=Dn(E),y.shapeFlag&128&&(y.ssContent=E)),g=z,te?(E.el=te.el,E.component=te.component,E.transition&&Di(E,E.transition),E.shapeFlag|=512,s.delete(z),s.add(z)):(s.add(z),L&&s.size>parseInt(L,10)&&m(s.values().next().value)),E.shapeFlag|=256,o=E,py(y.type)?y:E}}},DT=xT;function ws(t,e){return ue(t)?t.some(n=>ws(n,e)):Ue(t)?t.split(",").includes(e):k0(t)?t.test(e):!1}function AT(t,e){wy(t,"a",e)}function yh(t,e){wy(t,"da",e)}function wy(t,e,n=We){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(_c(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wc(i.parent.vnode)&&NT(r,e,n,i),i=i.parent}}function NT(t,e,n,r){const i=_c(e,t,r,!0);Tc(()=>{ih(r[e],i)},n)}function _u(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Eu(t){return t.shapeFlag&128?t.ssContent:t}function _c(t,e,n=We,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ji(),Ai(n);const a=Ht(e,n,t,o);return Dr(),Xi(),a});return r?i.unshift(s):i.push(s),s}}const Vn=t=>(e,n=We)=>(!Zs||t==="sp")&&_c(t,(...r)=>e(...r),n),RT=Vn("bm"),Ec=Vn("m"),PT=Vn("bu"),bh=Vn("u"),fn=Vn("bum"),Tc=Vn("um"),MT=Vn("sp"),LT=Vn("rtg"),FT=Vn("rtc");function VT(t,e=We){_c("ec",t,e)}function wh(t,e){const n=gt;if(n===null)return t;const r=Ic(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,c,u=Le]=e[s];o&&(ge(o)&&(o={mounted:o,updated:o}),o.deep&&Tr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:u}))}return t}function pr(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(Ji(),Ht(c,n,8,[t.el,a,t,e]),Xi())}}const _h="components";function jT(t,e){return Ey(_h,t,!0,e)||t}const _y=Symbol();function $T(t){return Ue(t)?Ey(_h,t,!1)||t:t||_y}function Ey(t,e,n=!0,r=!1){const i=gt||We;if(i){const s=i.type;if(t===_h){const a=Dl(s,!1);if(a&&(a===e||a===wn(e)||a===mc(wn(e))))return s}const o=vp(i[t]||s[t],e)||vp(i.appContext[t],e);return!o&&r?s:o}}function vp(t,e){return t&&(t[e]||t[wn(e)]||t[mc(wn(e))])}function MF(t,e,n,r){let i;const s=n&&n[r];if(ue(t)||Ue(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function LF(t,e,n={},r,i){if(gt.isCE||gt.parent&&wi(gt.parent)&&gt.parent.isCE)return e!=="default"&&(n.name=e),Fe("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),_i();const o=s&&Ty(s(n)),a=Ma(Mt,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Ty(t){return t.some(e=>Xs(e)?!(e.type===Wt||e.type===Mt&&!Ty(e.children)):!0)?t:null}const Sl=t=>t?My(t)?Ic(t)||t.proxy:Sl(t.parent):null,Rs=ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sl(t.parent),$root:t=>Sl(t.root),$emit:t=>t.emit,$options:t=>Eh(t),$forceUpdate:t=>t.f||(t.f=()=>mh(t.update)),$nextTick:t=>t.n||(t.n=xi.bind(t.proxy)),$watch:t=>OT.bind(t)}),Tu=(t,e)=>t!==Le&&!t.__isScriptSetup&&Te(t,e),qT={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Tu(r,e))return o[e]=1,r[e];if(i!==Le&&Te(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Te(u,e))return o[e]=3,s[e];if(n!==Le&&Te(n,e))return o[e]=4,n[e];Cl&&(o[e]=0)}}const l=Rs[e];let f,h;if(l)return e==="$attrs"&&Ft(t,"get",e),l(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Le&&Te(n,e))return o[e]=4,n[e];if(h=c.config.globalProperties,Te(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Tu(i,e)?(i[e]=n,!0):r!==Le&&Te(r,e)?(r[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Le&&Te(t,o)||Tu(e,o)||(a=s[0])&&Te(a,o)||Te(r,o)||Te(Rs,o)||Te(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Cl=!0;function BT(t){const e=Eh(t),n=t.proxy,r=t.ctx;Cl=!1,e.beforeCreate&&yp(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:w,beforeUnmount:v,destroyed:y,unmounted:E,render:T,renderTracked:x,renderTriggered:k,errorCaptured:O,serverPrefetch:L,expose:z,inheritAttrs:te,components:$,directives:ae,filters:B}=e;if(u&&UT(u,r,null,t.appContext.config.unwrapInjectedRef),o)for(const be in o){const fe=o[be];ge(fe)&&(r[be]=fe.bind(n))}if(i){const be=i.call(n,n);Ve(be)&&(t.data=Fn(be))}if(Cl=!0,s)for(const be in s){const fe=s[be],ft=ge(fe)?fe.bind(n,n):ge(fe.get)?fe.get.bind(n,n):an,Ge=!ge(fe)&&ge(fe.set)?fe.set.bind(n):an,ht=W({get:ft,set:Ge});Object.defineProperty(r,be,{enumerable:!0,configurable:!0,get:()=>ht.value,set:tt=>ht.value=tt})}if(a)for(const be in a)Sy(a[be],r,n,be);if(c){const be=ge(c)?c.call(n):c;Reflect.ownKeys(be).forEach(fe=>{Ns(fe,be[fe])})}l&&yp(l,t,"c");function le(be,fe){ue(fe)?fe.forEach(ft=>be(ft.bind(n))):fe&&be(fe.bind(n))}if(le(RT,f),le(Ec,h),le(PT,d),le(bh,p),le(AT,m),le(yh,g),le(VT,O),le(FT,x),le(LT,k),le(fn,v),le(Tc,E),le(MT,L),ue(z))if(z.length){const be=t.exposed||(t.exposed={});z.forEach(fe=>{Object.defineProperty(be,fe,{get:()=>n[fe],set:ft=>n[fe]=ft})})}else t.exposed||(t.exposed={});T&&t.render===an&&(t.render=T),te!=null&&(t.inheritAttrs=te),$&&(t.components=$),ae&&(t.directives=ae)}function UT(t,e,n=an,r=!1){ue(t)&&(t=Il(t));for(const i in t){const s=t[i];let o;Ve(s)?"default"in s?o=Gt(s.from||i,s.default,!0):o=Gt(s.from||i):o=Gt(s),Ye(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function yp(t,e,n){Ht(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sy(t,e,n,r){const i=r.includes(".")?gy(n,r):()=>n[r];if(Ue(t)){const s=e[t];ge(s)&&Ct(i,s)}else if(ge(t))Ct(i,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(s=>Sy(s,e,n,r));else{const s=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(s)&&Ct(i,s,t)}}function Eh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(u=>Pa(c,u,o,!0)),Pa(c,e,o)),Ve(e)&&s.set(e,c),c}function Pa(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Pa(t,s,n,!0),i&&i.forEach(o=>Pa(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=QT[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const QT={data:bp,props:yr,emits:yr,methods:yr,computed:yr,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:yr,directives:yr,watch:KT,provide:bp,inject:zT};function bp(t,e){return e?t?function(){return ut(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function zT(t,e){return yr(Il(t),Il(e))}function Il(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function At(t,e){return t?[...new Set([].concat(t,e))]:e}function yr(t,e){return t?ut(ut(Object.create(null),t),e):e}function KT(t,e){if(!t)return e;if(!e)return t;const n=ut(Object.create(null),t);for(const r in e)n[r]=At(t[r],e[r]);return n}function HT(t,e,n,r=!1){const i={},s={};Aa(s,Cc,1),t.propsDefaults=Object.create(null),Cy(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:lT(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function GT(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Se(i),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(yc(t.emitsOptions,h))continue;const d=e[h];if(c)if(Te(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=wn(h);i[p]=Ol(c,a,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{Cy(t,e,i,s)&&(u=!0);let l;for(const f in a)(!e||!Te(e,f)&&((l=Yi(f))===f||!Te(e,l)))&&(c?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=Ol(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Te(e,f)&&!0)&&(delete s[f],u=!0)}u&&xn(t,"set","$attrs")}function Cy(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(la(c))continue;const u=e[c];let l;i&&Te(i,l=wn(c))?!s||!s.includes(l)?n[l]=u:(a||(a={}))[l]=u:yc(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=Se(n),u=a||Le;for(let l=0;l<s.length;l++){const f=s[l];n[f]=Ol(i,c,f,u[f],t,!Te(u,f))}}return o}function Ol(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Te(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&ge(c)){const{propsDefaults:u}=i;n in u?r=u[n]:(Ai(i),r=u[n]=c.call(null,e),Dr())}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Yi(n))&&(r=!0))}return r}function Iy(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!ge(t)){const l=f=>{c=!0;const[h,d]=Iy(f,e,!0);ut(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!s&&!c)return Ve(t)&&r.set(t,gi),gi;if(ue(s))for(let l=0;l<s.length;l++){const f=wn(s[l]);wp(f)&&(o[f]=Le)}else if(s)for(const l in s){const f=wn(l);if(wp(f)){const h=s[l],d=o[f]=ue(h)||ge(h)?{type:h}:Object.assign({},h);if(d){const p=Tp(Boolean,d.type),m=Tp(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Te(d,"default"))&&a.push(f)}}}const u=[o,a];return Ve(t)&&r.set(t,u),u}function wp(t){return t[0]!=="$"}function _p(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Ep(t,e){return _p(t)===_p(e)}function Tp(t,e){return ue(e)?e.findIndex(n=>Ep(n,t)):ge(e)&&Ep(e,t)?0:-1}const Oy=t=>t[0]==="_"||t==="$stable",Th=t=>ue(t)?t.map(gn):[gn(t)],WT=(t,e,n)=>{if(e._n)return e;const r=On((...i)=>Th(e(...i)),n);return r._c=!1,r},ky=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Oy(i))continue;const s=t[i];if(ge(s))e[i]=WT(i,s,r);else if(s!=null){const o=Th(s);e[i]=()=>o}}},xy=(t,e)=>{const n=Th(e);t.slots.default=()=>n},YT=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Se(e),Aa(e,"_",n)):ky(e,t.slots={})}else t.slots={},e&&xy(t,e);Aa(t.slots,Cc,1)},JT=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Le;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(ut(i,e),!n&&a===1&&delete i._):(s=!e.$stable,ky(e,i)),o=e}else e&&(xy(t,e),o={default:1});if(s)for(const a in i)!Oy(a)&&!(a in o)&&delete i[a]};function Dy(){return{app:null,config:{isNativeTag:C0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XT=0;function ZT(t,e){return function(r,i=null){ge(r)||(r=Object.assign({},r)),i!=null&&!Ve(i)&&(i=null);const s=Dy(),o=new Set;let a=!1;const c=s.app={_uid:XT++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:_S,get config(){return s.config},set config(u){},use(u,...l){return o.has(u)||(u&&ge(u.install)?(o.add(u),u.install(c,...l)):ge(u)&&(o.add(u),u(c,...l))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,l){return l?(s.components[u]=l,c):s.components[u]},directive(u,l){return l?(s.directives[u]=l,c):s.directives[u]},mount(u,l,f){if(!a){const h=Fe(r,i);return h.appContext=s,l&&e?e(h,u):t(h,u,f),a=!0,c._container=u,u.__vue_app__=c,Ic(h.component)||h.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,l){return s.provides[u]=l,c}};return c}}function kl(t,e,n,r,i=!1){if(ue(t)){t.forEach((h,d)=>kl(h,e&&(ue(e)?e[d]:e),n,r,i));return}if(wi(r)&&!i)return;const s=r.shapeFlag&4?Ic(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,u=e&&e.r,l=a.refs===Le?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(Ue(u)?(l[u]=null,Te(f,u)&&(f[u]=null)):Ye(u)&&(u.value=null)),ge(c))Xn(c,a,12,[o,l]);else{const h=Ue(c),d=Ye(c);if(h||d){const p=()=>{if(t.f){const m=h?Te(f,c)?f[c]:l[c]:c.value;i?ue(m)&&ih(m,s):ue(m)?m.includes(s)||m.push(s):h?(l[c]=[s],Te(f,c)&&(f[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else h?(l[c]=o,Te(f,c)&&(f[c]=o)):d&&(c.value=o,t.k&&(l[t.k]=o))};o?(p.id=-1,pt(p,n)):p()}}}const pt=IT;function eS(t){return tS(t)}function tS(t,e){const n=P0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:h,setScopeId:d=an,insertStaticContent:p}=t,m=(b,_,I,D=null,N=null,j=null,K=!1,V=null,q=!!_.dynamicChildren)=>{if(b===_)return;b&&!Yn(b,_)&&(D=U(b),tt(b,N,j,!0),b=null),_.patchFlag===-2&&(q=!1,_.dynamicChildren=null);const{type:R,ref:re,shapeFlag:Y}=_;switch(R){case Sc:g(b,_,I,D);break;case Wt:w(b,_,I,D);break;case Su:b==null&&v(_,I,D,K);break;case Mt:$(b,_,I,D,N,j,K,V,q);break;default:Y&1?T(b,_,I,D,N,j,K,V,q):Y&6?ae(b,_,I,D,N,j,K,V,q):(Y&64||Y&128)&&R.process(b,_,I,D,N,j,K,V,q,ye)}re!=null&&N&&kl(re,b&&b.ref,j,_||b,!_)},g=(b,_,I,D)=>{if(b==null)r(_.el=a(_.children),I,D);else{const N=_.el=b.el;_.children!==b.children&&u(N,_.children)}},w=(b,_,I,D)=>{b==null?r(_.el=c(_.children||""),I,D):_.el=b.el},v=(b,_,I,D)=>{[b.el,b.anchor]=p(b.children,_,I,D,b.el,b.anchor)},y=({el:b,anchor:_},I,D)=>{let N;for(;b&&b!==_;)N=h(b),r(b,I,D),b=N;r(_,I,D)},E=({el:b,anchor:_})=>{let I;for(;b&&b!==_;)I=h(b),i(b),b=I;i(_)},T=(b,_,I,D,N,j,K,V,q)=>{K=K||_.type==="svg",b==null?x(_,I,D,N,j,K,V,q):L(b,_,N,j,K,V,q)},x=(b,_,I,D,N,j,K,V)=>{let q,R;const{type:re,props:Y,shapeFlag:ie,transition:de,dirs:we}=b;if(q=b.el=o(b.type,j,Y&&Y.is,Y),ie&8?l(q,b.children):ie&16&&O(b.children,q,null,D,N,j&&re!=="foreignObject",K,V),we&&pr(b,null,D,"created"),k(q,b,b.scopeId,K,D),Y){for(const De in Y)De!=="value"&&!la(De)&&s(q,De,null,Y[De],j,b.children,D,N,F);"value"in Y&&s(q,"value",null,Y.value),(R=Y.onVnodeBeforeMount)&&zt(R,D,b)}we&&pr(b,null,D,"beforeMount");const Re=(!N||N&&!N.pendingBranch)&&de&&!de.persisted;Re&&de.beforeEnter(q),r(q,_,I),((R=Y&&Y.onVnodeMounted)||Re||we)&&pt(()=>{R&&zt(R,D,b),Re&&de.enter(q),we&&pr(b,null,D,"mounted")},N)},k=(b,_,I,D,N)=>{if(I&&d(b,I),D)for(let j=0;j<D.length;j++)d(b,D[j]);if(N){let j=N.subTree;if(_===j){const K=N.vnode;k(b,K,K.scopeId,K.slotScopeIds,N.parent)}}},O=(b,_,I,D,N,j,K,V,q=0)=>{for(let R=q;R<b.length;R++){const re=b[R]=V?Qn(b[R]):gn(b[R]);m(null,re,_,I,D,N,j,K,V)}},L=(b,_,I,D,N,j,K)=>{const V=_.el=b.el;let{patchFlag:q,dynamicChildren:R,dirs:re}=_;q|=b.patchFlag&16;const Y=b.props||Le,ie=_.props||Le;let de;I&&mr(I,!1),(de=ie.onVnodeBeforeUpdate)&&zt(de,I,_,b),re&&pr(_,b,I,"beforeUpdate"),I&&mr(I,!0);const we=N&&_.type!=="foreignObject";if(R?z(b.dynamicChildren,R,V,I,D,we,j):K||fe(b,_,V,null,I,D,we,j,!1),q>0){if(q&16)te(V,_,Y,ie,I,D,N);else if(q&2&&Y.class!==ie.class&&s(V,"class",null,ie.class,N),q&4&&s(V,"style",Y.style,ie.style,N),q&8){const Re=_.dynamicProps;for(let De=0;De<Re.length;De++){const Je=Re[De],Xt=Y[Je],Jr=ie[Je];(Jr!==Xt||Je==="value")&&s(V,Je,Xt,Jr,N,b.children,I,D,F)}}q&1&&b.children!==_.children&&l(V,_.children)}else!K&&R==null&&te(V,_,Y,ie,I,D,N);((de=ie.onVnodeUpdated)||re)&&pt(()=>{de&&zt(de,I,_,b),re&&pr(_,b,I,"updated")},D)},z=(b,_,I,D,N,j,K)=>{for(let V=0;V<_.length;V++){const q=b[V],R=_[V],re=q.el&&(q.type===Mt||!Yn(q,R)||q.shapeFlag&70)?f(q.el):I;m(q,R,re,null,D,N,j,K,!0)}},te=(b,_,I,D,N,j,K)=>{if(I!==D){if(I!==Le)for(const V in I)!la(V)&&!(V in D)&&s(b,V,I[V],null,K,_.children,N,j,F);for(const V in D){if(la(V))continue;const q=D[V],R=I[V];q!==R&&V!=="value"&&s(b,V,R,q,K,_.children,N,j,F)}"value"in D&&s(b,"value",I.value,D.value)}},$=(b,_,I,D,N,j,K,V,q)=>{const R=_.el=b?b.el:a(""),re=_.anchor=b?b.anchor:a("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:de}=_;de&&(V=V?V.concat(de):de),b==null?(r(R,I,D),r(re,I,D),O(_.children,I,re,N,j,K,V,q)):Y>0&&Y&64&&ie&&b.dynamicChildren?(z(b.dynamicChildren,ie,I,N,j,K,V),(_.key!=null||N&&_===N.subTree)&&Sh(b,_,!0)):fe(b,_,I,re,N,j,K,V,q)},ae=(b,_,I,D,N,j,K,V,q)=>{_.slotScopeIds=V,b==null?_.shapeFlag&512?N.ctx.activate(_,I,D,K,q):B(_,I,D,N,j,K,q):ee(b,_,q)},B=(b,_,I,D,N,j,K)=>{const V=b.component=dS(b,D,N);if(wc(b)&&(V.ctx.renderer=ye),pS(V),V.asyncDep){if(N&&N.registerDep(V,le),!b.el){const q=V.subTree=Fe(Wt);w(null,q,_,I)}return}le(V,b,_,I,N,j,K)},ee=(b,_,I)=>{const D=_.component=b.component;if(ST(b,_,I))if(D.asyncDep&&!D.asyncResolved){be(D,_,I);return}else D.next=_,yT(D.update),D.update();else _.el=b.el,D.vnode=_},le=(b,_,I,D,N,j,K)=>{const V=()=>{if(b.isMounted){let{next:re,bu:Y,u:ie,parent:de,vnode:we}=b,Re=re,De;mr(b,!1),re?(re.el=we.el,be(b,re,K)):re=we,Y&&As(Y),(De=re.props&&re.props.onVnodeBeforeUpdate)&&zt(De,de,re,we),mr(b,!0);const Je=bu(b),Xt=b.subTree;b.subTree=Je,m(Xt,Je,f(Xt.el),U(Xt),b,N,j),re.el=Je.el,Re===null&&CT(b,Je.el),ie&&pt(ie,N),(De=re.props&&re.props.onVnodeUpdated)&&pt(()=>zt(De,de,re,we),N)}else{let re;const{el:Y,props:ie}=_,{bm:de,m:we,parent:Re}=b,De=wi(_);if(mr(b,!1),de&&As(de),!De&&(re=ie&&ie.onVnodeBeforeMount)&&zt(re,Re,_),mr(b,!0),Y&&ve){const Je=()=>{b.subTree=bu(b),ve(Y,b.subTree,b,N,null)};De?_.type.__asyncLoader().then(()=>!b.isUnmounted&&Je()):Je()}else{const Je=b.subTree=bu(b);m(null,Je,I,D,b,N,j),_.el=Je.el}if(we&&pt(we,N),!De&&(re=ie&&ie.onVnodeMounted)){const Je=_;pt(()=>zt(re,Re,Je),N)}(_.shapeFlag&256||Re&&wi(Re.vnode)&&Re.vnode.shapeFlag&256)&&b.a&&pt(b.a,N),b.isMounted=!0,_=I=D=null}},q=b.effect=new ch(V,()=>mh(R),b.scope),R=b.update=()=>q.run();R.id=b.uid,mr(b,!0),R()},be=(b,_,I)=>{_.component=b;const D=b.vnode.props;b.vnode=_,b.next=null,GT(b,_.props,D,I),JT(b,_.children,I),Ji(),pp(),Xi()},fe=(b,_,I,D,N,j,K,V,q=!1)=>{const R=b&&b.children,re=b?b.shapeFlag:0,Y=_.children,{patchFlag:ie,shapeFlag:de}=_;if(ie>0){if(ie&128){Ge(R,Y,I,D,N,j,K,V,q);return}else if(ie&256){ft(R,Y,I,D,N,j,K,V,q);return}}de&8?(re&16&&F(R,N,j),Y!==R&&l(I,Y)):re&16?de&16?Ge(R,Y,I,D,N,j,K,V,q):F(R,N,j,!0):(re&8&&l(I,""),de&16&&O(Y,I,D,N,j,K,V,q))},ft=(b,_,I,D,N,j,K,V,q)=>{b=b||gi,_=_||gi;const R=b.length,re=_.length,Y=Math.min(R,re);let ie;for(ie=0;ie<Y;ie++){const de=_[ie]=q?Qn(_[ie]):gn(_[ie]);m(b[ie],de,I,null,N,j,K,V,q)}R>re?F(b,N,j,!0,!1,Y):O(_,I,D,N,j,K,V,q,Y)},Ge=(b,_,I,D,N,j,K,V,q)=>{let R=0;const re=_.length;let Y=b.length-1,ie=re-1;for(;R<=Y&&R<=ie;){const de=b[R],we=_[R]=q?Qn(_[R]):gn(_[R]);if(Yn(de,we))m(de,we,I,null,N,j,K,V,q);else break;R++}for(;R<=Y&&R<=ie;){const de=b[Y],we=_[ie]=q?Qn(_[ie]):gn(_[ie]);if(Yn(de,we))m(de,we,I,null,N,j,K,V,q);else break;Y--,ie--}if(R>Y){if(R<=ie){const de=ie+1,we=de<re?_[de].el:D;for(;R<=ie;)m(null,_[R]=q?Qn(_[R]):gn(_[R]),I,we,N,j,K,V,q),R++}}else if(R>ie)for(;R<=Y;)tt(b[R],N,j,!0),R++;else{const de=R,we=R,Re=new Map;for(R=we;R<=ie;R++){const jt=_[R]=q?Qn(_[R]):gn(_[R]);jt.key!=null&&Re.set(jt.key,R)}let De,Je=0;const Xt=ie-we+1;let Jr=!1,np=0;const cs=new Array(Xt);for(R=0;R<Xt;R++)cs[R]=0;for(R=de;R<=Y;R++){const jt=b[R];if(Je>=Xt){tt(jt,N,j,!0);continue}let pn;if(jt.key!=null)pn=Re.get(jt.key);else for(De=we;De<=ie;De++)if(cs[De-we]===0&&Yn(jt,_[De])){pn=De;break}pn===void 0?tt(jt,N,j,!0):(cs[pn-we]=R+1,pn>=np?np=pn:Jr=!0,m(jt,_[pn],I,null,N,j,K,V,q),Je++)}const rp=Jr?nS(cs):gi;for(De=rp.length-1,R=Xt-1;R>=0;R--){const jt=we+R,pn=_[jt],ip=jt+1<re?_[jt+1].el:D;cs[R]===0?m(null,pn,I,ip,N,j,K,V,q):Jr&&(De<0||R!==rp[De]?ht(pn,I,ip,2):De--)}}},ht=(b,_,I,D,N=null)=>{const{el:j,type:K,transition:V,children:q,shapeFlag:R}=b;if(R&6){ht(b.component.subTree,_,I,D);return}if(R&128){b.suspense.move(_,I,D);return}if(R&64){K.move(b,_,I,ye);return}if(K===Mt){r(j,_,I);for(let Y=0;Y<q.length;Y++)ht(q[Y],_,I,D);r(b.anchor,_,I);return}if(K===Su){y(b,_,I);return}if(D!==2&&R&1&&V)if(D===0)V.beforeEnter(j),r(j,_,I),pt(()=>V.enter(j),N);else{const{leave:Y,delayLeave:ie,afterLeave:de}=V,we=()=>r(j,_,I),Re=()=>{Y(j,()=>{we(),de&&de()})};ie?ie(j,we,Re):Re()}else r(j,_,I)},tt=(b,_,I,D=!1,N=!1)=>{const{type:j,props:K,ref:V,children:q,dynamicChildren:R,shapeFlag:re,patchFlag:Y,dirs:ie}=b;if(V!=null&&kl(V,null,I,b,!0),re&256){_.ctx.deactivate(b);return}const de=re&1&&ie,we=!wi(b);let Re;if(we&&(Re=K&&K.onVnodeBeforeUnmount)&&zt(Re,_,b),re&6)S(b.component,I,D);else{if(re&128){b.suspense.unmount(I,D);return}de&&pr(b,null,_,"beforeUnmount"),re&64?b.type.remove(b,_,I,N,ye,D):R&&(j!==Mt||Y>0&&Y&64)?F(R,_,I,!1,!0):(j===Mt&&Y&384||!N&&re&16)&&F(q,_,I),D&&dn(b)}(we&&(Re=K&&K.onVnodeUnmounted)||de)&&pt(()=>{Re&&zt(Re,_,b),de&&pr(b,null,_,"unmounted")},I)},dn=b=>{const{type:_,el:I,anchor:D,transition:N}=b;if(_===Mt){Yr(I,D);return}if(_===Su){E(b);return}const j=()=>{i(I),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(b.shapeFlag&1&&N&&!N.persisted){const{leave:K,delayLeave:V}=N,q=()=>K(I,j);V?V(b.el,j,q):q()}else j()},Yr=(b,_)=>{let I;for(;b!==_;)I=h(b),i(b),b=I;i(_)},S=(b,_,I)=>{const{bum:D,scope:N,update:j,subTree:K,um:V}=b;D&&As(D),N.stop(),j&&(j.active=!1,tt(K,b,_,I)),V&&pt(V,_),pt(()=>{b.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},F=(b,_,I,D=!1,N=!1,j=0)=>{for(let K=j;K<b.length;K++)tt(b[K],_,I,D,N)},U=b=>b.shapeFlag&6?U(b.component.subTree):b.shapeFlag&128?b.suspense.next():h(b.anchor||b.el),X=(b,_,I)=>{b==null?_._vnode&&tt(_._vnode,null,null,!0):m(_._vnode||null,b,_,null,null,null,I),pp(),fy(),_._vnode=b},ye={p:m,um:tt,m:ht,r:dn,mt:B,mc:O,pc:fe,pbc:z,n:U,o:t};let qe,ve;return e&&([qe,ve]=e(ye)),{render:X,hydrate:qe,createApp:ZT(X,qe)}}function mr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Sh(t,e,n=!1){const r=t.children,i=e.children;if(ue(r)&&ue(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Qn(i[s]),a.el=o.el),n||Sh(o,a)),a.type===Sc&&(a.el=o.el)}}function nS(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const rS=t=>t.__isTeleport,Ps=t=>t&&(t.disabled||t.disabled===""),Sp=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,xl=(t,e)=>{const n=t&&t.to;return Ue(n)?e?e(n):null:n},iS={__isTeleport:!0,process(t,e,n,r,i,s,o,a,c,u){const{mc:l,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:m,createComment:g}}=u,w=Ps(e.props);let{shapeFlag:v,children:y,dynamicChildren:E}=e;if(t==null){const T=e.el=m(""),x=e.anchor=m("");d(T,n,r),d(x,n,r);const k=e.target=xl(e.props,p),O=e.targetAnchor=m("");k&&(d(O,k),o=o||Sp(k));const L=(z,te)=>{v&16&&l(y,z,te,i,s,o,a,c)};w?L(n,x):k&&L(k,O)}else{e.el=t.el;const T=e.anchor=t.anchor,x=e.target=t.target,k=e.targetAnchor=t.targetAnchor,O=Ps(t.props),L=O?n:x,z=O?T:k;if(o=o||Sp(x),E?(h(t.dynamicChildren,E,L,i,s,o,a),Sh(t,e,!0)):c||f(t,e,L,z,i,s,o,a,!1),w)O||Yo(e,n,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const te=e.target=xl(e.props,p);te&&Yo(e,te,null,u,0)}else O&&Yo(e,x,k,u,1)}Ay(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:c,anchor:u,targetAnchor:l,target:f,props:h}=t;if(f&&s(l),(o||!Ps(h))&&(s(u),a&16))for(let d=0;d<c.length;d++){const p=c[d];i(p,e,n,!0,!!p.dynamicChildren)}},move:Yo,hydrate:sS};function Yo(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:l}=t,f=s===2;if(f&&r(o,e,n),(!f||Ps(l))&&c&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);f&&r(a,e,n)}function sS(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c}},u){const l=e.target=xl(e.props,c);if(l){const f=l._lpa||l.firstChild;if(e.shapeFlag&16)if(Ps(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=f;else{e.anchor=o(t);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,l._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,l,n,r,i,s)}Ay(e)}return e.anchor&&o(e.anchor)}const oS=iS;function Ay(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Mt=Symbol(void 0),Sc=Symbol(void 0),Wt=Symbol(void 0),Su=Symbol(void 0),Ms=[];let on=null;function _i(t=!1){Ms.push(on=t?null:[])}function aS(){Ms.pop(),on=Ms[Ms.length-1]||null}let Js=1;function Cp(t){Js+=t}function Ny(t){return t.dynamicChildren=Js>0?on||gi:null,aS(),Js>0&&on&&on.push(t),t}function Ry(t,e,n,r,i,s){return Ny(mn(t,e,n,r,i,s,!0))}function Ma(t,e,n,r,i){return Ny(Fe(t,e,n,r,i,!0))}function Xs(t){return t?t.__v_isVNode===!0:!1}function Yn(t,e){return t.type===e.type&&t.key===e.key}const Cc="__vInternal",Py=({key:t})=>t!=null?t:null,fa=({ref:t,ref_key:e,ref_for:n})=>t!=null?Ue(t)||Ye(t)||ge(t)?{i:gt,r:t,k:e,f:!!n}:t:null;function mn(t,e=null,n=null,r=0,i=null,s=t===Mt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Py(e),ref:e&&fa(e),scopeId:bc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:gt};return a?(Ch(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=Ue(n)?8:16),Js>0&&!o&&on&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&on.push(c),c}const Fe=cS;function cS(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===_y)&&(t=Wt),Xs(t)){const a=Dn(t,e,!0);return n&&Ch(a,n),Js>0&&!s&&on&&(a.shapeFlag&6?on[on.indexOf(t)]=a:on.push(a)),a.patchFlag|=-2,a}if(yS(t)&&(t=t.__vccOpts),e){e=uS(e);let{class:a,style:c}=e;a&&!Ue(a)&&(e.class=nh(a)),Ve(c)&&(ry(c)&&!ue(c)&&(c=ut({},c)),e.style=th(c))}const o=Ue(t)?1:py(t)?128:rS(t)?64:Ve(t)?4:ge(t)?2:0;return mn(t,e,n,r,i,o,s,!0)}function uS(t){return t?ry(t)||Cc in t?ut({},t):t:null}function Dn(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?lS(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Py(a),ref:e&&e.ref?n&&i?ue(i)?i.concat(fa(e)):[i,fa(e)]:fa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Mt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dn(t.ssContent),ssFallback:t.ssFallback&&Dn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function _s(t=" ",e=0){return Fe(Sc,null,t,e)}function FF(t="",e=!1){return e?(_i(),Ma(Wt,null,t)):Fe(Wt,null,t)}function gn(t){return t==null||typeof t=="boolean"?Fe(Wt):ue(t)?Fe(Mt,null,t.slice()):typeof t=="object"?Qn(t):Fe(Sc,null,String(t))}function Qn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dn(t)}function Ch(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ch(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Cc in e)?e._ctx=gt:i===3&&gt&&(gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:gt},n=32):(e=String(e),r&64?(n=16,e=[_s(e)]):n=8);t.children=e,t.shapeFlag|=n}function lS(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=nh([e.class,r.class]));else if(i==="style")e.style=th([e.style,r.style]);else if(dc(i)){const s=e[i],o=r[i];o&&s!==o&&!(ue(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function zt(t,e,n,r=null){Ht(t,e,7,[n,r])}const fS=Dy();let hS=0;function dS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||fS,s={uid:hS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new zv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Iy(r,i),emitsOptions:dy(r,i),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:r.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=_T.bind(null,s),t.ce&&t.ce(s),s}let We=null;const xt=()=>We||gt,Ai=t=>{We=t,t.scope.on()},Dr=()=>{We&&We.scope.off(),We=null};function My(t){return t.vnode.shapeFlag&4}let Zs=!1;function pS(t,e=!1){Zs=e;const{props:n,children:r}=t.vnode,i=My(t);HT(t,n,i,e),YT(t,r);const s=i?mS(t,e):void 0;return Zs=!1,s}function mS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Zi(new Proxy(t.ctx,qT));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?vS(t):null;Ai(t),Ji();const s=Xn(r,t,0,[t.props,i]);if(Xi(),Dr(),Bv(s)){if(s.then(Dr,Dr),e)return s.then(o=>{Ip(t,o,e)}).catch(o=>{vc(o,t,0)});t.asyncDep=s}else Ip(t,s,e)}else Ly(t,e)}function Ip(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=ay(e)),Ly(t,n)}let Op;function Ly(t,e,n){const r=t.type;if(!t.render){if(!e&&Op&&!r.render){const i=r.template||Eh(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,u=ut(ut({isCustomElement:s,delimiters:a},o),c);r.render=Op(i,u)}}t.render=r.render||an}Ai(t),Ji(),BT(t),Xi(),Dr()}function gS(t){return new Proxy(t.attrs,{get(e,n){return Ft(t,"get","$attrs"),e[n]}})}function vS(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=gS(t))},slots:t.slots,emit:t.emit,expose:e}}function Ic(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ay(Zi(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rs)return Rs[n](t)},has(e,n){return n in e||n in Rs}}))}function Dl(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function yS(t){return ge(t)&&"__vccOpts"in t}const W=(t,e)=>mT(t,e,Zs);function ne(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!ue(e)?Xs(e)?Fe(t,null,[e]):Fe(t,e):Fe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xs(n)&&(n=[n]),Fe(t,e,n))}const bS=Symbol(""),wS=()=>Gt(bS),_S="3.2.47",ES="http://www.w3.org/2000/svg",Er=typeof document!="undefined"?document:null,kp=Er&&Er.createElement("template"),TS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Er.createElementNS(ES,t):Er.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Er.createTextNode(t),createComment:t=>Er.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Er.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{kp.innerHTML=r?`<svg>${t}</svg>`:t;const a=kp.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function SS(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function CS(t,e,n){const r=t.style,i=Ue(n);if(n&&!i){if(e&&!Ue(e))for(const s in e)n[s]==null&&Al(r,s,"");for(const s in n)Al(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const xp=/\s*!important$/;function Al(t,e,n){if(ue(n))n.forEach(r=>Al(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=IS(t,e);xp.test(n)?t.setProperty(Yi(r),n.replace(xp,""),"important"):t[r]=n}}const Dp=["Webkit","Moz","ms"],Cu={};function IS(t,e){const n=Cu[e];if(n)return n;let r=wn(e);if(r!=="filter"&&r in t)return Cu[e]=r;r=mc(r);for(let i=0;i<Dp.length;i++){const s=Dp[i]+r;if(s in t)return Cu[e]=s}return e}const Ap="http://www.w3.org/1999/xlink";function OS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Ap,e.slice(6,e.length)):t.setAttributeNS(Ap,e,n);else{const s=S0(e);n==null||s&&!jv(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function kS(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=jv(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function xS(t,e,n,r){t.addEventListener(e,n,r)}function DS(t,e,n,r){t.removeEventListener(e,n,r)}function AS(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=NS(e);if(r){const u=s[e]=MS(r,i);xS(t,a,u,c)}else o&&(DS(t,a,o,c),s[e]=void 0)}}const Np=/(?:Once|Passive|Capture)$/;function NS(t){let e;if(Np.test(t)){e={};let r;for(;r=t.match(Np);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yi(t.slice(2)),e]}let Iu=0;const RS=Promise.resolve(),PS=()=>Iu||(RS.then(()=>Iu=0),Iu=Date.now());function MS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ht(LS(r,n.value),e,5,[r])};return n.value=t,n.attached=PS(),n}function LS(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Rp=/^on[a-z]/,FS=(t,e,n,r,i=!1,s,o,a,c)=>{e==="class"?SS(t,r,i):e==="style"?CS(t,n,r):dc(e)?rh(e)||AS(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):VS(t,e,r,i))?kS(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),OS(t,e,r,i))};function VS(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Rp.test(e)&&ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Rp.test(e)&&Ue(n)?!1:e in t}const $n="transition",us="animation",eo=(t,{slots:e})=>ne(yy,Vy(t),e);eo.displayName="Transition";const Fy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jS=eo.props=ut({},yy.props,Fy),gr=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Pp=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function Vy(t){const e={};for(const $ in t)$ in Fy||(e[$]=t[$]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=o,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=$S(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:w,onEnter:v,onEnterCancelled:y,onLeave:E,onLeaveCancelled:T,onBeforeAppear:x=w,onAppear:k=v,onAppearCancelled:O=y}=e,L=($,ae,B)=>{Bn($,ae?l:a),Bn($,ae?u:o),B&&B()},z=($,ae)=>{$._isLeaving=!1,Bn($,f),Bn($,d),Bn($,h),ae&&ae()},te=$=>(ae,B)=>{const ee=$?k:v,le=()=>L(ae,$,B);gr(ee,[ae,le]),Mp(()=>{Bn(ae,$?c:s),Cn(ae,$?l:a),Pp(ee)||Lp(ae,r,m,le)})};return ut(e,{onBeforeEnter($){gr(w,[$]),Cn($,s),Cn($,o)},onBeforeAppear($){gr(x,[$]),Cn($,c),Cn($,u)},onEnter:te(!1),onAppear:te(!0),onLeave($,ae){$._isLeaving=!0;const B=()=>z($,ae);Cn($,f),$y(),Cn($,h),Mp(()=>{!$._isLeaving||(Bn($,f),Cn($,d),Pp(E)||Lp($,r,g,B))}),gr(E,[$,B])},onEnterCancelled($){L($,!1),gr(y,[$])},onAppearCancelled($){L($,!0),gr(O,[$])},onLeaveCancelled($){z($),gr(T,[$])}})}function $S(t){if(t==null)return null;if(Ve(t))return[Ou(t.enter),Ou(t.leave)];{const e=Ou(t);return[e,e]}}function Ou(t){return R0(t)}function Cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Bn(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Mp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let qS=0;function Lp(t,e,n,r){const i=t._endId=++qS,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=jy(t,e);if(!o)return r();const u=o+"end";let l=0;const f=()=>{t.removeEventListener(u,h),s()},h=d=>{d.target===t&&++l>=c&&f()};setTimeout(()=>{l<c&&f()},a+1),t.addEventListener(u,h)}function jy(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${$n}Delay`),s=r(`${$n}Duration`),o=Fp(i,s),a=r(`${us}Delay`),c=r(`${us}Duration`),u=Fp(a,c);let l=null,f=0,h=0;e===$n?o>0&&(l=$n,f=o,h=s.length):e===us?u>0&&(l=us,f=u,h=c.length):(f=Math.max(o,u),l=f>0?o>u?$n:us:null,h=l?l===$n?s.length:c.length:0);const d=l===$n&&/\b(transform|all)(,|$)/.test(r(`${$n}Property`).toString());return{type:l,timeout:f,propCount:h,hasTransform:d}}function Fp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Vp(n)+Vp(t[r])))}function Vp(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function $y(){return document.body.offsetHeight}const qy=new WeakMap,By=new WeakMap,Uy={name:"TransitionGroup",props:ut({},jS,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=xt(),r=vy();let i,s;return bh(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!HS(i[0].el,n.vnode.el,o))return;i.forEach(QS),i.forEach(zS);const a=i.filter(KS);$y(),a.forEach(c=>{const u=c.el,l=u.style;Cn(u,o),l.transform=l.webkitTransform=l.transitionDuration="";const f=u._moveCb=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,Bn(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Se(t),a=Vy(o);let c=o.tag||Mt;i=s,s=e.default?gh(e.default()):[];for(let u=0;u<s.length;u++){const l=s[u];l.key!=null&&Di(l,Ys(l,a,r,n))}if(i)for(let u=0;u<i.length;u++){const l=i[u];Di(l,Ys(l,a,r,n)),qy.set(l,l.el.getBoundingClientRect())}return Fe(c,null,s)}}},BS=t=>delete t.mode;Uy.props;const US=Uy;function QS(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function zS(t){By.set(t,t.el.getBoundingClientRect())}function KS(t){const e=qy.get(t),n=By.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function HS(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=jy(r);return i.removeChild(r),s}const GS=ut({patchProp:FS},TS);let jp;function WS(){return jp||(jp=eS(GS))}const Qy=(...t)=>{const e=WS().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=YS(r);if(!i)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function YS(t){return Ue(t)?document.querySelector(t):t}function Oc(t,e,n,r){return Object.defineProperty(t,e,{get:n,set:r,enumerable:!0}),t}const Lr=Ne(!1);let kc;function JS(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:e[0]||""}}function XS(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const zy="ontouchstart"in window||window.navigator.maxTouchPoints>0;function ZS(t){kc={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function eC(t){const e=t.toLowerCase(),n=XS(e),r=JS(e,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return s===!0||e.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&s!==!0)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,e.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),zy===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)&&ZS(i)),i}const $p=navigator.userAgent||navigator.vendor||window.opera,tC={has:{touch:!1,webStorage:!1},within:{iframe:!1}},et={userAgent:$p,is:eC($p),has:{touch:zy},within:{iframe:window.self!==window.top}},Nl={install(t){const{$q:e}=t;Lr.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,et),Lr.value=!1,kc=void 0}),e.platform=Fn(this)):e.platform=this}};{let t;Oc(et.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),et.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),Lr.value===!0?Object.assign(Nl,et,kc,tC):Object.assign(Nl,et)}var xc=(t,e)=>{const n=Fn(t);for(const r in t)Oc(e,r,()=>n[r],i=>{n[r]=i});return e};const Pt={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(Pt,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function to(){}function VF(t){return t.button===0}function nC(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function rC(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;for(;n;){if(e.push(n),n.tagName==="HTML")return e.push(document),e.push(window),e;n=n.parentElement}}function Ky(t){t.stopPropagation()}function Rl(t){t.cancelable!==!1&&t.preventDefault()}function br(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function jF(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",Rl,Pt.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",Rl,Pt.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function iC(t,e,n){const r=`__q_${e}_evt`;t[r]=t[r]!==void 0?t[r].concat(n):n,n.forEach(i=>{i[0].addEventListener(i[1],t[i[2]],Pt[i[3]])})}function sC(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(r=>{r[0].removeEventListener(r[1],t[r[2]],Pt[r[3]])}),t[n]=void 0)}function oC(t,e=250,n){let r=null;function i(){const s=arguments,o=()=>{r=null,n!==!0&&t.apply(this,s)};r!==null?clearTimeout(r):n===!0&&t.apply(this,s),r=setTimeout(o,e)}return i.cancel=()=>{r!==null&&clearTimeout(r)},i}const ku=["sm","md","lg","xl"],{passive:qp}=Pt;var aC=xc({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:to,setDebounce:to,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,r=n||window,i=document.scrollingElement||document.documentElement,s=n===void 0||et.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-i.clientWidth,n.height*n.scale+window.innerHeight-i.clientHeight],o=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=f=>{const[h,d]=s();if(d!==this.height&&(this.height=d),h!==this.width)this.width=h;else if(f!==!0)return;let p=this.sizes;this.gt.xs=h>=p.sm,this.gt.sm=h>=p.md,this.gt.md=h>=p.lg,this.gt.lg=h>=p.xl,this.lt.sm=h<p.sm,this.lt.md=h<p.md,this.lt.lg=h<p.lg,this.lt.xl=h<p.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,p=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",p!==this.name&&(o===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${p}`)),this.name=p)};let a,c={},u=16;this.setSizes=f=>{ku.forEach(h=>{f[h]!==void 0&&(c[h]=f[h])})},this.setDebounce=f=>{u=f};const l=()=>{const f=getComputedStyle(document.body);f.getPropertyValue("--q-size-sm")&&ku.forEach(h=>{this.sizes[h]=parseInt(f.getPropertyValue(`--q-size-${h}`),10)}),this.setSizes=h=>{ku.forEach(d=>{h[d]&&(this.sizes[d]=h[d])}),this.__update(!0)},this.setDebounce=h=>{a!==void 0&&r.removeEventListener("resize",a,qp),a=h>0?oC(this.__update,h):this.__update,r.addEventListener("resize",a,qp)},this.setDebounce(u),Object.keys(c).length>0?(this.setSizes(c),c=void 0):this.__update(),o===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Lr.value===!0?e.push(l):l()}});const wt=xc({isActive:!1,mode:!1},{__media:void 0,set(t){wt.mode=t,t==="auto"?(wt.__media===void 0&&(wt.__media=window.matchMedia("(prefers-color-scheme: dark)"),wt.__updateMedia=()=>{wt.set("auto")},wt.__media.addListener(wt.__updateMedia)),t=wt.__media.matches):wt.__media!==void 0&&(wt.__media.removeListener(wt.__updateMedia),wt.__media=void 0),wt.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){wt.set(wt.isActive===!1)},install({$q:t,onSSRHydrated:e,ssrContext:n}){const{dark:r}=t.config;if(t.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const i=r!==void 0?r:!1;if(Lr.value===!0){const s=a=>{this.__fromSSR=a},o=this.set;this.set=s,s(i),e.push(()=>{this.set=o,this.set(this.__fromSSR)})}else this.set(i)}}),Hy=()=>!0;function cC(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function uC(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function lC(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return Hy;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(cC).map(uC)),()=>e.includes(window.location.hash)}var Pl={__history:[],add:to,remove:to,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:n}=et.is;if(e!==!0&&n!==!0)return;const r=t.config[e===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=o=>{o.condition===void 0&&(o.condition=Hy),this.__history.push(o)},this.remove=o=>{const a=this.__history.indexOf(o);a>=0&&this.__history.splice(a,1)};const i=lC(Object.assign({backButtonExit:!0},r)),s=()=>{if(this.__history.length){const o=this.__history[this.__history.length-1];o.condition()===!0&&(this.__history.pop(),o.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},Bp={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Up(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const nn=xc({__langPack:{}},{getLocale:Up,set(t=Bp,e){const n={...t,rtl:t.rtl===!0,getLocale:Up};{if(n.set=nn.set,nn.__langConfig===void 0||nn.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",n.isoName)}Object.assign(nn.__langPack,n),nn.props=n,nn.isoName=n.isoName,nn.nativeName=n.nativeName}},install({$q:t,lang:e,ssrContext:n}){t.lang=nn.__langPack,nn.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):this.set(e||Bp)}});function fC(t,e,n=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}let Gy=!1;function hC(t){Gy=t.isComposing===!0}function dC(t){return Gy===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function no(t,e){return dC(t)===!0?!1:[].concat(e).includes(t.keyCode)}function Wy(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function pC({is:t,has:e,within:n},r){const i=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const s=Wy(t);s!==void 0&&i.push("platform-"+s)}if(t.nativeMobile===!0){const s=t.nativeMobileWrapper;i.push(s),i.push("native-mobile"),t.ios===!0&&(r[s]===void 0||r[s].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else t.electron===!0?i.push("electron"):t.bex===!0&&i.push("bex");return n.iframe===!0&&i.push("within-iframe"),i}function mC(){const{is:t}=et,e=document.body.className,n=new Set(e.replace(/ {2}/g," ").split(" "));if(kc!==void 0)n.delete("desktop"),n.add("platform-ios"),n.add("mobile");else if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(t.mobile===!0){n.delete("desktop"),n.add("mobile");const i=Wy(t);i!==void 0?(n.add(`platform-${i}`),n.delete(`platform-${i==="ios"?"android":"ios"}`)):(n.delete("platform-ios"),n.delete("platform-android"))}}et.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),et.within.iframe===!0&&n.add("within-iframe");const r=Array.from(n).join(" ");e!==r&&(document.body.className=r)}function gC(t){for(const e in t)fC(e,t[e])}var vC={install(t){if(this.__installed!==!0){if(Lr.value===!0)mC();else{const{$q:e}=t;e.config.brand!==void 0&&gC(e.config.brand);const n=pC(et,e.config);document.body.classList.add.apply(document.body.classList,n)}et.is.ios===!0&&document.body.addEventListener("touchstart",to),window.addEventListener("keydown",hC,!0)}}},yC={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const La=xc({iconMapFn:null,__icons:{}},{set(t,e){const n={...t,rtl:t.rtl===!0};n.set=La.set,Object.assign(La.__icons,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,Oc(t,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?e!==void 0&&this.set(e):this.set(e||yC)}}),bC="_q_",$F="_q_l_",qF="_q_pc_",BF="_q_fo_",UF=()=>{},Fa={};let Yy=!1;function wC(){Yy=!0}function ro(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}const Qp=[Nl,vC,wt,aC,Pl,nn,La];function _C(t,e){const n=Qy(t);n.config.globalProperties=e.config.globalProperties;const{reload:r,...i}=e._context;return Object.assign(n._context,i),n}function zp(t,e){e.forEach(n=>{n.install(t),n.__installed=!0})}function EC(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(bC,n.$q),zp(n,Qp),e.components!==void 0&&Object.values(e.components).forEach(r=>{ro(r)===!0&&r.name!==void 0&&t.component(r.name,r)}),e.directives!==void 0&&Object.values(e.directives).forEach(r=>{ro(r)===!0&&r.name!==void 0&&t.directive(r.name,r)}),e.plugins!==void 0&&zp(n,Object.values(e.plugins).filter(r=>typeof r.install=="function"&&Qp.includes(r)===!1)),Lr.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(r=>{r()}),n.$q.onSSRHydrated=()=>{}})}var TC=function(t,e={}){const n={version:"2.11.8"};Yy===!1?(e.config!==void 0&&Object.assign(Fa,e.config),n.config={...Fa},wC()):n.config=e.config||{},EC(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},SC={version:"2.11.8",install:TC,lang:nn,iconSet:La};const Ml={xs:18,sm:24,md:32,lg:38,xl:46},Ih={size:String};function Oh(t,e=Ml){return W(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const lr=t=>Zi(vh(t)),Jy=t=>Zi(t);function Dc(t,e){return t!==void 0&&t()||e}function QF(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function Es(t,e){return t!==void 0?e.concat(t()):e}function CC(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function zF(t,e,n,r,i,s){e.key=r+i;const o=ne(t,e,n);return i===!0?wh(o,s()):o}const Kp="0 0 24 24",Hp=t=>t,xu=t=>`ionicons ${t}`,Xy={"mdi-":t=>`mdi ${t}`,"icon-":Hp,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":xu,"ion-ios":xu,"ion-logo":xu,"iconfont ":Hp,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},Zy={o_:"-outlined",r_:"-round",s_:"-sharp"},eb={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},IC=new RegExp("^("+Object.keys(Xy).join("|")+")"),OC=new RegExp("^("+Object.keys(Zy).join("|")+")"),Gp=new RegExp("^("+Object.keys(eb).join("|")+")"),kC=/^[Mm]\s?[-+]?\.?\d/,xC=/^img:/,DC=/^svguse:/,AC=/^ion-/,NC=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Va=lr({name:"QIcon",props:{...Ih,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=xt(),r=Oh(t),i=W(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),s=W(()=>{let o,a=t.name;if(a==="none"||!a)return{none:!0};if(n.iconMapFn!==null){const l=n.iconMapFn(a);if(l!==void 0)if(l.icon!==void 0){if(a=l.icon,a==="none"||!a)return{none:!0}}else return{cls:l.cls,content:l.content!==void 0?l.content:" "}}if(kC.test(a)===!0){const[l,f=Kp]=a.split("|");return{svg:!0,viewBox:f,nodes:l.split("&&").map(h=>{const[d,p,m]=h.split("@@");return ne("path",{style:p,d,transform:m})})}}if(xC.test(a)===!0)return{img:!0,src:a.substring(4)};if(DC.test(a)===!0){const[l,f=Kp]=a.split("|");return{svguse:!0,src:l.substring(7),viewBox:f}}let c=" ";const u=a.match(IC);if(u!==null)o=Xy[u[1]](a);else if(NC.test(a)===!0)o=a;else if(AC.test(a)===!0)o=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${a.substring(3)}`;else if(Gp.test(a)===!0){o="notranslate material-symbols";const l=a.match(Gp);l!==null&&(a=a.substring(6),o+=eb[l[1]]),c=a}else{o="notranslate material-icons";const l=a.match(OC);l!==null&&(a=a.substring(2),o+=Zy[l[1]]),c=a}return{cls:o,content:c}});return()=>{const o={class:i.value,style:r.value,"aria-hidden":"true",role:"presentation"};return s.value.none===!0?ne(t.tag,o,Dc(e.default)):s.value.img===!0?ne("span",o,Es(e.default,[ne("img",{src:s.value.src})])):s.value.svg===!0?ne("span",o,Es(e.default,[ne("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?ne("span",o,Es(e.default,[ne("svg",{viewBox:s.value.viewBox},[ne("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(o.class+=" "+s.value.cls),ne(t.tag,o,Es(e.default,[s.value.content])))}}});const RC={size:{type:[Number,String],default:"1em"},color:String};function PC(t){return{cSize:W(()=>t.size in Ml?`${Ml[t.size]}px`:t.size),classes:W(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}var tb=lr({name:"QSpinner",props:{...RC,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=PC(t);return()=>ne("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[ne("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function Ll(t,e){const n=t.style;for(const r in e)n[r]=e[r]}function MC(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=xr(t);if(e)return e.$el||e}function LC(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}function FC(t,e=250){let n=!1,r;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},e),r=t.apply(this,arguments)),r}}function Wp(t,e,n,r){n.modifiers.stop===!0&&Ky(t);const i=n.modifiers.color;let s=n.modifiers.center;s=s===!0||r===!0;const o=document.createElement("span"),a=document.createElement("span"),c=nC(t),{left:u,top:l,width:f,height:h}=e.getBoundingClientRect(),d=Math.sqrt(f*f+h*h),p=d/2,m=`${(f-d)/2}px`,g=s?m:`${c.left-u-p}px`,w=`${(h-d)/2}px`,v=s?w:`${c.top-l-p}px`;a.className="q-ripple__inner",Ll(a,{height:`${d}px`,width:`${d}px`,transform:`translate3d(${g},${v},0) scale3d(.2,.2,1)`,opacity:0}),o.className=`q-ripple${i?" text-"+i:""}`,o.setAttribute("dir","ltr"),o.appendChild(a),e.appendChild(o);const y=()=>{o.remove(),clearTimeout(E)};n.abort.push(y);let E=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${m},${w},0) scale3d(1,1,1)`,a.style.opacity=.2,E=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,E=setTimeout(()=>{o.remove(),n.abort.splice(n.abort.indexOf(y),1)},275)},250)},50)}function Yp(t,{modifiers:e,value:n,arg:r}){const i=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:i.early===!0,stop:i.stop===!0,center:i.center===!0,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}var VC=Jy({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const r={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(i){r.enabled===!0&&i.qSkipRipple!==!0&&i.type===(r.modifiers.early===!0?"pointerdown":"click")&&Wp(i,t,r,i.qKeyEvent===!0)},keystart:FC(i=>{r.enabled===!0&&i.qSkipRipple!==!0&&no(i,r.modifiers.keyCodes)===!0&&i.type===`key${r.modifiers.early===!0?"down":"up"}`&&Wp(i,t,r,!0)},300)};Yp(r,e),t.__qripple=r,iC(r,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&Yp(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),sC(e,"main"),delete t._qripple)}});const nb={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},jC=Object.keys(nb),rb={align:{type:String,validator:t=>jC.includes(t)}};function ib(t){return W(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${nb[e]}`})}function ha(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function sb(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(n=>{sb(t,n)}):t.add(e)}function KF(t){const e=new Set;return t.forEach(n=>{sb(e,n)}),Array.from(e)}function ob(t){return t.appContext.config.globalProperties.$router!==void 0}function ab(t){return t.isUnmounted===!0||t.isDeactivated===!0}function Jp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function Xp(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function $C(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(Array.isArray(i)===!1||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Zp(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function qC(t,e){return Array.isArray(t)===!0?Zp(t,e):Array.isArray(e)===!0?Zp(e,t):t===e}function BC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(qC(t[n],e[n])===!1)return!1;return!0}const UC={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function QC({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=xt(),{props:r,proxy:i,emit:s}=n,o=ob(n),a=W(()=>r.disable!==!0&&r.href!==void 0),c=W(e===!0?()=>o===!0&&r.disable!==!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>o===!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),u=W(()=>c.value===!0?v(r.to):null),l=W(()=>u.value!==null),f=W(()=>a.value===!0||l.value===!0),h=W(()=>r.type==="a"||f.value===!0?"a":r.tag||t||"div"),d=W(()=>a.value===!0?{href:r.href,target:r.target}:l.value===!0?{href:u.value.href,target:r.target}:{}),p=W(()=>{if(l.value===!1)return-1;const{matched:T}=u.value,{length:x}=T,k=T[x-1];if(k===void 0)return-1;const O=i.$route.matched;if(O.length===0)return-1;const L=O.findIndex(Xp.bind(null,k));if(L>-1)return L;const z=Jp(T[x-2]);return x>1&&Jp(k)===z&&O[O.length-1].path!==z?O.findIndex(Xp.bind(null,T[x-2])):L}),m=W(()=>l.value===!0&&p.value!==-1&&$C(i.$route.params,u.value.params)),g=W(()=>m.value===!0&&p.value===i.$route.matched.length-1&&BC(i.$route.params,u.value.params)),w=W(()=>l.value===!0?g.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":m.value===!0?` ${r.activeClass}`:"":"");function v(T){try{return i.$router.resolve(T)}catch{}return null}function y(T,{returnRouterError:x,to:k=r.to,replace:O=r.replace}={}){if(r.disable===!0)return T.preventDefault(),Promise.resolve(!1);if(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey||T.button!==void 0&&T.button!==0||r.target==="_blank")return Promise.resolve(!1);T.preventDefault();const L=i.$router[O===!0?"replace":"push"](k);return x===!0?L:L.then(()=>{}).catch(()=>{})}function E(T){if(l.value===!0){const x=k=>y(T,k);s("click",T,x),T.defaultPrevented!==!0&&x()}else s("click",T)}return{hasRouterLink:l,hasHrefLink:a,hasLink:f,linkTag:h,resolvedLink:u,linkIsActive:m,linkIsExactActive:g,linkClass:w,linkAttrs:d,getLink:v,navigateToRouterLink:y,navigateOnClick:E}}const em={none:0,xs:4,sm:8,md:16,lg:24,xl:32},zC={xs:8,sm:10,md:14,lg:20,xl:24},KC=["button","submit","reset"],HC=/[^\s]\/[^\s]/,GC=["flat","outline","push","unelevated"],WC=(t,e)=>t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e,YC={...Ih,...UC,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...GC.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...rb.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function JC(t){const e=Oh(t,zC),n=ib(t),{hasRouterLink:r,hasLink:i,linkTag:s,linkAttrs:o,navigateOnClick:a}=QC({fallbackTag:"button"}),c=W(()=>{const g=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},g,{padding:t.padding.split(/\s+/).map(w=>w in em?em[w]+"px":w).join(" "),minWidth:"0",minHeight:"0"}):g}),u=W(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),l=W(()=>t.disable!==!0&&t.loading!==!0),f=W(()=>l.value===!0?t.tabindex||0:-1),h=W(()=>WC(t,"standard")),d=W(()=>{const g={tabindex:f.value};return i.value===!0?Object.assign(g,o.value):KC.includes(t.type)===!0&&(g.type=t.type),s.value==="a"?(t.disable===!0?g["aria-disabled"]="true":g.href===void 0&&(g.role="button"),r.value!==!0&&HC.test(t.type)===!0&&(g.type=t.type)):t.disable===!0&&(g.disabled="",g["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(g,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),g}),p=W(()=>{let g;t.color!==void 0?t.flat===!0||t.outline===!0?g=`text-${t.textColor||t.color}`:g=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(g=`text-${t.textColor}`);const w=t.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${h.value} q-btn--${w}`+(g!==void 0?" "+g:"")+(l.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),m=W(()=>n.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:p,style:c,innerClasses:m,attributes:d,hasLink:i,linkTag:s,navigateOnClick:a,isActionable:l}}const{passiveCapture:Qt}=Pt;let Xr=null,Zr=null,ei=null;var fi=lr({name:"QBtn",props:{...YC,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:r}=xt(),{classes:i,style:s,innerClasses:o,attributes:a,hasLink:c,linkTag:u,navigateOnClick:l,isActionable:f}=JC(t),h=Ne(null),d=Ne(null);let p=null,m,g=null;const w=W(()=>t.label!==void 0&&t.label!==null&&t.label!==""),v=W(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:c.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),y=W(()=>({center:t.round})),E=W(()=>{const B=Math.max(0,Math.min(100,t.percentage));return B>0?{transition:"transform 0.6s",transform:`translateX(${B-100}%)`}:{}}),T=W(()=>{if(t.loading===!0)return{onMousedown:ae,onTouchstart:ae,onClick:ae,onKeydown:ae,onKeyup:ae};if(f.value===!0){const B={onClick:k,onKeydown:O,onMousedown:z};if(r.$q.platform.has.touch===!0){const ee=t.onTouchstart!==void 0?"":"Passive";B[`onTouchstart${ee}`]=L}return B}return{onClick:br}}),x=W(()=>({ref:h,class:"q-btn q-btn-item non-selectable no-outline "+i.value,style:s.value,...a.value,...T.value}));function k(B){if(h.value!==null){if(B!==void 0){if(B.defaultPrevented===!0)return;const ee=document.activeElement;if(t.type==="submit"&&ee!==document.body&&h.value.contains(ee)===!1&&ee.contains(h.value)===!1){h.value.focus();const le=()=>{document.removeEventListener("keydown",br,!0),document.removeEventListener("keyup",le,Qt),h.value!==null&&h.value.removeEventListener("blur",le,Qt)};document.addEventListener("keydown",br,!0),document.addEventListener("keyup",le,Qt),h.value.addEventListener("blur",le,Qt)}}l(B)}}function O(B){h.value!==null&&(n("keydown",B),no(B,[13,32])===!0&&Zr!==h.value&&(Zr!==null&&$(),B.defaultPrevented!==!0&&(h.value.focus(),Zr=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("keyup",te,!0),h.value.addEventListener("blur",te,Qt)),br(B)))}function L(B){h.value!==null&&(n("touchstart",B),B.defaultPrevented!==!0&&(Xr!==h.value&&(Xr!==null&&$(),Xr=h.value,p=B.target,p.addEventListener("touchcancel",te,Qt),p.addEventListener("touchend",te,Qt)),m=!0,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,m=!1},200)))}function z(B){h.value!==null&&(B.qSkipRipple=m===!0,n("mousedown",B),B.defaultPrevented!==!0&&ei!==h.value&&(ei!==null&&$(),ei=h.value,h.value.classList.add("q-btn--active"),document.addEventListener("mouseup",te,Qt)))}function te(B){if(h.value!==null&&!(B!==void 0&&B.type==="blur"&&document.activeElement===h.value)){if(B!==void 0&&B.type==="keyup"){if(Zr===h.value&&no(B,[13,32])===!0){const ee=new MouseEvent("click",B);ee.qKeyEvent=!0,B.defaultPrevented===!0&&Rl(ee),B.cancelBubble===!0&&Ky(ee),h.value.dispatchEvent(ee),br(B),B.qKeyEvent=!0}n("keyup",B)}$()}}function $(B){const ee=d.value;B!==!0&&(Xr===h.value||ei===h.value)&&ee!==null&&ee!==document.activeElement&&(ee.setAttribute("tabindex",-1),ee.focus()),Xr===h.value&&(p!==null&&(p.removeEventListener("touchcancel",te,Qt),p.removeEventListener("touchend",te,Qt)),Xr=p=null),ei===h.value&&(document.removeEventListener("mouseup",te,Qt),ei=null),Zr===h.value&&(document.removeEventListener("keyup",te,!0),h.value!==null&&h.value.removeEventListener("blur",te,Qt),Zr=null),h.value!==null&&h.value.classList.remove("q-btn--active")}function ae(B){br(B),B.qSkipRipple=!0}return fn(()=>{$(!0)}),Object.assign(r,{click:k}),()=>{let B=[];t.icon!==void 0&&B.push(ne(Va,{name:t.icon,left:t.stack===!1&&w.value===!0,role:"img","aria-hidden":"true"})),w.value===!0&&B.push(ne("span",{class:"block"},[t.label])),B=Es(e.default,B),t.iconRight!==void 0&&t.round===!1&&B.push(ne(Va,{name:t.iconRight,right:t.stack===!1&&w.value===!0,role:"img","aria-hidden":"true"}));const ee=[ne("span",{class:"q-focus-helper",ref:d})];return t.loading===!0&&t.percentage!==void 0&&ee.push(ne("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[ne("span",{class:"q-btn__progress-indicator fit block",style:E.value})])),ee.push(ne("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+o.value},B)),t.loading!==null&&ee.push(ne(eo,{name:"q-transition--fade"},()=>t.loading===!0?[ne("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[ne(tb)])]:null)),wh(ne(u.value,x.value,ee),[[VC,v.value,void 0,y.value]])}}}),XC=lr({name:"QCardActions",props:{...rb,vertical:Boolean},setup(t,{slots:e}){const n=ib(t),r=W(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>ne("div",{class:r.value},Dc(e.default))}});const ZC={dark:{type:Boolean,default:null}};function eI(t,e){return W(()=>t.dark===null?e.dark.isActive:t.dark)}var tI=lr({name:"QCard",props:{...ZC,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=xt(),r=eI(t,n),i=W(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>ne(t.tag,{class:i.value},Dc(e.default))}});function nI(t,e,n){let r;function i(){r!==void 0&&(Pl.remove(r),r=void 0)}return fn(()=>{t.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>n.value===!0,handler:e},Pl.add(r)}}}function rI(){let t=null;const e=xt();function n(){t!==null&&(clearTimeout(t),t=null)}return yh(n),fn(n),{removeTimeout:n,registerTimeout(r,i){n(),ab(e)===!1&&(t=setTimeout(r,i))}}}function iI(){let t;const e=xt();function n(){t=void 0}return yh(n),fn(n),{removeTick:n,registerTick(r){t=r,xi(()=>{t===r&&(ab(e)===!1&&t(),t=void 0)})}}}const sI={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},oI=["beforeShow","show","beforeHide","hide"];function aI({showing:t,canShow:e,hideOnRouteChange:n,handleShow:r,handleHide:i,processOnMount:s}){const o=xt(),{props:a,emit:c,proxy:u}=o;let l;function f(v){t.value===!0?p(v):h(v)}function h(v){if(a.disable===!0||v!==void 0&&v.qAnchorHandled===!0||e!==void 0&&e(v)!==!0)return;const y=a["onUpdate:modelValue"]!==void 0;y===!0&&(c("update:modelValue",!0),l=v,xi(()=>{l===v&&(l=void 0)})),(a.modelValue===null||y===!1)&&d(v)}function d(v){t.value!==!0&&(t.value=!0,c("beforeShow",v),r!==void 0?r(v):c("show",v))}function p(v){if(a.disable===!0)return;const y=a["onUpdate:modelValue"]!==void 0;y===!0&&(c("update:modelValue",!1),l=v,xi(()=>{l===v&&(l=void 0)})),(a.modelValue===null||y===!1)&&m(v)}function m(v){t.value!==!1&&(t.value=!1,c("beforeHide",v),i!==void 0?i(v):c("hide",v))}function g(v){a.disable===!0&&v===!0?a["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):v===!0!==t.value&&(v===!0?d:m)(l)}Ct(()=>a.modelValue,g),n!==void 0&&ob(o)===!0&&Ct(()=>u.$route.fullPath,()=>{n.value===!0&&t.value===!0&&p()}),s===!0&&Ec(()=>{g(a.modelValue)});const w={show:h,hide:p,toggle:f};return Object.assign(u,w),w}const cI={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function uI(t,e=()=>{},n=()=>{}){return{transitionProps:W(()=>{const r=`q-transition--${t.transitionShow||e()}`,i=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:W(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}let Sr=[],io=[];function cb(t){io=io.filter(e=>e!==t)}function lI(t){cb(t),io.push(t)}function tm(t){cb(t),io.length===0&&Sr.length>0&&(Sr[Sr.length-1](),Sr=[])}function fI(t){io.length===0?t():Sr.push(t)}function HF(t){Sr=Sr.filter(e=>e!==t)}let hI=1,dI=document.body;function ub(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${hI++}`:t,Fa.globalNodes!==void 0){const r=Fa.globalNodes.class;r!==void 0&&(n.className=r)}return dI.appendChild(n),n}function pI(t){t.remove()}const da=[];function mI(t){return da.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function gI(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return ha(t)}else if(t.__qPortal===!0){const n=ha(t);return n!==void 0&&n.$options.name==="QPopupProxy"?(t.hide(e),n):t}t=ha(t)}while(t!=null)}function vI(t,e,n){for(;n!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(n--,t.$options.name==="QMenu"){t=gI(t,e);continue}t.hide(e)}t=ha(t)}}function yI(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function bI(t,e,n,r){const i=Ne(!1),s=Ne(!1);let o=null;const a={},c=r==="dialog"&&yI(t);function u(f){if(f===!0){tm(a),s.value=!0;return}s.value=!1,i.value===!1&&(c===!1&&o===null&&(o=ub(!1,r)),i.value=!0,da.push(t.proxy),lI(a))}function l(f){if(s.value=!1,f!==!0)return;tm(a),i.value=!1;const h=da.indexOf(t.proxy);h!==-1&&da.splice(h,1),o!==null&&(pI(o),o=null)}return Tc(()=>{l(!0)}),t.proxy.__qPortal=!0,Oc(t.proxy,"contentEl",()=>e.value),{showPortal:u,hidePortal:l,portalIsActive:i,portalIsAccessible:s,renderPortal:()=>c===!0?n():i.value===!0?[ne(oS,{to:o},n())]:void 0}}const wI=[null,document,document.body,document.scrollingElement,document.documentElement];function GF(t,e){let n=MC(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return wI.includes(n)?window:n}function _I(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function EI(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let Jo;function WF(){if(Jo!==void 0)return Jo;const t=document.createElement("p"),e=document.createElement("div");Ll(t,{width:"100%",height:"200px"}),Ll(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),e.remove(),Jo=n-r,Jo}function TI(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}let ls=0,Du,Au,Ts,Nu=!1,nm,rm,im,vr=null;function SI(t){CI(t)&&br(t)}function CI(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=rC(t),n=t.shiftKey&&!t.deltaX,r=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),i=n||r?t.deltaY:t.deltaX;for(let s=0;s<e.length;s++){const o=e[s];if(TI(o,r))return r?i<0&&o.scrollTop===0?!0:i>0&&o.scrollTop+o.clientHeight===o.scrollHeight:i<0&&o.scrollLeft===0?!0:i>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function sm(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Xo(t){Nu!==!0&&(Nu=!0,requestAnimationFrame(()=>{Nu=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(Ts===void 0||e!==window.innerHeight)&&(Ts=n-e,document.scrollingElement.scrollTop=r),r>Ts&&(document.scrollingElement.scrollTop-=Math.ceil((r-Ts)/8))}))}function om(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(e);Du=EI(window),Au=_I(window),nm=e.style.left,rm=e.style.top,im=window.location.href,e.style.left=`-${Du}px`,e.style.top=`-${Au}px`,i!=="hidden"&&(i==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,et.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Xo,Pt.passiveCapture),window.visualViewport.addEventListener("scroll",Xo,Pt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",sm,Pt.passiveCapture))}et.is.desktop===!0&&et.is.mac===!0&&window[`${t}EventListener`]("wheel",SI,Pt.notPassive),t==="remove"&&(et.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Xo,Pt.passiveCapture),window.visualViewport.removeEventListener("scroll",Xo,Pt.passiveCapture)):window.removeEventListener("scroll",sm,Pt.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=nm,e.style.top=rm,window.location.href===im&&window.scrollTo(Du,Au),Ts=void 0)}function II(t){let e="add";if(t===!0){if(ls++,vr!==null){clearTimeout(vr),vr=null;return}if(ls>1)return}else{if(ls===0||(ls--,ls>0))return;if(e="remove",et.is.ios===!0&&et.is.nativeMobile===!0){vr!==null&&clearTimeout(vr),vr=setTimeout(()=>{om(e),vr=null},100);return}}om(e)}function OI(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,II(e))}}}const Ar=[];let Ni;function kI(t){Ni=t.keyCode===27}function xI(){Ni===!0&&(Ni=!1)}function DI(t){Ni===!0&&(Ni=!1,no(t,27)===!0&&Ar[Ar.length-1](t))}function lb(t){window[t]("keydown",kI),window[t]("blur",xI),window[t]("keyup",DI),Ni=!1}function AI(t){et.is.desktop===!0&&(Ar.push(t),Ar.length===1&&lb("addEventListener"))}function am(t){const e=Ar.indexOf(t);e>-1&&(Ar.splice(e,1),Ar.length===0&&lb("removeEventListener"))}const Nr=[];function fb(t){Nr[Nr.length-1](t)}function NI(t){et.is.desktop===!0&&(Nr.push(t),Nr.length===1&&document.body.addEventListener("focusin",fb))}function cm(t){const e=Nr.indexOf(t);e>-1&&(Nr.splice(e,1),Nr.length===0&&document.body.removeEventListener("focusin",fb))}let Zo=0;const RI={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},um={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var PI=lr({name:"QDialog",inheritAttrs:!1,props:{...sI,...cI,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>t==="standard"||["top","bottom","left","right"].includes(t)}},emits:[...oI,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:r}){const i=xt(),s=Ne(null),o=Ne(!1),a=Ne(!1);let c=null,u=null,l,f;const h=W(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:d}=OI(),{registerTimeout:p}=rI(),{registerTick:m,removeTick:g}=iI(),{transitionProps:w,transitionStyle:v}=uI(t,()=>um[t.position][0],()=>um[t.position][1]),{showPortal:y,hidePortal:E,portalIsAccessible:T,renderPortal:x}=bI(i,s,Yr,"dialog"),{hide:k}=aI({showing:o,hideOnRouteChange:h,handleShow:B,handleHide:ee,processOnMount:!0}),{addToHistory:O,removeFromHistory:L}=nI(o,k,h),z=W(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${RI[t.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),te=W(()=>o.value===!0&&t.seamless!==!0),$=W(()=>t.autoClose===!0?{onClick:ht}:{}),ae=W(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${te.value===!0?"modal":"seamless"}`,r.class]);Ct(()=>t.maximized,S=>{o.value===!0&&Ge(S)}),Ct(te,S=>{d(S),S===!0?(NI(dn),AI(fe)):(cm(dn),am(fe))});function B(S){O(),u=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Ge(t.maximized),y(),a.value=!0,t.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),m(le)):g(),p(()=>{if(i.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:F,bottom:U}=document.activeElement.getBoundingClientRect(),{innerHeight:X}=window,ye=window.visualViewport!==void 0?window.visualViewport.height:X;F>0&&U>ye/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ye,U>=X?1/0:Math.ceil(document.scrollingElement.scrollTop+U-ye/2))),document.activeElement.scrollIntoView()}f=!0,s.value.click(),f=!1}y(!0),a.value=!1,n("show",S)},t.transitionDuration)}function ee(S){g(),L(),ft(!0),a.value=!0,E(),u!==null&&(((S&&S.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),p(()=>{E(!0),a.value=!1,n("hide",S)},t.transitionDuration)}function le(S){fI(()=>{let F=s.value;F===null||F.contains(document.activeElement)===!0||(F=(S!==""?F.querySelector(S):null)||F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))})}function be(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):le(),n("shake");const F=s.value;F!==null&&(F.classList.remove("q-animate--scale"),F.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,s.value!==null&&(F.classList.remove("q-animate--scale"),le())},170))}function fe(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&be():(n("escapeKey"),k()))}function ft(S){c!==null&&(clearTimeout(c),c=null),(S===!0||o.value===!0)&&(Ge(!1),t.seamless!==!0&&(d(!1),cm(dn),am(fe))),S!==!0&&(u=null)}function Ge(S){S===!0?l!==!0&&(Zo<1&&document.body.classList.add("q-body--dialog"),Zo++,l=!0):l===!0&&(Zo<2&&document.body.classList.remove("q-body--dialog"),Zo--,l=!1)}function ht(S){f!==!0&&(k(S),n("click",S))}function tt(S){t.persistent!==!0&&t.noBackdropDismiss!==!0?k(S):t.noShake!==!0&&be()}function dn(S){t.allowFocusOutside!==!0&&T.value===!0&&LC(s.value,S.target)!==!0&&le('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:le,shake:be,__updateRefocusTarget(S){u=S||null}}),fn(ft);function Yr(){return ne("div",{role:"dialog","aria-modal":te.value===!0?"true":"false",...r,class:ae.value},[ne(eo,{name:"q-transition--fade",appear:!0},()=>te.value===!0?ne("div",{class:"q-dialog__backdrop fixed-full",style:v.value,"aria-hidden":"true",tabindex:-1,onClick:tt}):null),ne(eo,w.value,()=>o.value===!0?ne("div",{ref:s,class:z.value,style:v.value,tabindex:-1,...$.value},Dc(e.default)):null)])}return x}});function lm(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}var MI=Jy({name:"close-popup",beforeMount(t,{value:e}){const n={depth:lm(e),handler(r){n.depth!==0&&setTimeout(()=>{const i=mI(t);i!==void 0&&vI(i,r,n.depth)})},handlerKey(r){no(r,13)===!0&&n.handler(r)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=lm(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}});function Fl(t,e,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function c(){a(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){for(var l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];var d=this,p=Date.now()-o;if(s)return;function m(){o=Date.now(),n.apply(d,f)}function g(){i=void 0}r&&!i&&m(),a(),r===void 0&&p>t?m():e!==!0&&(i=setTimeout(r?g:m,r===void 0?t-p:t))}return u.cancel=c,u}function LI(t,e,n){return n===void 0?Fl(t,e,!1):Fl(t,n,e!==!1)}var Vl=function(t,e){return Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vl(t,e)};function Jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var C=function(){return C=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},C.apply(this,arguments)};function Ri(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zn(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Kn(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ja(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ru="Invariant Violation",fm=Object.setPrototypeOf,FI=fm===void 0?function(t,e){return t.__proto__=e,t}:fm,Ce=function(t){Jt(e,t);function e(n){n===void 0&&(n=Ru);var r=t.call(this,typeof n=="number"?Ru+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Ru,FI(r,e.prototype),r}return e}(Error);function Q(t,e){if(!t)throw new Ce(e)}var hb=["debug","log","warn","error","silent"],VI=hb.indexOf("log");function ea(t){return function(){if(hb.indexOf(t)>=VI){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=ea("debug"),t.log=ea("log"),t.warn=ea("warn"),t.error=ea("error")})(Q||(Q={}));function Kt(t){try{return t()}catch{}}var hm=Kt(function(){return globalThis})||Kt(function(){return window})||Kt(function(){return self})||Kt(function(){return global})||Kt(function(){return Kt.constructor("return this")()}),dm="__",pm=[dm,dm].join("DEV");function jI(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(hm,pm,{value:Kt(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),hm[pm]}}var Pu=jI();function Hn(t){try{return t()}catch{}}var jl=Hn(function(){return globalThis})||Hn(function(){return window})||Hn(function(){return self})||Hn(function(){return global})||Hn(function(){return Hn.constructor("return this")()}),$l=!1;function $I(){jl&&!Hn(function(){return"production"})&&!Hn(function(){return process})&&(Object.defineProperty(jl,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),$l=!0)}$I();function mm(){$l&&(delete jl.process,$l=!1)}function pa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pa=function(n){return typeof n}:pa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pa(t)}function qI(t){return pa(t)=="object"&&t!==null}var db=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function ql(t,e){for(var n=/\r\n|[\n\r]/g,r=1,i=e+1,s;(s=n.exec(t.body))&&s.index<e;)r+=1,i=e+1-(s.index+s[0].length);return{line:r,column:i}}function BI(t){return pb(t.source,ql(t.source,t.start))}function pb(t,e){var n=t.locationOffset.column-1,r=ma(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,c=e.column+a,u="".concat(t.name,":").concat(o,":").concat(c,`
`),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var h=Math.floor(c/80),d=c%80,p=[],m=0;m<f.length;m+=80)p.push(f.slice(m,m+80));return u+gm([["".concat(o),p[0]]].concat(p.slice(1,h+1).map(function(g){return["",g]}),[[" ",ma(d-1)+"^"],["",p[h+1]]]))}return u+gm([["".concat(o-1),l[i-1]],["".concat(o),f],["",ma(c-1)+"^"],["".concat(o+1),l[i+1]]])}function gm(t){var e=t.filter(function(r){r[0];var i=r[1];return i!==void 0}),n=Math.max.apply(Math,e.map(function(r){var i=r[0];return i.length}));return e.map(function(r){var i=r[0],s=r[1];return UI(n,i)+(s?" | "+s:" |")}).join(`
`)}function ma(t){return Array(t+1).join(" ")}function UI(t,e){return ma(t-e.length)+e}function ga(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ga=function(n){return typeof n}:ga=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ga(t)}function vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vm(Object(n),!0).forEach(function(r){zI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HI(t,e,n){return e&&ym(t.prototype,e),n&&ym(t,n),t}function GI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)}function WI(t){var e=gb();return function(){var r=oo(t),i;if(e){var s=oo(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mb(this,i)}}function mb(t,e){return e&&(ga(e)==="object"||typeof e=="function")?e:Ss(t)}function Ss(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bl(t){var e=typeof Map=="function"?new Map:void 0;return Bl=function(r){if(r===null||!YI(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return va(r,arguments,oo(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),so(i,r)},Bl(t)}function va(t,e,n){return gb()?va=Reflect.construct:va=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),u=new c;return o&&so(u,o.prototype),u},va.apply(null,arguments)}function gb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function YI(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function so(t,e){return so=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},so(t,e)}function oo(t){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},oo(t)}var JI=function(t){GI(n,t);var e=WI(n);function n(r,i,s,o,a,c,u){var l,f,h,d;KI(this,n),d=e.call(this,r),d.name="GraphQLError",d.originalError=c!=null?c:void 0,d.nodes=bm(Array.isArray(i)?i:i?[i]:void 0);for(var p=[],m=0,g=(w=d.nodes)!==null&&w!==void 0?w:[];m<g.length;m++){var w,v=g[m],y=v.loc;y!=null&&p.push(y)}p=bm(p),d.source=s!=null?s:(l=p)===null||l===void 0?void 0:l[0].source,d.positions=o!=null?o:(f=p)===null||f===void 0?void 0:f.map(function(T){return T.start}),d.locations=o&&s?o.map(function(T){return ql(s,T)}):(h=p)===null||h===void 0?void 0:h.map(function(T){return ql(T.source,T.start)}),d.path=a!=null?a:void 0;var E=c==null?void 0:c.extensions;return u==null&&qI(E)?d.extensions=QI({},E):d.extensions=u!=null?u:{},Object.defineProperties(Ss(d),{message:{enumerable:!0},locations:{enumerable:d.locations!=null},path:{enumerable:d.path!=null},extensions:{enumerable:d.extensions!=null&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Ss(d),"stack",{value:c.stack,writable:!0,configurable:!0}),mb(d)):(Error.captureStackTrace?Error.captureStackTrace(Ss(d),n):Object.defineProperty(Ss(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return HI(n,[{key:"toString",value:function(){return XI(this)}},{key:db,get:function(){return"Object"}}]),n}(Bl(Error));function bm(t){return t===void 0||t.length===0?void 0:t}function XI(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+=`

`+BI(i.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var a=o[s];e+=`

`+pb(t.source,a)}return e}function $t(t,e,n){return new JI("Syntax Error: ".concat(n),void 0,t,[e])}var G=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function ZI(t,e){var n=Boolean(t);if(!n)throw new Error(e!=null?e:"Unexpected invariant triggered.")}var eO=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,Ul=eO;function vb(t){var e=t.prototype.toJSON;typeof e=="function"||ZI(0),t.prototype.inspect=e,Ul&&(t.prototype[Ul]=e)}var yb=function(){function t(n,r,i){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();vb(yb);var Qe=function(){function t(n,r,i,s,o,a,c){this.kind=n,this.start=r,this.end=i,this.line=s,this.column=o,this.value=c,this.prev=a,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();vb(Qe);function wm(t){return t!=null&&typeof t.kind=="string"}var A=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function ya(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ya=function(n){return typeof n}:ya=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ya(t)}var tO=10,bb=2;function wb(t){return Ac(t,[])}function Ac(t,e){switch(ya(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":nO(t,e);default:return String(t)}}function nO(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var n=[].concat(e,[t]),r=sO(t);if(r!==void 0){var i=r.call(t);if(i!==t)return typeof i=="string"?i:Ac(i,n)}else if(Array.isArray(t))return iO(t,n);return rO(t,n)}function rO(t,e){var n=Object.keys(t);if(n.length===0)return"{}";if(e.length>bb)return"["+oO(t)+"]";var r=n.map(function(i){var s=Ac(t[i],e);return i+": "+s});return"{ "+r.join(", ")+" }"}function iO(t,e){if(t.length===0)return"[]";if(e.length>bb)return"[Array]";for(var n=Math.min(tO,t.length),r=t.length-n,i=[],s=0;s<n;++s)i.push(Ac(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}function sO(t){var e=t[String(Ul)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function oO(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}function Mu(t,e){var n=Boolean(t);if(!n)throw new Error(e)}var aO=function(e,n){return e instanceof n};function _m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cO(t,e,n){return e&&_m(t.prototype,e),n&&_m(t,n),t}var kh=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||Mu(0,"Body must be a string. Received: ".concat(wb(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Mu(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Mu(0,"column in locationOffset is 1-indexed and must be positive.")}return cO(t,[{key:db,get:function(){return"Source"}}]),t}();function uO(t){return aO(t,kh)}var lO=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function fO(t){var e=t.split(/\r\n|[\n\r]/g),n=hO(t);if(n!==0)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var i=0;i<e.length&&Em(e[i]);)++i;for(var s=e.length;s>i&&Em(e[s-1]);)--s;return e.slice(i,s).join(`
`)}function Em(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function hO(t){for(var e,n=!0,r=!0,i=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(s===null||i<s)&&(s=i),r=!1}return(e=s)!==null&&e!==void 0?e:0}function dO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",a=!r||s||o||n,c="";return a&&!(r&&i)&&(c+=`
`+e),c+=e?t.replace(/\n/g,`
`+e):t,a&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var pO=function(){function t(n){var r=new Qe(A.SOF,0,0,0,0,null);this.source=n,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},e.lookahead=function(){var r=this.token;if(r.kind!==A.EOF)do{var i;r=(i=r.next)!==null&&i!==void 0?i:r.next=gO(this,r)}while(r.kind===A.COMMENT);return r},t}();function mO(t){return t===A.BANG||t===A.DOLLAR||t===A.AMP||t===A.PAREN_L||t===A.PAREN_R||t===A.SPREAD||t===A.COLON||t===A.EQUALS||t===A.AT||t===A.BRACKET_L||t===A.BRACKET_R||t===A.BRACE_L||t===A.PIPE||t===A.BRACE_R}function Fr(t){return isNaN(t)?A.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function gO(t,e){for(var n=t.source,r=n.body,i=r.length,s=e.end;s<i;){var o=r.charCodeAt(s),a=t.line,c=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:r.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new Qe(A.BANG,s,s+1,a,c,e);case 35:return yO(n,s,a,c,e);case 36:return new Qe(A.DOLLAR,s,s+1,a,c,e);case 38:return new Qe(A.AMP,s,s+1,a,c,e);case 40:return new Qe(A.PAREN_L,s,s+1,a,c,e);case 41:return new Qe(A.PAREN_R,s,s+1,a,c,e);case 46:if(r.charCodeAt(s+1)===46&&r.charCodeAt(s+2)===46)return new Qe(A.SPREAD,s,s+3,a,c,e);break;case 58:return new Qe(A.COLON,s,s+1,a,c,e);case 61:return new Qe(A.EQUALS,s,s+1,a,c,e);case 64:return new Qe(A.AT,s,s+1,a,c,e);case 91:return new Qe(A.BRACKET_L,s,s+1,a,c,e);case 93:return new Qe(A.BRACKET_R,s,s+1,a,c,e);case 123:return new Qe(A.BRACE_L,s,s+1,a,c,e);case 124:return new Qe(A.PIPE,s,s+1,a,c,e);case 125:return new Qe(A.BRACE_R,s,s+1,a,c,e);case 34:return r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34?_O(n,s,a,c,e,t):wO(n,s,a,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return bO(n,s,o,a,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return TO(n,s,a,c,e)}throw $t(n,s,vO(o))}var u=t.line,l=1+s-t.lineStart;return new Qe(A.EOF,i,i,u,l,e)}function vO(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Fr(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Fr(t),".")}function yO(t,e,n,r,i){var s=t.body,o,a=e;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||o===9));return new Qe(A.COMMENT,e,a,n,r,i,s.slice(e+1,a))}function bO(t,e,n,r,i,s){var o=t.body,a=n,c=e,u=!1;if(a===45&&(a=o.charCodeAt(++c)),a===48){if(a=o.charCodeAt(++c),a>=48&&a<=57)throw $t(t,c,"Invalid number, unexpected digit after 0: ".concat(Fr(a),"."))}else c=Lu(t,c,a),a=o.charCodeAt(c);if(a===46&&(u=!0,a=o.charCodeAt(++c),c=Lu(t,c,a),a=o.charCodeAt(c)),(a===69||a===101)&&(u=!0,a=o.charCodeAt(++c),(a===43||a===45)&&(a=o.charCodeAt(++c)),c=Lu(t,c,a),a=o.charCodeAt(c)),a===46||SO(a))throw $t(t,c,"Invalid number, expected digit but got: ".concat(Fr(a),"."));return new Qe(u?A.FLOAT:A.INT,e,c,r,i,s,o.slice(e,c))}function Lu(t,e,n){var r=t.body,i=e,s=n;if(s>=48&&s<=57){do s=r.charCodeAt(++i);while(s>=48&&s<=57);return i}throw $t(t,i,"Invalid number, expected digit but got: ".concat(Fr(s),"."))}function wO(t,e,n,r,i){for(var s=t.body,o=e+1,a=o,c=0,u="";o<s.length&&!isNaN(c=s.charCodeAt(o))&&c!==10&&c!==13;){if(c===34)return u+=s.slice(a,o),new Qe(A.STRING,e,o+1,n,r,i,u);if(c<32&&c!==9)throw $t(t,o,"Invalid character within String: ".concat(Fr(c),"."));if(++o,c===92){switch(u+=s.slice(a,o-1),c=s.charCodeAt(o),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var l=EO(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(l<0){var f=s.slice(o+1,o+5);throw $t(t,o,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(l),o+=4;break}default:throw $t(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++o,a=o}}throw $t(t,o,"Unterminated string.")}function _O(t,e,n,r,i,s){for(var o=t.body,a=e+3,c=a,u=0,l="";a<o.length&&!isNaN(u=o.charCodeAt(a));){if(u===34&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34)return l+=o.slice(c,a),new Qe(A.BLOCK_STRING,e,a+3,n,r,i,fO(l));if(u<32&&u!==9&&u!==10&&u!==13)throw $t(t,a,"Invalid character within String: ".concat(Fr(u),"."));u===10?(++a,++s.line,s.lineStart=a):u===13?(o.charCodeAt(a+1)===10?a+=2:++a,++s.line,s.lineStart=a):u===92&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34&&o.charCodeAt(a+3)===34?(l+=o.slice(c,a)+'"""',a+=4,c=a):++a}throw $t(t,a,"Unterminated string.")}function EO(t,e,n,r){return ta(t)<<12|ta(e)<<8|ta(n)<<4|ta(r)}function ta(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function TO(t,e,n,r,i){for(var s=t.body,o=s.length,a=e+1,c=0;a!==o&&!isNaN(c=s.charCodeAt(a))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new Qe(A.NAME,e,a,n,r,i,s.slice(e,a))}function SO(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function CO(t,e){var n=new IO(t,e);return n.parseDocument()}var IO=function(){function t(n,r){var i=uO(n)?n:new kh(n);this._lexer=new pO(i),this._options=r}var e=t.prototype;return e.parseName=function(){var r=this.expectToken(A.NAME);return{kind:G.NAME,value:r.value,loc:this.loc(r)}},e.parseDocument=function(){var r=this._lexer.token;return{kind:G.DOCUMENT,definitions:this.many(A.SOF,this.parseDefinition,A.EOF),loc:this.loc(r)}},e.parseDefinition=function(){if(this.peek(A.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(A.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(A.BRACE_L))return{kind:G.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var i=this.parseOperationType(),s;return this.peek(A.NAME)&&(s=this.parseName()),{kind:G.OPERATION_DEFINITION,operation:i,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseOperationType=function(){var r=this.expectToken(A.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},e.parseVariableDefinitions=function(){return this.optionalMany(A.PAREN_L,this.parseVariableDefinition,A.PAREN_R)},e.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:G.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(A.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(A.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},e.parseVariable=function(){var r=this._lexer.token;return this.expectToken(A.DOLLAR),{kind:G.VARIABLE,name:this.parseName(),loc:this.loc(r)}},e.parseSelectionSet=function(){var r=this._lexer.token;return{kind:G.SELECTION_SET,selections:this.many(A.BRACE_L,this.parseSelection,A.BRACE_R),loc:this.loc(r)}},e.parseSelection=function(){return this.peek(A.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var r=this._lexer.token,i=this.parseName(),s,o;return this.expectOptionalToken(A.COLON)?(s=i,o=this.parseName()):o=i,{kind:G.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(A.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},e.parseArguments=function(r){var i=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(A.PAREN_L,i,A.PAREN_R)},e.parseArgument=function(){var r=this._lexer.token,i=this.parseName();return this.expectToken(A.COLON),{kind:G.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(r)}},e.parseConstArgument=function(){var r=this._lexer.token;return{kind:G.ARGUMENT,name:this.parseName(),value:(this.expectToken(A.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},e.parseFragment=function(){var r=this._lexer.token;this.expectToken(A.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(A.NAME)?{kind:G.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:G.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseFragmentDefinition=function(){var r,i=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:G.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:G.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(r){var i=this._lexer.token;switch(i.kind){case A.BRACKET_L:return this.parseList(r);case A.BRACE_L:return this.parseObject(r);case A.INT:return this._lexer.advance(),{kind:G.INT,value:i.value,loc:this.loc(i)};case A.FLOAT:return this._lexer.advance(),{kind:G.FLOAT,value:i.value,loc:this.loc(i)};case A.STRING:case A.BLOCK_STRING:return this.parseStringLiteral();case A.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:G.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:G.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:G.NULL,loc:this.loc(i)};default:return{kind:G.ENUM,value:i.value,loc:this.loc(i)}}case A.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:G.STRING,value:r.value,block:r.kind===A.BLOCK_STRING,loc:this.loc(r)}},e.parseList=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseValueLiteral(r)};return{kind:G.LIST,values:this.any(A.BRACKET_L,o,A.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseObjectField(r)};return{kind:G.OBJECT,fields:this.any(A.BRACE_L,o,A.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(r){var i=this._lexer.token,s=this.parseName();return this.expectToken(A.COLON),{kind:G.OBJECT_FIELD,name:s,value:this.parseValueLiteral(r),loc:this.loc(i)}},e.parseDirectives=function(r){for(var i=[];this.peek(A.AT);)i.push(this.parseDirective(r));return i},e.parseDirective=function(r){var i=this._lexer.token;return this.expectToken(A.AT),{kind:G.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(i)}},e.parseTypeReference=function(){var r=this._lexer.token,i;return this.expectOptionalToken(A.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(A.BRACKET_R),i={kind:G.LIST_TYPE,type:i,loc:this.loc(r)}):i=this.parseNamedType(),this.expectOptionalToken(A.BANG)?{kind:G.NON_NULL_TYPE,type:i,loc:this.loc(r)}:i},e.parseNamedType=function(){var r=this._lexer.token;return{kind:G.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},e.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===A.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},e.peekDescription=function(){return this.peek(A.STRING)||this.peek(A.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);return{kind:G.SCHEMA_DEFINITION,description:i,directives:s,operationTypes:o,loc:this.loc(r)}},e.parseOperationTypeDefinition=function(){var r=this._lexer.token,i=this.parseOperationType();this.expectToken(A.COLON);var s=this.parseNamedType();return{kind:G.OPERATION_TYPE_DEFINITION,operation:i,type:s,loc:this.loc(r)}},e.parseScalarTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:G.SCALAR_TYPE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:G.OBJECT_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:c,loc:this.loc(r)}},e.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(A.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(A.AMP)||this.peek(A.NAME));return i}return this.delimitedMany(A.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(A.BRACE_L)&&this._lexer.lookahead().kind===A.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(A.BRACE_L,this.parseFieldDefinition,A.BRACE_R)},e.parseFieldDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(A.COLON);var a=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:G.FIELD_DEFINITION,description:i,name:s,arguments:o,type:a,directives:c,loc:this.loc(r)}},e.parseArgumentDefs=function(){return this.optionalMany(A.PAREN_L,this.parseInputValueDef,A.PAREN_R)},e.parseInputValueDef=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName();this.expectToken(A.COLON);var o=this.parseTypeReference(),a;this.expectOptionalToken(A.EQUALS)&&(a=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:G.INPUT_VALUE_DEFINITION,description:i,name:s,type:o,defaultValue:a,directives:c,loc:this.loc(r)}},e.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:G.INTERFACE_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:c,loc:this.loc(r)}},e.parseUnionTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:G.UNION_TYPE_DEFINITION,description:i,name:s,directives:o,types:a,loc:this.loc(r)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(A.EQUALS)?this.delimitedMany(A.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:G.ENUM_TYPE_DEFINITION,description:i,name:s,directives:o,values:a,loc:this.loc(r)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseEnumValueDefinition,A.BRACE_R)},e.parseEnumValueDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:G.ENUM_VALUE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:G.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseInputValueDef,A.BRACE_R)},e.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===A.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},e.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),s=this.optionalMany(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);if(i.length===0&&s.length===0)throw this.unexpected();return{kind:G.SCHEMA_EXTENSION,directives:i,operationTypes:s,loc:this.loc(r)}},e.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:G.SCALAR_TYPE_EXTENSION,name:i,directives:s,loc:this.loc(r)}},e.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:G.OBJECT_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:G.INTERFACE_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:G.UNION_TYPE_EXTENSION,name:i,directives:s,types:o,loc:this.loc(r)}},e.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:G.ENUM_TYPE_EXTENSION,name:i,directives:s,values:o,loc:this.loc(r)}},e.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:G.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:s,fields:o,loc:this.loc(r)}},e.parseDirectiveDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(A.AT);var s=this.parseName(),o=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:G.DIRECTIVE_DEFINITION,description:i,name:s,arguments:o,repeatable:a,locations:c,loc:this.loc(r)}},e.parseDirectiveLocations=function(){return this.delimitedMany(A.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var r=this._lexer.token,i=this.parseName();if(lO[i.value]!==void 0)return i;throw this.unexpected(r)},e.loc=function(r){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new yb(r,this._lexer.lastToken,this._lexer.source)},e.peek=function(r){return this._lexer.token.kind===r},e.expectToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i;throw $t(this._lexer.source,i.start,"Expected ".concat(_b(r),", found ").concat(Fu(i),"."))},e.expectOptionalToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i},e.expectKeyword=function(r){var i=this._lexer.token;if(i.kind===A.NAME&&i.value===r)this._lexer.advance();else throw $t(this._lexer.source,i.start,'Expected "'.concat(r,'", found ').concat(Fu(i),"."))},e.expectOptionalKeyword=function(r){var i=this._lexer.token;return i.kind===A.NAME&&i.value===r?(this._lexer.advance(),!0):!1},e.unexpected=function(r){var i=r!=null?r:this._lexer.token;return $t(this._lexer.source,i.start,"Unexpected ".concat(Fu(i),"."))},e.any=function(r,i,s){this.expectToken(r);for(var o=[];!this.expectOptionalToken(s);)o.push(i.call(this));return o},e.optionalMany=function(r,i,s){if(this.expectOptionalToken(r)){var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(r,i,s){this.expectToken(r);var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(r,i){this.expectOptionalToken(r);var s=[];do s.push(i.call(this));while(this.expectOptionalToken(r));return s},t}();function Fu(t){var e=t.value;return _b(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function _b(t){return mO(t)?'"'.concat(t,'"'):t}var OO={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},xh=Object.freeze({});function An(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OO,r=void 0,i=Array.isArray(t),s=[t],o=-1,a=[],c=void 0,u=void 0,l=void 0,f=[],h=[],d=t;do{o++;var p=o===s.length,m=p&&a.length!==0;if(p){if(u=h.length===0?void 0:f[f.length-1],c=l,l=h.pop(),m){if(i)c=c.slice();else{for(var g={},w=0,v=Object.keys(c);w<v.length;w++){var y=v[w];g[y]=c[y]}c=g}for(var E=0,T=0;T<a.length;T++){var x=a[T][0],k=a[T][1];i&&(x-=E),i&&k===null?(c.splice(x,1),E++):c[x]=k}}o=r.index,s=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(u=l?i?o:s[o]:void 0,c=l?l[u]:d,c==null)continue;l&&f.push(u)}var O=void 0;if(!Array.isArray(c)){if(!wm(c))throw new Error("Invalid AST Node: ".concat(wb(c),"."));var L=kO(e,c.kind,p);if(L){if(O=L.call(e,c,u,l,f,h),O===xh)break;if(O===!1){if(!p){f.pop();continue}}else if(O!==void 0&&(a.push([u,O]),!p))if(wm(O))c=O;else{f.pop();continue}}}if(O===void 0&&m&&a.push([u,c]),p)f.pop();else{var z;r={inArray:i,index:o,keys:s,edits:a,prev:r},i=Array.isArray(c),s=i?c:(z=n[c.kind])!==null&&z!==void 0?z:[],o=-1,a=[],l&&h.push(l),l=c}}while(r!==void 0);return a.length!==0&&(d=a[a.length-1][1]),d}function kO(t,e,n){var r=t[e];if(r){if(!n&&typeof r=="function")return r;var i=n?r.leave:r.enter;if(typeof i=="function")return i}else{var s=n?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function Eb(t){return An(t,{leave:DO})}var xO=80,DO={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return H(e.definitions,`

`)+`
`},OperationDefinition:function(e){var n=e.operation,r=e.name,i=Be("(",H(e.variableDefinitions,", "),")"),s=H(e.directives," "),o=e.selectionSet;return!r&&!s&&!i&&n==="query"?o:H([n,H([r,i]),s,o]," ")},VariableDefinition:function(e){var n=e.variable,r=e.type,i=e.defaultValue,s=e.directives;return n+": "+r+Be(" = ",i)+Be(" ",H(s," "))},SelectionSet:function(e){var n=e.selections;return en(n)},Field:function(e){var n=e.alias,r=e.name,i=e.arguments,s=e.directives,o=e.selectionSet,a=Be("",n,": ")+r,c=a+Be("(",H(i,", "),")");return c.length>xO&&(c=a+Be(`(
`,ba(H(i,`
`)),`
)`)),H([c,H(s," "),o]," ")},Argument:function(e){var n=e.name,r=e.value;return n+": "+r},FragmentSpread:function(e){var n=e.name,r=e.directives;return"..."+n+Be(" ",H(r," "))},InlineFragment:function(e){var n=e.typeCondition,r=e.directives,i=e.selectionSet;return H(["...",Be("on ",n),H(r," "),i]," ")},FragmentDefinition:function(e){var n=e.name,r=e.typeCondition,i=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(n).concat(Be("(",H(i,", "),")")," ")+"on ".concat(r," ").concat(Be("",H(s," ")," "))+o},IntValue:function(e){var n=e.value;return n},FloatValue:function(e){var n=e.value;return n},StringValue:function(e,n){var r=e.value,i=e.block;return i?dO(r,n==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(e){var n=e.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var n=e.value;return n},ListValue:function(e){var n=e.values;return"["+H(n,", ")+"]"},ObjectValue:function(e){var n=e.fields;return"{"+H(n,", ")+"}"},ObjectField:function(e){var n=e.name,r=e.value;return n+": "+r},Directive:function(e){var n=e.name,r=e.arguments;return"@"+n+Be("(",H(r,", "),")")},NamedType:function(e){var n=e.name;return n},ListType:function(e){var n=e.type;return"["+n+"]"},NonNullType:function(e){var n=e.type;return n+"!"},SchemaDefinition:Zt(function(t){var e=t.directives,n=t.operationTypes;return H(["schema",H(e," "),en(n)]," ")}),OperationTypeDefinition:function(e){var n=e.operation,r=e.type;return n+": "+r},ScalarTypeDefinition:Zt(function(t){var e=t.name,n=t.directives;return H(["scalar",e,H(n," ")]," ")}),ObjectTypeDefinition:Zt(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return H(["type",e,Be("implements ",H(n," & ")),H(r," "),en(i)]," ")}),FieldDefinition:Zt(function(t){var e=t.name,n=t.arguments,r=t.type,i=t.directives;return e+(Tm(n)?Be(`(
`,ba(H(n,`
`)),`
)`):Be("(",H(n,", "),")"))+": "+r+Be(" ",H(i," "))}),InputValueDefinition:Zt(function(t){var e=t.name,n=t.type,r=t.defaultValue,i=t.directives;return H([e+": "+n,Be("= ",r),H(i," ")]," ")}),InterfaceTypeDefinition:Zt(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return H(["interface",e,Be("implements ",H(n," & ")),H(r," "),en(i)]," ")}),UnionTypeDefinition:Zt(function(t){var e=t.name,n=t.directives,r=t.types;return H(["union",e,H(n," "),r&&r.length!==0?"= "+H(r," | "):""]," ")}),EnumTypeDefinition:Zt(function(t){var e=t.name,n=t.directives,r=t.values;return H(["enum",e,H(n," "),en(r)]," ")}),EnumValueDefinition:Zt(function(t){var e=t.name,n=t.directives;return H([e,H(n," ")]," ")}),InputObjectTypeDefinition:Zt(function(t){var e=t.name,n=t.directives,r=t.fields;return H(["input",e,H(n," "),en(r)]," ")}),DirectiveDefinition:Zt(function(t){var e=t.name,n=t.arguments,r=t.repeatable,i=t.locations;return"directive @"+e+(Tm(n)?Be(`(
`,ba(H(n,`
`)),`
)`):Be("(",H(n,", "),")"))+(r?" repeatable":"")+" on "+H(i," | ")}),SchemaExtension:function(e){var n=e.directives,r=e.operationTypes;return H(["extend schema",H(n," "),en(r)]," ")},ScalarTypeExtension:function(e){var n=e.name,r=e.directives;return H(["extend scalar",n,H(r," ")]," ")},ObjectTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return H(["extend type",n,Be("implements ",H(r," & ")),H(i," "),en(s)]," ")},InterfaceTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return H(["extend interface",n,Be("implements ",H(r," & ")),H(i," "),en(s)]," ")},UnionTypeExtension:function(e){var n=e.name,r=e.directives,i=e.types;return H(["extend union",n,H(r," "),i&&i.length!==0?"= "+H(i," | "):""]," ")},EnumTypeExtension:function(e){var n=e.name,r=e.directives,i=e.values;return H(["extend enum",n,H(r," "),en(i)]," ")},InputObjectTypeExtension:function(e){var n=e.name,r=e.directives,i=e.fields;return H(["extend input",n,H(r," "),en(i)]," ")}};function Zt(t){return function(e){return H([e.description,t(e)],`
`)}}function H(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(r){return r}).join(n))!==null&&e!==void 0?e:""}function en(t){return Be(`{
`,ba(H(t,`
`)),`
}`)}function Be(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+n:""}function ba(t){return Be("  ",t.replace(/\n/g,`
  `))}function AO(t){return t.indexOf(`
`)!==-1}function Tm(t){return t!=null&&t.some(AO)}var NO=Object.freeze(Object.defineProperty({__proto__:null,print:Eb},Symbol.toStringTag,{value:"Module"}));function Sm(t){return t.kind===G.FIELD||t.kind===G.FRAGMENT_SPREAD||t.kind===G.INLINE_FRAGMENT}function RO(t,e){for(var n=null,r=0,i=t.definitions;r<i.length;r++){var s=i[r];if(s.kind===G.OPERATION_DEFINITION){var o;if(e==null){if(n)return null;n=s}else if(((o=s.name)===null||o===void 0?void 0:o.value)===e)return s}}return n}var PO=Object.freeze(Object.defineProperty({__proto__:null,getOperationAST:RO},Symbol.toStringTag,{value:"Module"}));function MO(){return mm()}function LO(){__DEV__?Q(typeof Pu=="boolean",Pu):Q(typeof Pu=="boolean",39)}MO();LO();function Nc(t,e){var n=t.directives;return!n||!n.length?!0:jO(n).every(function(r){var i=r.directive,s=r.ifArgument,o=!1;return s.value.kind==="Variable"?(o=e&&e[s.value.name.value],__DEV__?Q(o!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):Q(o!==void 0,40)):o=s.value.value,i.name.value==="skip"?!o:o})}function Dh(t,e,n){var r=new Set(t),i=r.size;return An(e,{Directive:function(s){if(r.delete(s.name.value)&&(!n||!r.size))return xh}}),n?!r.size:r.size<i}function FO(t){return t&&Dh(["client","export"],t,!0)}function VO(t){var e=t.name.value;return e==="skip"||e==="include"}function jO(t){var e=[];return t&&t.length&&t.forEach(function(n){if(!!VO(n)){var r=n.arguments,i=n.name.value;__DEV__?Q(r&&r.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):Q(r&&r.length===1,41);var s=r[0];__DEV__?Q(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):Q(s.name&&s.name.value==="if",42);var o=s.value;__DEV__?Q(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):Q(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),43),e.push({directive:n,ifArgument:s})}}),e}function $O(t,e){var n=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new Ce("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Ce(44);s.kind==="FragmentDefinition"&&r.push(s)}),typeof n=="undefined"&&(__DEV__?Q(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Q(r.length===1,45),n=r[0].name.value);var i=C(C({},t),{definitions:ja([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function Ah(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function Nh(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return __DEV__?Q(r,"No fragment named ".concat(n)):Q(r,46),r||null}default:return null}}function ze(t){return t!==null&&typeof t=="object"}function Ei(t){return{__ref:String(t)}}function xe(t){return Boolean(t&&typeof t=="object"&&typeof t.__ref=="string")}function qO(t){return ze(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function BO(t){return t.kind==="StringValue"}function UO(t){return t.kind==="BooleanValue"}function QO(t){return t.kind==="IntValue"}function zO(t){return t.kind==="FloatValue"}function KO(t){return t.kind==="Variable"}function HO(t){return t.kind==="ObjectValue"}function GO(t){return t.kind==="ListValue"}function WO(t){return t.kind==="EnumValue"}function YO(t){return t.kind==="NullValue"}function Pi(t,e,n,r){if(QO(n)||zO(n))t[e.value]=Number(n.value);else if(UO(n)||BO(n))t[e.value]=n.value;else if(HO(n)){var i={};n.fields.map(function(o){return Pi(i,o.name,o.value,r)}),t[e.value]=i}else if(KO(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(GO(n))t[e.value]=n.values.map(function(o){var a={};return Pi(a,e,o,r),a[e.value]});else if(WO(n))t[e.value]=n.value;else if(YO(n))t[e.value]=null;else throw __DEV__?new Ce('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Ce(55)}function JO(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var o=s.name,a=s.value;return Pi(n[i.name.value],o,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var s=i.name,o=i.value;return Pi(r,s,o,e)})),Rh(t.name.value,r,n)}var XO=["connection","include","skip","client","rest","export"],Rh=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(fs(i),")")}else return n.connection.key;var s=t;if(e){var o=fs(e);s+="(".concat(o,")")}return n&&Object.keys(n).forEach(function(a){XO.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?s+="@".concat(a,"(").concat(fs(n[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=fs;return fs=t,e}}),fs=function(e){return JSON.stringify(e,ZO)};function ZO(t,e){return ze(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function Rc(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,s=r.value;return Pi(n,i,s,e)}),n}return null}function Vr(t){return t.alias?t.alias.value:t.name.value}function Ql(t,e,n){if(typeof t.__typename=="string")return t.__typename;for(var r=0,i=e.selections;r<i.length;r++){var s=i[r];if(jr(s)){if(s.name.value==="__typename")return t[Vr(s)]}else{var o=Ql(t,Nh(s,n).selectionSet,n);if(typeof o=="string")return o}}}function jr(t){return t.kind==="Field"}function ek(t){return t.kind==="InlineFragment"}function Pc(t){__DEV__?Q(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Q(t&&t.kind==="Document",47);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw __DEV__?new Ce('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new Ce(48);return n});return __DEV__?Q(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):Q(e.length<=1,49),t}function Io(t){return Pc(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function zl(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function Ph(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Tb(t){var e=Io(t);return __DEV__?Q(e&&e.operation==="query","Must contain a query definition."):Q(e&&e.operation==="query",50),e}function tk(t){__DEV__?Q(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Q(t.kind==="Document",51),__DEV__?Q(t.definitions.length<=1,"Fragment must have exactly one definition."):Q(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?Q(e.kind==="FragmentDefinition","Must be a fragment definition."):Q(e.kind==="FragmentDefinition",53),e}function Mh(t){Pc(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new Ce("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Ce(54)}function Lh(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Pi(e,r.variable.name,r.defaultValue)}),e}var Ke=Array.isArray;function Yt(t){return Array.isArray(t)&&t.length>0}var Cm={kind:G.FIELD,name:{kind:G.NAME,value:"__typename"}};function Sb(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===G.FRAGMENT_SPREAD&&Sb(e[n.name.value],e)})}function nk(t){return Sb(Io(t)||tk(t),Ah(Ph(t)))?null:t}function rk(t){var e=new Set,n=[];return t.forEach(function(r){r.name?e.add(r.name):r.test&&n.push(r.test)}),function(r){return e.has(r.name.value)||n.some(function(i){return i(r)})}}function Im(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function Cb(t,e){for(var n=Im(""),r=Im(""),i=function(v){for(var y=0,E=void 0;y<v.length&&(E=v[y]);++y)if(!Ke(E)){if(E.kind===G.OPERATION_DEFINITION)return n(E.name&&E.name.value);if(E.kind===G.FRAGMENT_DEFINITION)return r(E.name.value)}return __DEV__&&Q.error("Could not find operation or fragment"),null},s=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===G.OPERATION_DEFINITION&&++s;var a=rk(t),c=t.some(function(v){return v.remove}),u=function(v){return c&&v&&v.some(a)},l=new Map,f=!1,h={enter:function(v){if(u(v.directives))return f=!0,null}},d=An(e,{Field:h,InlineFragment:h,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(v,y,E,T,x){var k=i(x);k&&k.variables.add(v.name.value)}},FragmentSpread:{enter:function(v,y,E,T,x){if(u(v.directives))return f=!0,null;var k=i(x);k&&k.fragmentSpreads.add(v.name.value)}},FragmentDefinition:{enter:function(v,y,E,T){l.set(JSON.stringify(T),v)},leave:function(v,y,E,T){var x=l.get(JSON.stringify(T));if(v===x)return v;if(s>0&&v.selectionSet.selections.every(function(k){return k.kind===G.FIELD&&k.name.value==="__typename"}))return r(v.name.value).removed=!0,f=!0,null}},Directive:{leave:function(v){if(a(v))return f=!0,null}}});if(!f)return e;var p=function(v){return v.transitiveVars||(v.transitiveVars=new Set(v.variables),v.removed||v.fragmentSpreads.forEach(function(y){p(r(y)).transitiveVars.forEach(function(E){v.transitiveVars.add(E)})})),v},m=new Set;d.definitions.forEach(function(v){v.kind===G.OPERATION_DEFINITION?p(n(v.name&&v.name.value)).fragmentSpreads.forEach(function(y){m.add(y)}):v.kind===G.FRAGMENT_DEFINITION&&s===0&&!r(v.name.value).removed&&m.add(v.name.value)}),m.forEach(function(v){p(r(v)).fragmentSpreads.forEach(function(y){m.add(y)})});var g=function(v){return!!(!m.has(v)||r(v).removed)},w={enter:function(v){if(g(v.name.value))return null}};return nk(An(d,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave:function(v){if(v.variableDefinitions){var y=p(n(v.name&&v.name.value)).transitiveVars;if(y.size<v.variableDefinitions.length)return C(C({},v),{variableDefinitions:v.variableDefinitions.filter(function(E){return y.has(E.variable.name.value)})})}}}}))}var Fh=Object.assign(function(t){return An(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===G.OPERATION_DEFINITION)){var i=e.selections;if(!!i){var s=i.some(function(a){return jr(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var o=r;if(!(jr(o)&&o.directives&&o.directives.some(function(a){return a.name.value==="export"})))return C(C({},e),{selections:ja(ja([],i,!0),[Cm],!1)})}}}}}})},{added:function(t){return t===Cm}}),ik={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(n){return n.name.value==="key"}))&&__DEV__&&Q.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function sk(t){return Cb([ik],Pc(t))}function ok(t){var e=Mh(t),n=e.operation;if(n==="query")return t;var r=An(t,{OperationDefinition:{enter:function(i){return C(C({},i),{operation:"query"})}}});return r}function ak(t){Pc(t);var e=Cb([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var ck=Object.prototype.hasOwnProperty;function Om(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vh(t)}function Vh(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new ir,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var uk=function(t,e,n){return this.merge(t[n],e[n])},ir=function(){function t(e){e===void 0&&(e=uk),this.reconciler=e,this.isObject=ze,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return ze(n)&&ze(e)?(Object.keys(n).forEach(function(o){if(ck.call(e,o)){var a=e[o];if(n[o]!==a){var c=r.reconciler.apply(r,ja([e,n,o],i,!1));c!==a&&(e=r.shallowCopyForMerge(e),e[o]=c)}}else e=r.shallowCopyForMerge(e),e[o]=n[o]}),e):n},t.prototype.shallowCopyForMerge=function(e){return ze(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=C({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function lk(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=fk(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fk(t,e){if(!!t){if(typeof t=="string")return km(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return km(t,e)}}function km(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e,n){return e&&xm(t.prototype,e),n&&xm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var $h=function(){return typeof Symbol=="function"},qh=function(t){return $h()&&Boolean(Symbol[t])},Bh=function(t){return qh(t)?Symbol[t]:"@@"+t};$h()&&!qh("observable")&&(Symbol.observable=Symbol("observable"));var hk=Bh("iterator"),Kl=Bh("observable"),Ib=Bh("species");function $a(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function hs(t){var e=t.constructor;return e!==void 0&&(e=e[Ib],e===null&&(e=void 0)),e!==void 0?e:Me}function dk(t){return t instanceof Me}function Mi(t){Mi.log?Mi.log(t):setTimeout(function(){throw t})}function wa(t){Promise.resolve().then(function(){try{t()}catch(e){Mi(e)}})}function Ob(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=$a(e,"unsubscribe");n&&n.call(e)}}catch(r){Mi(r)}}function Hl(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function pk(t){var e=t._queue;if(!!e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(kb(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function kb(t,e,n){t._state="running";var r=t._observer;try{var i=$a(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(Hl(t),i)i.call(r,n);else throw n;break;case"complete":Hl(t),i&&i.call(r);break}}catch(s){Mi(s)}t._state==="closed"?Ob(t):t._state==="running"&&(t._state="ready")}function Vu(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],wa(function(){return pk(t)});return}kb(t,e,n)}}var mk=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new gk(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(Hl(this),Ob(this))},jh(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),gk=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){Vu(this._subscription,"next",r)},e.error=function(r){Vu(this._subscription,"error",r)},e.complete=function(){Vu(this._subscription,"complete")},jh(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Me=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new mk(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){c.unsubscribe(),s()}var c=i.subscribe({next:function(u){try{r(u,a)}catch(l){o(l),c.unsubscribe()}},error:o,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=hs(this);return new s(function(o){return i.subscribe({next:function(a){try{a=r(a)}catch(c){return o.error(c)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=hs(this);return new s(function(o){return i.subscribe({next:function(a){try{if(!r(a))return}catch(c){return o.error(c)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=hs(this),o=arguments.length>1,a=!1,c=arguments[1],u=c;return new s(function(l){return i.subscribe({next:function(f){var h=!a;if(a=!0,!h||o)try{u=r(u,f)}catch(d){return l.error(d)}else u=f},error:function(f){l.error(f)},complete:function(){if(!a&&!o)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(u),l.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=hs(this);return new a(function(c){var u,l=0;function f(h){u=h.subscribe({next:function(d){c.next(d)},error:function(d){c.error(d)},complete:function(){l===s.length?(u=void 0,c.complete()):f(a.from(s[l++]))}})}return f(r),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=hs(this);return new s(function(o){var a=[],c=i.subscribe({next:function(l){if(r)try{l=r(l)}catch(h){return o.error(h)}var f=s.from(l).subscribe({next:function(h){o.next(h)},error:function(h){o.error(h)},complete:function(){var h=a.indexOf(f);h>=0&&a.splice(h,1),u()}});a.push(f)},error:function(l){o.error(l)},complete:function(){u()}});function u(){c.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(l){return l.unsubscribe()}),c.unsubscribe()}})},e[Kl]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var s=$a(r,Kl);if(s){var o=s.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return dk(o)&&o.constructor===i?o:new i(function(a){return o.subscribe(a)})}if(qh("iterator")&&(s=$a(r,hk),s))return new i(function(a){wa(function(){if(!a.closed){for(var c=lk(s.call(r)),u;!(u=c()).done;){var l=u.value;if(a.next(l),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){wa(function(){if(!a.closed){for(var c=0;c<r.length;++c)if(a.next(r[c]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=typeof this=="function"?this:t;return new o(function(a){wa(function(){if(!a.closed){for(var c=0;c<i.length;++c)if(a.next(i[c]),a.closed)return;a.complete()}})})},jh(t,null,[{key:Ib,get:function(){return this}}]),t}();$h()&&Object.defineProperty(Me,Symbol("extensions"),{value:{symbol:Kl,hostReportError:Mi},configurable:!0});function vk(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var si;typeof self!="undefined"?si=self:typeof window!="undefined"?si=window:typeof global!="undefined"?si=global:typeof module!="undefined"?si=module:si=Function("return this")();vk(si);var Dm=Me.prototype,Am="@@observable";Dm[Am]||(Dm[Am]=function(){return this});var yk=Object.prototype.toString;function xb(t){return Gl(t)}function Gl(t,e){switch(yk.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,s){n[s]=Gl(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=Gl(t[i],e)}),r}default:return t}}function bk(t){var e=new Set([t]);return e.forEach(function(n){ze(n)&&wk(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){ze(n[r])&&e.add(n[r])})}),t}function wk(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Wl(t){return __DEV__&&bk(t),t}function Ls(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function ju(t,e,n){return new Me(function(r){var i=r.next,s=r.error,o=r.complete,a=0,c=!1,u={then:function(d){return new Promise(function(p){return p(d())})}};function l(d,p){return d?function(m){++a;var g=function(){return d(m)};u=u.then(g,g).then(function(w){--a,i&&i.call(r,w),c&&f.complete()},function(w){throw--a,w}).catch(function(w){s&&s.call(r,w)})}:function(m){return p&&p.call(r,m)}}var f={next:l(e,i),error:l(n,s),complete:function(){c=!0,a||o&&o.call(r)}},h=t.subscribe(f);return function(){return h.unsubscribe()}})}var Qr=typeof WeakMap=="function"&&Kt(function(){return navigator.product})!=="ReactNative",_k=typeof WeakSet=="function",Db=typeof Symbol=="function"&&typeof Symbol.for=="function",Mc=Db&&Symbol.asyncIterator;Kt(function(){return window.document.createElement});Kt(function(){return navigator.userAgent.indexOf("jsdom")>=0});function Ab(t){function e(n){Object.defineProperty(t,n,{value:Me})}return Db&&Symbol.species&&e(Symbol.species),e("@@species"),t}function Nm(t){return t&&typeof t.then=="function"}var Cs=function(t){Jt(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Ls(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Ls(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,o=i.sources,a=o===void 0?[]:o;if(s!==null){var c=a.shift();c?Nm(c)?c.then(function(u){return r.sub=u.subscribe(r.handlers)}):r.sub=c.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Ls(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new Me(n)]),Nm(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,n(i,s))})},e}(Me);Ab(Cs);function Ti(t){return"incremental"in t}function Ek(t){return"hasNext"in t&&"data"in t}function Tk(t){return Ti(t)||Ek(t)}function Nb(t,e){var n=t,r=new ir;return Ti(e)&&Yt(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,o=i.path,a=o.length-1;a>=0;--a){var c=o[a],u=!isNaN(+c),l=u?[]:{};l[c]=s,s=l}n=r.merge(n,s)}),n}function _a(t){var e=Yl(t);return Yt(e)}function Yl(t){var e=Yt(t.errors)?t.errors.slice(0):[];return Ti(t)&&Yt(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Lc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){!r||Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(n[i]=s)})}),n}var Rm=new Map;function Jl(t){var e=Rm.get(t)||1;return Rm.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function Sk(t){var e=Jl("stringifyForDisplay");return JSON.stringify(t,function(n,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function $u(t,e){return Lc(t,e,e.variables&&{variables:C(C({},t&&t.variables),e.variables)})}function Pm(t){return new Me(function(e){e.error(t)})}var Xl=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function Ck(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw __DEV__?new Ce("illegal argument: ".concat(i)):new Ce(27)}return t}function Ik(t,e){var n=C({},t),r=function(s){typeof s=="function"?n=C(C({},n),s(n)):n=C(C({},n),s)},i=function(){return C({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function Ok(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?zl(e.query)||void 0:""),e}function Mm(t,e){return e?e(t):Me.of()}function ds(t){return typeof t=="function"?new zr(t):t}function na(t){return t.request.length<=1}var kk=function(t){Jt(e,t);function e(n,r){var i=t.call(this,n)||this;return i.link=r,i}return e}(Error),zr=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Me.of()})},t.from=function(e){return e.length===0?t.empty():e.map(ds).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=ds(n),s=ds(r||new t(Mm));return na(i)&&na(s)?new t(function(o){return e(o)?i.request(o)||Me.of():s.request(o)||Me.of()}):new t(function(o,a){return e(o)?i.request(o,a)||Me.of():s.request(o,a)||Me.of()})},t.execute=function(e,n){return e.request(Ik(n.context,Ok(Ck(n))))||Me.of()},t.concat=function(e,n){var r=ds(e);if(na(r))return __DEV__&&Q.warn(new kk("You are calling concat on a terminating link, which will have no effect",r)),r;var i=ds(n);return na(i)?new t(function(s){return r.request(s,function(o){return i.request(o)||Me.of()})||Me.of()}):new t(function(s,o){return r.request(s,function(a){return i.request(a,o)||Me.of()})||Me.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(Mm)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new Ce("request is not implemented"):new Ce(22)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),xk=zr.split,Zl=zr.execute,Dk="3.7.10";function Ak(t){return!!t.body}function Nk(t){return!!t.getReader}function Rk(t){return!!(Mc&&t[Symbol.asyncIterator])}function Pk(t){return!!t.stream}function Mk(t){return!!t.arrayBuffer}function Lk(t){return!!t.pipe}function Fk(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function Vk(t){var e=null,n=null,r=!1,i=[],s=[];function o(f){if(!n){if(s.length){var h=s.shift();if(Array.isArray(h)&&h[0])return h[0]({value:f,done:!1})}i.push(f)}}function a(f){n=f;var h=s.slice();h.forEach(function(d){d[1](f)}),!e||e()}function c(){r=!0;var f=s.slice();f.forEach(function(h){h[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",o),t.removeListener("error",a),t.removeListener("end",c),t.removeListener("finish",c),t.removeListener("close",c)},t.on("data",o),t.on("error",a),t.on("end",c),t.on("finish",c),t.on("close",c);function u(){return new Promise(function(f,h){if(n)return h(n);if(i.length)return f({value:i.shift(),done:!1});if(r)return f({value:void 0,done:!0});s.push([f,h])})}var l={next:function(){return u()}};return Mc&&(l[Symbol.asyncIterator]=function(){return this}),l}function jk(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return Mc&&(n[Symbol.asyncIterator]=function(){return this}),n}function Lm(t){var e={next:function(){return t.read()}};return Mc&&(e[Symbol.asyncIterator]=function(){return this}),e}function $k(t){var e=t;if(Ak(t)&&(e=t.body),Rk(e))return Fk(e);if(Nk(e))return Lm(e.getReader());if(Pk(e))return Lm(e.stream().getReader());if(Mk(e))return jk(e.arrayBuffer());if(Lk(e))return Vk(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Fm=Object.prototype.hasOwnProperty;function qk(t,e){var n,r,i;return zn(this,void 0,void 0,function(){var s,o,a,c,u,l,f,h,d,p,m,g,w,v,y,E,T,x,k,O;return Kn(this,function(L){switch(L.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");s=new TextDecoder("utf-8"),o=(n=t.headers)===null||n===void 0?void 0:n.get("content-type"),a="boundary=",c=o!=null&&o.includes(a)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(a))+a.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",u="--".concat(c),l="",f=$k(t),h=!0,L.label=1;case 1:return h?[4,f.next()]:[3,3];case 2:for(d=L.sent(),p=d.value,m=d.done,g=typeof p=="string"?p:s.decode(p),h=!m,l+=g,w=l.indexOf(u);w>-1;){if(v=void 0,O=[l.slice(0,w),l.slice(w+u.length)],v=O[0],l=O[1],v.trim()){if(y=v.indexOf(`\r
\r
`),E=Bk(v.slice(0,y)),T=E["content-type"],T&&T.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");x=v.slice(y);try{k=Rb(t,x.replace(`\r
`,"")),(Object.keys(k).length>1||"data"in k||"incremental"in k||"errors"in k)&&((r=e.next)===null||r===void 0||r.call(e,k))}catch(z){Uh(z,e)}}w=l.indexOf(u)}return[3,1];case 3:return(i=e.complete)===null||i===void 0||i.call(e),[2]}})})}function Bk(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();e[i]=s}}),e}function Rb(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};Xl(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function Uh(t,e){var n,r;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((n=e.next)===null||n===void 0||n.call(e,t.result)),(r=e.error)===null||r===void 0||r.call(e,t))}function Uk(t,e,n){Qk(e)(t).then(function(r){var i,s;(i=n.next)===null||i===void 0||i.call(n,r),(s=n.complete)===null||s===void 0||s.call(n)}).catch(function(r){return Uh(r,n)})}function Qk(t){return function(e){return e.text().then(function(n){return Rb(e,n)}).then(function(n){return e.status>=300&&Xl(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!Fm.call(n,"data")&&!Fm.call(n,"errors")&&Xl(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var ef=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=__DEV__?new Ce("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new Ce(24);throw r.parseError=i,r}return n},zk={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},Kk={accept:"*/*","content-type":"application/json"},Hk={method:"POST"},Gk={http:zk,headers:Kk,options:Hk},Wk=function(t,e){return e(t)};function Yk(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach(function(f){i=C(C(C({},i),f.options),{headers:C(C({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),s=C(C({},s),f.http)}),i.headers&&(i.headers=Jk(i.headers,s.preserveHeaderCase));var o=t.operationName,a=t.extensions,c=t.variables,u=t.query,l={operationName:o,variables:c};return s.includeExtensions&&(l.extensions=a),s.includeQuery&&(l.query=e(u,Eb)),{options:i,body:l}}function Jk(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]=t[s]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var Xk=function(t){if(!t&&typeof fetch=="undefined")throw __DEV__?new Ce(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new Ce(23)},Zk=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},ex=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function tx(t,e){var n=[],r=function(f,h){n.push("".concat(f,"=").concat(encodeURIComponent(h)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=ef(e.variables,"Variables map")}catch(f){return{parseError:f}}r("variables",i)}if(e.extensions){var s=void 0;try{s=ef(e.extensions,"Extensions map")}catch(f){return{parseError:f}}r("extensions",s)}var o="",a=t,c=t.indexOf("#");c!==-1&&(o=t.substr(c),a=t.substr(0,c));var u=a.indexOf("?")===-1?"?":"&",l=a+u+n.join("&")+o;return{newURI:l}}var Vm=Kt(function(){return fetch}),Pb=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,s=i===void 0?Wk:i,o=t.includeExtensions,a=t.preserveHeaderCase,c=t.useGETForQueries,u=t.includeUnusedVariables,l=u===void 0?!1:u,f=Ri(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&Xk(r||Vm);var h={http:{includeExtensions:o,preserveHeaderCase:a},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new zr(function(d){var p=ex(d,n),m=d.getContext(),g={};if(m.clientAwareness){var w=m.clientAwareness,v=w.name,y=w.version;v&&(g["apollographql-client-name"]=v),y&&(g["apollographql-client-version"]=y)}var E=C(C({},g),m.headers),T={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:E},x=Yk(d,s,Gk,h,T),k=x.options,O=x.body;if(O.variables&&!l){var L=new Set(Object.keys(O.variables));An(d.query,{Variable:function(fe,ft,Ge){Ge&&Ge.kind!=="VariableDefinition"&&L.delete(fe.name.value)}}),L.size&&(O.variables=C({},O.variables),L.forEach(function(fe){delete O.variables[fe]}))}var z;if(!k.signal){var te=Zk(),$=te.controller,ae=te.signal;z=$,z&&(k.signal=ae)}var B=function(fe){return fe.kind==="OperationDefinition"&&fe.operation==="mutation"};if(c&&!d.query.definitions.some(B)&&(k.method="GET"),Dh(["defer"],d.query)&&(k.headers=k.headers||{},k.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),k.method==="GET"){var ee=tx(p,O),le=ee.newURI,be=ee.parseError;if(be)return Pm(be);p=le}else try{k.body=ef(O,"Payload")}catch(fe){return Pm(fe)}return new Me(function(fe){var ft=r||Kt(function(){return fetch})||Vm;return ft(p,k).then(function(Ge){var ht;d.setContext({response:Ge});var tt=(ht=Ge.headers)===null||ht===void 0?void 0:ht.get("content-type");return tt!==null&&/^multipart\/mixed/i.test(tt)?qk(Ge,fe):Uk(Ge,d,fe)}).catch(function(Ge){return Uh(Ge,fe)}),function(){z&&z.abort()}})})},nx=function(t){Jt(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,Pb(n).request)||this;return r.options=n,r}return e}(zr),Mb=Object.prototype,jm=Mb.toString,rx=Mb.hasOwnProperty,$m=Function.prototype.toString,tf=new Map;function nt(t,e){try{return nf(t,e)}finally{tf.clear()}}function nf(t,e){if(t===e)return!0;var n=jm.call(t),r=jm.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(Bm(t,e))return!0;var i=qm(t),s=qm(e),o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;++a)if(!rx.call(e,i[a]))return!1;for(var a=0;a<o;++a){var c=i[a];if(!nf(t[c],e[c]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(Bm(t,e))return!0;for(var u=t.entries(),l=n==="[object Map]";;){var f=u.next();if(f.done)break;var h=f.value,d=h[0],p=h[1];if(!e.has(d)||l&&!nf(p,e.get(d)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var m=t.byteLength;if(m===e.byteLength)for(;m--&&t[m]===e[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var g=$m.call(t);return g!==$m.call(e)?!1:!ox(g,sx)}}return!1}function qm(t){return Object.keys(t).filter(ix,t)}function ix(t){return this[t]!==void 0}var sx="{ [native code] }";function ox(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function Bm(t,e){var n=tf.get(t);if(n){if(n.has(e))return!0}else tf.set(t,n=new Set);return n.add(e),!1}var ax=function(){return Object.create(null)},Lb=Array.prototype,cx=Lb.forEach,ux=Lb.slice,Oo=function(){function t(e,n){e===void 0&&(e=!0),n===void 0&&(n=ax),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return cx.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(ux.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&lx(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}();function lx(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var dt=null,Um={},fx=1,hx=function(){return function(){function t(){this.id=["slot",fx++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=dt;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===Um)break;return e!==dt&&(dt.slots[this.id]=n),!0}return dt&&(dt.slots[this.id]=Um),!1},t.prototype.getValue=function(){if(this.hasValue())return dt.slots[this.id]},t.prototype.withValue=function(e,n,r,i){var s,o=(s={__proto__:null},s[this.id]=e,s),a=dt;dt={parent:a,slots:o};try{return n.apply(i,r)}finally{dt=a}},t.bind=function(e){var n=dt;return function(){var r=dt;try{return dt=n,e.apply(this,arguments)}finally{dt=r}}},t.noContext=function(e,n,r){if(dt){var i=dt;try{return dt=null,e.apply(r,n)}finally{dt=i}}else return e.apply(r,n)},t}()};function Qm(t){try{return t()}catch{}}var qu="@wry/context:Slot",dx=Qm(function(){return globalThis})||Qm(function(){return global})||Object.create(null),zm=dx,Fc=zm[qu]||Array[qu]||function(t){try{Object.defineProperty(zm,qu,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(hx());Fc.bind;Fc.noContext;function px(){}var mx=function(){function t(e,n){e===void 0&&(e=1/0),n===void 0&&(n=px),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,i=n.newer;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1},t}(),Vc=new Fc,Bu,gx=Object.prototype.hasOwnProperty,Qh=(Bu=Array.from,Bu===void 0?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:Bu);function qa(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var ao=[],vx=100;function Li(t,e){if(!t)throw new Error(e||"assertion failure")}function yx(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function Fb(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function bx(t){return t.slice(0)}var wx=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!sr(this))return Km(this),this.value[0]},t.prototype.recompute=function(e){return Li(!this.recomputing,"already recomputing"),Km(this),sr(this)?_x(this,e):Fb(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Vb(this),qa(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),Ub(this),zh(this,function(n,r){n.setDirty(),Qb(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=ao.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(Qh(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),ao.push(this.deps),this.deps=null)},t.count=0,t}();function Km(t){var e=Vc.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),sr(t)?$b(e,t):qb(e,t),e}function _x(t,e){return Ub(t),Vc.withValue(t,Ex,[t,e]),Sx(t,e)&&Tx(t),Fb(t.value)}function Ex(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function sr(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function Tx(t){t.dirty=!1,!sr(t)&&jb(t)}function Vb(t){zh(t,$b)}function jb(t){zh(t,qb)}function zh(t,e){var n=t.parents.size;if(n)for(var r=Qh(t.parents),i=0;i<n;++i)e(r[i],t)}function $b(t,e){Li(t.childValues.has(e)),Li(sr(e));var n=!sr(t);if(!t.dirtyChildren)t.dirtyChildren=ao.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&Vb(t)}function qb(t,e){Li(t.childValues.has(e)),Li(!sr(e));var n=t.childValues.get(e);n.length===0?t.childValues.set(e,bx(e.value)):yx(n,e.value)||t.setDirty(),Bb(t,e),!sr(t)&&jb(t)}function Bb(t,e){var n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(ao.length<vx&&ao.push(n),t.dirtyChildren=null))}function Ub(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){Qb(t,n)}),t.forgetDeps(),Li(t.dirtyChildren===null)}function Qb(t,e){e.parents.delete(t),t.childValues.delete(e),Bb(t,e)}function Sx(t,e){if(typeof t.subscribe=="function")try{qa(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var Cx={setDirty:!0,dispose:!0,forget:!0};function zb(t){var e=new Map,n=t&&t.subscribe;function r(i){var s=Vc.getValue();if(s){var o=e.get(i);o||e.set(i,o=new Set),s.dependOn(o),typeof n=="function"&&(qa(o),o.unsubscribe=n(i))}}return r.dirty=function(s,o){var a=e.get(s);if(a){var c=o&&gx.call(Cx,o)?o:"setDirty";Qh(a).forEach(function(u){return u[c]()}),e.delete(s),qa(a)}},r}function Kb(){var t=new Oo(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}Kb();var Uu=new Set;function Ba(t,e){e===void 0&&(e=Object.create(null));var n=new mx(e.max||Math.pow(2,16),function(u){return u.dispose()}),r=e.keyArgs,i=e.makeCacheKey||Kb(),s=function(){var u=i.apply(null,r?r.apply(null,arguments):arguments);if(u===void 0)return t.apply(null,arguments);var l=n.get(u);l||(n.set(u,l=new wx(t)),l.subscribe=e.subscribe,l.forget=function(){return n.delete(u)});var f=l.recompute(Array.prototype.slice.call(arguments));return n.set(u,l),Uu.add(n),Vc.hasValue()||(Uu.forEach(function(h){return h.clean()}),Uu.clear()),f};Object.defineProperty(s,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1});function o(u){var l=n.get(u);l&&l.setDirty()}s.dirtyKey=o,s.dirty=function(){o(i.apply(null,arguments))};function a(u){var l=n.get(u);if(l)return l.peek()}s.peekKey=a,s.peek=function(){return a(i.apply(null,arguments))};function c(u){return n.delete(u)}return s.forgetKey=c,s.forget=function(){return c(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(s)}var Ix=function(){function t(){this.getFragmentDoc=Ba($O)}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(C(C({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(C(C({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=Ri(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,s=e.fragmentName,o=Ri(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,s),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),s=n(i);return s==null?i:(r.writeQuery(C(C({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),s=n(i);return s==null?i:(r.writeFragment(C(C({},e),{data:s})),s)}})},t}(),Hb=function(t){Jt(e,t);function e(n,r,i,s){var o,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=(o={},o[a.path[c]]=a.missing,o)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),at=Object.prototype.hasOwnProperty;function ps(t){return t==null}function Gb(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=ps(r)?ps(i)?void 0:{_id:i}:{id:r}),ps(r)&&!ps(i)&&(r=i),!ps(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var Wb={dataIdFromObject:Gb,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Ox(t){return Lc(Wb,t)}function Yb(t){var e=t.canonizeResults;return e===void 0?Wb.canonizeResults:e}function kx(t,e){return xe(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var Jb=/^[_a-z][_0-9a-z]*/i;function or(t){var e=t.match(Jb);return e?e[0]:t}function rf(t,e,n){return ze(e)?Ke(e)?e.every(function(r){return rf(t,r,n)}):t.selections.every(function(r){if(jr(r)&&Nc(r,n)){var i=Vr(r);return at.call(e,i)&&(!r.selectionSet||rf(r.selectionSet,e[i],n))}return!0}):!1}function hi(t){return ze(t)&&!xe(t)&&!Ke(t)}function xx(){return new ir}function Xb(t,e){var n=Ah(Ph(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var Ea=Object.create(null),Qu=function(){return Ea},Hm=Object.create(null),co=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return Wl(xe(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return xe(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return Ei(i);if(xe(i))return i;var o=r.policies.identify(i)[0];if(o){var a=Ei(o);return s&&r.merge(o,i),a}}}return t.prototype.toObject=function(){return C({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),at.call(this.data,e)){var r=this.data[e];if(r&&at.call(r,n))return r[n]}if(n==="__typename"&&at.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Un)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),at.call(this.data,e))return this.data[e];if(this instanceof Un)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;xe(e)&&(e=e.__ref),xe(n)&&(n=n.__ref);var s=typeof e=="string"?this.lookup(i=e):e,o=typeof n=="string"?this.lookup(i=n):n;if(!!o){__DEV__?Q(typeof i=="string","store.merge expects a string ID"):Q(typeof i=="string",1);var a=new ir(Ax).merge(s,o);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);s||(c.__exists=1),Object.keys(o).forEach(function(u){if(!s||s[u]!==a[u]){c[u]=1;var l=or(u);l!==u&&!r.policies.hasKeyArgs(a.__typename,l)&&(c[l]=1),a[u]===void 0&&!(r instanceof Un)&&delete a[u]}}),c.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete c.__typename,Object.keys(c).forEach(function(u){return r.group.dirty(i,u)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),o=!1,a=!0,c={DELETE:Ea,INVALIDATE:Hm,isReference:xe,toReference:this.toReference,canRead:this.canRead,readField:function(u,l){return r.policies.readField(typeof u=="string"?{fieldName:u,from:l||Ei(e)}:u,{store:r})}};if(Object.keys(i).forEach(function(u){var l=or(u),f=i[u];if(f!==void 0){var h=typeof n=="function"?n:n[u]||n[l];if(h){var d=h===Qu?Ea:h(Wl(f),C(C({},c),{fieldName:l,storeFieldName:u,storage:r.getStorage(e,u)}));d===Hm?r.group.dirty(e,u):(d===Ea&&(d=void 0),d!==f&&(s[u]=d,o=!0,f=d))}f!==void 0&&(a=!1)}}),o)return this.merge(e,s),a&&(this instanceof Un?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,s=this.lookup(e);if(s){var o=this.getFieldValue(s,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:o,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=Qu,i):Qu)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(at.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Un&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){at.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(s){e&&at.call(e,s)||n.delete(s)}),e){var r=e.__META,i=Ri(e,["__META"]);Object.keys(i).forEach(function(s){n.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Un?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(o){at.call(r,o)&&(Object.keys(e.findChildRefIds(o)).forEach(n.add,n),delete r[o])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof Un;)s=s.parent;i.forEach(function(o){return s.delete(o)})}return i},t.prototype.findChildRefIds=function(e){if(!at.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(s){xe(s)&&(n[s.__ref]=!0),ze(s)&&Object.keys(s).forEach(function(o){var a=s[o];ze(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),Zb=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?zb():null,this.keyMaker=new Oo(Qr)},t.prototype.depend=function(e,n){if(this.d){this.d(zu(e,n));var r=or(n);r!==n&&this.d(zu(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(zu(e,n),n==="__exists"?"forget":"setDirty")},t}();function zu(t,e){return e+"#"+t}function Gm(t,e){Fs(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){Jt(r,n);function r(i){var s=i.policies,o=i.resultCaching,a=o===void 0?!0:o,c=i.seed,u=n.call(this,s,new Zb(a))||this;return u.stump=new Dx(u),u.storageTrie=new Oo(Qr),c&&u.replace(c),u}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(co||(co={}));var Un=function(t){Jt(e,t);function e(n,r,i,s){var o=t.call(this,r.policies,s)||this;return o.id=n,o.parent=r,o.replay=i,o.group=s,i(o),o}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var o=r.data[s],a=i.lookup(s);a?o?o!==a&&Object.keys(o).forEach(function(c){nt(o[c],a[c])||r.group.dirty(s,c)}):(r.group.dirty(s,"__exists"),Object.keys(a).forEach(function(c){r.group.dirty(s,c)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return C(C({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return at.call(this.data,n)?C(C({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(co),Dx=function(t){Jt(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new Zb(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Un);function Ax(t,e,n){var r=t[n],i=e[n];return nt(r,i)?r:i}function Fs(t){return!!(t instanceof co&&t.group.caching)}function Nx(t){return ze(t)?Ke(t)?t.slice(0):C({__proto__:Object.getPrototypeOf(t)},t):t}var sf=function(){function t(){this.known=new(_k?WeakSet:Set),this.pool=new Oo(Qr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return ze(e)&&this.known.has(e)},t.prototype.pass=function(e){if(ze(e)){var n=Nx(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(ze(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),o=this.pool.lookupArray(s);return o.array||(this.known.add(o.array=s),__DEV__&&Object.freeze(s)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),c=[a],u=this.sortedKeys(e);c.push(u.json);var l=c.length;u.sorted.forEach(function(d){c.push(n.admit(e[d]))});var o=this.pool.lookupArray(c);if(!o.object){var f=o.object=Object.create(a);this.known.add(f),u.sorted.forEach(function(d,p){f[d]=c[l+p]}),__DEV__&&Object.freeze(f)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}(),Rr=Object.assign(function(t){if(ze(t)){of===void 0&&Wm();var e=of.admit(t),n=af.get(e);return n===void 0&&af.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:Wm}),of,af;function Wm(){of=new sf,af=new(Qr?WeakMap:Map)}function Ym(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Rx=function(){function t(e){var n=this;this.knownResults=new(Qr?WeakMap:Map),this.config=Lc(e,{addTypename:e.addTypename!==!1,canonizeResults:Yb(e)}),this.canon=e.canon||new sf,this.executeSelectionSet=Ba(function(r){var i,s=r.context.canonizeResults,o=Ym(r);o[3]=!s;var a=(i=n.executeSelectionSet).peek.apply(i,o);return a?s?C(C({},a),{result:n.canon.admit(a.result)}):a:(Gm(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:Ym,makeCacheKey:function(r,i,s,o){if(Fs(s.store))return s.store.makeCacheKey(r,xe(i)?i.__ref:i,s.varString,o)}}),this.executeSubSelectedArray=Ba(function(r){return Gm(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,s=r.array,o=r.context;if(Fs(o.store))return o.store.makeCacheKey(i,s,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new sf},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,o=e.variables,a=e.returnPartialData,c=a===void 0?!0:a,u=e.canonizeResults,l=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;o=C(C({},Lh(Tb(r))),o);var h=Ei(s),d=this.executeSelectionSet({selectionSet:Mh(r).selectionSet,objectOrReference:h,enclosingRef:h,context:C({store:n,query:r,policies:f,variables:o,varString:Rr(o),canonizeResults:l},Xb(r,this.config.fragments))}),p;if(d.missing&&(p=[new Hb(Px(d.missing),d.missing,r,o)],!c))throw p[0];return{result:d.result,complete:!p,missing:p}},t.prototype.isFresh=function(e,n,r,i){if(Fs(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,o=e.context;if(xe(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=o.variables,c=o.policies,u=o.store,l=u.getFieldValue(i,"__typename"),f=[],h,d=new ir;this.config.addTypename&&typeof l=="string"&&!c.rootIdsByTypename[l]&&f.push({__typename:l});function p(y,E){var T;return y.missing&&(h=d.merge(h,(T={},T[E]=y.missing,T))),y.result}var m=new Set(r.selections);m.forEach(function(y){var E,T;if(!!Nc(y,a))if(jr(y)){var x=c.readField({fieldName:y.name.value,field:y,variables:o.variables,from:i},o),k=Vr(y);x===void 0?Fh.added(y)||(h=d.merge(h,(E={},E[k]="Can't find field '".concat(y.name.value,"' on ").concat(xe(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),E))):Ke(x)?x=p(n.executeSubSelectedArray({field:y,array:x,enclosingRef:s,context:o}),k):y.selectionSet?x!=null&&(x=p(n.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:x,enclosingRef:xe(x)?x:s,context:o}),k)):o.canonizeResults&&(x=n.canon.pass(x)),x!==void 0&&f.push((T={},T[k]=x,T))}else{var O=Nh(y,o.lookupFragment);if(!O&&y.kind===G.FRAGMENT_SPREAD)throw __DEV__?new Ce("No fragment named ".concat(y.name.value)):new Ce(5);O&&c.fragmentMatches(O,l)&&O.selectionSet.selections.forEach(m.add,m)}});var g=Vh(f),w={result:g,missing:h},v=o.canonizeResults?this.canon.admit(w):Wl(w);return v.result&&this.knownResults.set(v.result,r),v},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,s=e.enclosingRef,o=e.context,a,c=new ir;function u(l,f){var h;return l.missing&&(a=c.merge(a,(h={},h[f]=l.missing,h))),l.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(l,f){return l===null?null:Ke(l)?u(n.executeSubSelectedArray({field:r,array:l,enclosingRef:s,context:o}),f):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:l,enclosingRef:xe(l)?l:s,context:o}),f):(__DEV__&&Mx(o.store,r,l),l)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function Px(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function Mx(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){ze(i)&&(__DEV__?Q(!xe(i),"Missing selection set for object of type ".concat(kx(t,i)," returned for query field ").concat(e.name.value)):Q(!xe(i),6),Object.values(i).forEach(r.add,r))})}}var Kh=new Fc,Jm=new WeakMap;function Vs(t){var e=Jm.get(t);return e||Jm.set(t,e={vars:new Set,dep:zb()}),e}function Xm(t){Vs(t).vars.forEach(function(e){return e.forgetCache(t)})}function Lx(t){Vs(t).vars.forEach(function(e){return e.attachCache(t)})}function Fx(t){var e=new Set,n=new Set,r=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(c){Vs(c).dep.dirty(r),Vx(c)});var o=Array.from(n);n.clear(),o.forEach(function(c){return c(t)})}}else{var a=Kh.getValue();a&&(i(a),Vs(a).dep(r))}return t};r.onNextChange=function(s){return n.add(s),function(){n.delete(s)}};var i=r.attachCache=function(s){return e.add(s),Vs(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function Vx(t){t.broadcastWatches&&t.broadcastWatches()}var Zm=Object.create(null);function Hh(t){var e=JSON.stringify(t);return Zm[e]||(Zm[e]=Object.create(null))}function eg(t){var e=Hh(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(o,a){return r.readField(a,o)},s=r.keyObject=Gh(t,function(o){var a=Si(r.storeObject,o,i);return a===void 0&&n!==r.storeObject&&at.call(n,o[0])&&(a=Si(n,o,tw)),__DEV__?Q(a!==void 0,"Missing field '".concat(o.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):Q(a!==void 0,2),a});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function tg(t){var e=Hh(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,s=r.variables,o=r.fieldName,a=Gh(t,function(u){var l=u[0],f=l.charAt(0);if(f==="@"){if(i&&Yt(i.directives)){var h=l.slice(1),d=i.directives.find(function(w){return w.name.value===h}),p=d&&Rc(d,s);return p&&Si(p,u.slice(1))}return}if(f==="$"){var m=l.slice(1);if(s&&at.call(s,m)){var g=u.slice(0);return g[0]=m,Si(s,g)}return}if(n)return Si(n,u)}),c=JSON.stringify(a);return(n||c!=="{}")&&(o+=":"+c),o})}function Gh(t,e){var n=new ir;return ew(t).reduce(function(r,i){var s,o=e(i);if(o!==void 0){for(var a=i.length-1;a>=0;--a)o=(s={},s[i[a]]=o,s);r=n.merge(r,o)}return r},Object.create(null))}function ew(t){var e=Hh(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,s){Ke(i)?(ew(i).forEach(function(o){return n.push(r.concat(o))}),r.length=0):(r.push(i),Ke(t[s+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function tw(t,e){return t[e]}function Si(t,e,n){return n=n||tw,nw(e.reduce(function r(i,s){return Ke(i)?i.map(function(o){return r(o,s)}):i&&n(i,s)},t))}function nw(t){return ze(t)?Ke(t)?t.map(nw):Gh(Object.keys(t).sort(),function(e){return Si(t,e)}):t}Rh.setStringify(Rr);function cf(t){return t.args!==void 0?t.args:t.field?Rc(t.field,t.variables):null}var jx=function(){},ng=function(t,e){return e.fieldName},rg=function(t,e,n){var r=n.mergeObjects;return r(t,e)},ig=function(t,e){return e},$x=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=C({dataIdFromObject:Gb},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,s=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=n&&n.storeObject||e,a=C(C({},n),{typename:s,storeObject:o,readField:n&&n.readField||function(){var h=Wh(arguments,o);return i.readField(h,{store:i.cache.data,variables:h.variables})}}),c,u=s&&this.getTypePolicy(s),l=u&&u.keyFn||this.config.dataIdFromObject;l;){var f=l(e,a);if(Ke(f))l=eg(f);else{c=f;break}}return c=c?String(c):void 0,a.keyObject?[c,a.keyObject]:[c]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,o=i.mutationType,a=i.subscriptionType,c=Ri(i,["queryType","mutationType","subscriptionType"]);s&&n.setRootTypename("Query",r),o&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),at.call(n.toBeAdded,r)?n.toBeAdded[r].push(c):n.toBeAdded[r]=[c]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),s=n.keyFields,o=n.fields;function a(c,u){c.merge=typeof u=="function"?u:u===!0?rg:u===!1?ig:c.merge}a(i,n.merge),i.keyFn=s===!1?jx:Ke(s)?eg(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(function(c){var u=r.getFieldPolicy(e,c,!0),l=o[c];if(typeof l=="function")u.read=l;else{var f=l.keyArgs,h=l.read,d=l.merge;u.keyFn=f===!1?ng:Ke(f)?tg(f):typeof f=="function"?f:u.keyFn,typeof h=="function"&&(u.read=h),a(u,d)}u.read&&u.merge&&(u.keyFn=u.keyFn||ng)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(__DEV__?Q(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):Q(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var s=i.match(Jb);(!s||s[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!at.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(o){var a=n.getTypePolicy(o),c=a.fields,u=Ri(a,["fields"]);Object.assign(r,u),Object.assign(r.fields,c)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(o){n.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var s=this;if(!e.typeCondition)return!0;if(!n)return!1;var o=e.typeCondition.name.value;if(n===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(n,!0),c=[a],u=function(p){var m=s.getSupertypeSet(p,!1);m&&m.size&&c.indexOf(m)<0&&c.push(m)},l=!!(r&&this.fuzzySubtypes.size),f=!1,h=0;h<c.length;++h){var d=c[h];if(d.has(o))return a.has(o)||(f&&__DEV__&&Q.warn("Inferring subtype ".concat(n," of supertype ").concat(o)),a.add(o)),!0;d.forEach(u),l&&h===c.length-1&&rf(e.selectionSet,r,i)&&(l=!1,f=!0,this.fuzzySubtypes.forEach(function(p,m){var g=n.match(p);g&&g[0]===n&&u(m)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s,o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},c=cf(e);o;){var u=o(c,a);if(Ke(u))o=tg(u);else{s=u||r;break}}return s===void 0&&(s=e.field?JO(e.field,e.variables):Rh(r,cf(e))),s===!1?r:r===or(s)?s:r+":"+s},t.prototype.readField=function(e,n){var r=e.from;if(!!r){var i=e.field||e.fieldName;if(!!i){if(e.typename===void 0){var s=n.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var o=this.getStoreFieldName(e),a=or(o),c=n.store.getFieldValue(r,o),u=this.getFieldPolicy(e.typename,a,!1),l=u&&u.read;if(l){var f=sg(this,r,e,n,n.store.getStorage(xe(r)?r.__ref:r,o));return Kh.withValue(this.cache,l,[c,f])}return c}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,n,r,i,s){var o=r.field,a=r.typename,c=r.merge;return c===rg?rw(i.store)(e,n):c===ig?n:(i.overwrite&&(e=void 0),c(e,n,sg(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:i.variables},i,s||Object.create(null))))},t}();function sg(t,e,n,r,i){var s=t.getStoreFieldName(n),o=or(s),a=n.variables||r.variables,c=r.store,u=c.toReference,l=c.canRead;return{args:cf(n),field:n.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:xe,toReference:u,storage:i,cache:t.cache,canRead:l,readField:function(){return t.readField(Wh(arguments,e,a),r)},mergeObjects:rw(r.store)}}function Wh(t,e,n){var r=t[0],i=t[1],s=t.length,o;return typeof r=="string"?o={fieldName:r,from:s>1?i:e}:(o=C({},r),at.call(o,"from")||(o.from=e)),__DEV__&&o.from===void 0&&__DEV__&&Q.warn("Undefined 'from' passed to readField with arguments ".concat(Sk(Array.from(t)))),o.variables===void 0&&(o.variables=n),o}function rw(t){return function(n,r){if(Ke(n)||Ke(r))throw __DEV__?new Ce("Cannot automatically merge arrays"):new Ce(4);if(ze(n)&&ze(r)){var i=t.getFieldValue(n,"__typename"),s=t.getFieldValue(r,"__typename"),o=i&&s&&i!==s;if(o)return r;if(xe(n)&&hi(r))return t.merge(n.__ref,r),n;if(hi(n)&&xe(r))return t.merge(n,r.__ref),r;if(hi(n)&&hi(r))return C(C({},n),r)}return r}}function Ku(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:C(C({},t),{clientOnly:e,deferred:n})),i}var qx=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,s=n.result,o=n.dataId,a=n.variables,c=n.overwrite,u=Io(i),l=xx();a=C(C({},Lh(u)),a);var f=C(C({store:e,written:Object.create(null),merge:function(d,p){return l.merge(d,p)},variables:a,varString:Rr(a)},Xb(i,this.fragments)),{overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:s||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!xe(h))throw __DEV__?new Ce("Could not identify object ".concat(JSON.stringify(s))):new Ce(7);return f.incomingById.forEach(function(d,p){var m=d.storeObject,g=d.mergeTree,w=d.fieldNodeSet,v=Ei(p);if(g&&g.map.size){var y=r.applyMerges(g,v,m,f);if(xe(y))return;m=y}if(__DEV__&&!f.overwrite){var E=Object.create(null);w.forEach(function(k){k.selectionSet&&(E[k.name.value]=!0)});var T=function(k){return E[or(k)]===!0},x=function(k){var O=g&&g.map.get(k);return Boolean(O&&O.info&&O.info.merge)};Object.keys(m).forEach(function(k){T(k)&&!x(k)&&Bx(v,m,k,f.store)})}e.merge(p,m)}),e.retain(h.__ref),h},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,s=e.selectionSet,o=e.context,a=e.mergeTree,c=this.cache.policies,u=Object.create(null),l=r&&c.rootTypenamesById[r]||Ql(i,s,o.fragmentMap)||r&&o.store.get(r,"__typename");typeof l=="string"&&(u.__typename=l);var f=function(){var y=Wh(arguments,u,o.variables);if(xe(y.from)){var E=o.incomingById.get(y.from.__ref);if(E){var T=c.readField(C(C({},y),{from:E.storeObject}),o);if(T!==void 0)return T}}return c.readField(y,o)},h=new Set;this.flattenFields(s,i,o,l).forEach(function(y,E){var T,x=Vr(E),k=i[x];if(h.add(E),k!==void 0){var O=c.getStoreFieldName({typename:l,fieldName:E.name.value,field:E,variables:y.variables}),L=og(a,O),z=n.processFieldValue(k,E,E.selectionSet?Ku(y,!1,!1):y,L),te=void 0;E.selectionSet&&(xe(z)||hi(z))&&(te=f("__typename",z));var $=c.getMergeFunction(l,E.name.value,te);$?L.info={field:E,typename:l,merge:$}:ag(a,O),u=y.merge(u,(T={},T[O]=z,T))}else __DEV__&&!y.clientOnly&&!y.deferred&&!Fh.added(E)&&!c.getReadFunction(l,E.name.value)&&__DEV__&&Q.error("Missing field '".concat(Vr(E),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var d=c.identify(i,{typename:l,selectionSet:s,fragmentMap:o.fragmentMap,storeObject:u,readField:f}),p=d[0],m=d[1];r=r||p,m&&(u=o.merge(u,m))}catch(y){if(!r)throw y}if(typeof r=="string"){var g=Ei(r),w=o.written[r]||(o.written[r]=[]);if(w.indexOf(s)>=0||(w.push(s),this.reader&&this.reader.isFresh(i,g,s,o)))return g;var v=o.incomingById.get(r);return v?(v.storeObject=o.merge(v.storeObject,u),v.mergeTree=uf(v.mergeTree,a),h.forEach(function(y){return v.fieldNodeSet.add(y)})):o.incomingById.set(r,{storeObject:u,mergeTree:Ua(a)?void 0:a,fieldNodeSet:h}),g}return u},t.prototype.processFieldValue=function(e,n,r,i){var s=this;return!n.selectionSet||e===null?__DEV__?xb(e):e:Ke(e)?e.map(function(o,a){var c=s.processFieldValue(o,n,r,og(i,a));return ag(i,a),c}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=Ql(n,e,r.fragmentMap));var s=new Map,o=this.cache.policies,a=new Oo(!1);return function c(u,l){var f=a.lookup(u,l.clientOnly,l.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(h){if(!!Nc(h,r.variables)){var d=l.clientOnly,p=l.deferred;if(!(d&&p)&&Yt(h.directives)&&h.directives.forEach(function(w){var v=w.name.value;if(v==="client"&&(d=!0),v==="defer"){var y=Rc(w,r.variables);(!y||y.if!==!1)&&(p=!0)}}),jr(h)){var m=s.get(h);m&&(d=d&&m.clientOnly,p=p&&m.deferred),s.set(h,Ku(r,d,p))}else{var g=Nh(h,r.lookupFragment);if(!g&&h.kind===G.FRAGMENT_SPREAD)throw __DEV__?new Ce("No fragment named ".concat(h.name.value)):new Ce(8);g&&o.fragmentMatches(g,i,n,r.variables)&&c(g.selectionSet,Ku(r,d,p))}}}))}(e,r),s},t.prototype.applyMerges=function(e,n,r,i,s){var o,a=this;if(e.map.size&&!xe(r)){var c=!Ke(r)&&(xe(n)||hi(n))?n:void 0,u=r;c&&!s&&(s=[xe(c)?c.__ref:c]);var l,f=function(h,d){return Ke(h)?typeof d=="number"?h[d]:void 0:i.store.getFieldValue(h,String(d))};e.map.forEach(function(h,d){var p=f(c,d),m=f(u,d);if(m!==void 0){s&&s.push(d);var g=a.applyMerges(h,p,m,i,s);g!==m&&(l=l||new Map,l.set(d,g)),s&&Q(s.pop()===d)}}),l&&(r=Ke(u)?u.slice(0):C({},u),l.forEach(function(h,d){r[d]=h}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,s&&(o=i.store).getStorage.apply(o,s)):r},t}(),iw=[];function og(t,e){var n=t.map;return n.has(e)||n.set(e,iw.pop()||{map:new Map}),n.get(e)}function uf(t,e){if(t===e||!e||Ua(e))return t;if(!t||Ua(t))return e;var n=t.info&&e.info?C(C({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,s={info:n,map:i};if(r){var o=new Set(e.map.keys());t.map.forEach(function(a,c){s.map.set(c,uf(a,e.map.get(c))),o.delete(c)}),o.forEach(function(a){s.map.set(a,uf(e.map.get(a),t.map.get(a)))})}return s}function Ua(t){return!t||!(t.info||t.map.size)}function ag(t,e){var n=t.map,r=n.get(e);r&&Ua(r)&&(iw.push(r),n.delete(e))}var cg=new Set;function Bx(t,e,n,r){var i=function(f){var h=r.getFieldValue(f,n);return typeof h=="object"&&h},s=i(t);if(!!s){var o=i(e);if(!!o&&!xe(s)&&!nt(s,o)&&!Object.keys(s).every(function(f){return r.getFieldValue(o,f)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),c=or(n),u="".concat(a,".").concat(c);if(!cg.has(u)){cg.add(u);var l=[];!Ke(s)&&!Ke(o)&&[s,o].forEach(function(f){var h=r.getFieldValue(f,"__typename");typeof h=="string"&&!l.includes(h)&&l.push(h)}),__DEV__&&Q.warn("Cache data may be lost when replacing the ".concat(c," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(o).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var Ux=function(t){Jt(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=Fx,r.txCount=0,r.config=Ox(n),r.addTypename=!!r.config.addTypename,r.policies=new $x({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new co.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new qx(this,this.storeReader=new Rx({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Yb(this.config),canon:n?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=Ba(function(o,a){return r.broadcastWatch(o,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var a=o.optimistic?r.optimisticData:r.data;if(Fs(a)){var c=o.optimistic,u=o.id,l=o.variables;return a.makeCacheKey(o.query,o.callback,Rr({optimistic:c,id:u,variables:l}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(C(C({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof Hb)return null;throw s}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(at.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(C(C({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||Lx(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&Xm(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){Rr.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(xe(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&Q.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(at.call(n,"id"))return!1;n=C(C({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),Rr.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Xm(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,s=n.optimistic,o=s===void 0?!0:s,a=n.removeOptimistic,c=n.onWatchUpdated,u,l=function(h){var d=r,p=d.data,m=d.optimisticData;++r.txCount,h&&(r.data=r.optimisticData=h);try{return u=i(r)}finally{--r.txCount,r.data=p,r.optimisticData=m}},f=new Set;return c&&!this.txCount&&this.broadcastWatches(C(C({},n),{onWatchUpdated:function(h){return f.add(h),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,l):o===!1?l(this.data):l(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),c&&f.size?(this.broadcastWatches(C(C({},n),{onWatchUpdated:function(h,d){var p=c.call(this,h,d);return p!==!1&&f.delete(h),p}})),f.size&&f.forEach(function(h){return r.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(n),u},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=Fh(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.transformForLink=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!nt(i.result,s.result))&&n.callback(n.lastDiff=s,i)},e}(Ix);function sw(t){return t.hasOwnProperty("graphQLErrors")}var Qx=function(t){var e="";if(Yt(t.graphQLErrors)||Yt(t.clientErrors)){var n=(t.graphQLErrors||[]).concat(t.clientErrors||[]);n.forEach(function(r){var i=r?r.message:"Error message not found.";e+="".concat(i,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},Gn=function(t){Jt(e,t);function e(n){var r=n.graphQLErrors,i=n.clientErrors,s=n.networkError,o=n.errorMessage,a=n.extraInfo,c=t.call(this,o)||this;return c.name="ApolloError",c.graphQLErrors=r||[],c.clientErrors=i||[],c.networkError=s||null,c.message=o||Qx(c),c.extraInfo=a,c.__proto__=e.prototype,c}return e}(Error),Ae;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(Ae||(Ae={}));function uo(t){return t?t<7:!1}var zx=Object.assign,Kx=Object.hasOwnProperty,lf=function(t){Jt(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,s=n.options,o=t.call(this,function(g){try{var w=g._subscription._observer;w&&!w.error&&(w.error=Hx)}catch{}var v=!o.observers.size;o.observers.add(g);var y=o.last;return y&&y.error?g.error&&g.error(y.error):y&&y.result&&g.next&&g.next(y.result),v&&o.reobserve().catch(function(){}),function(){o.observers.delete(g)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=i,o.queryManager=r,o.isTornDown=!1;var a=r.defaultOptions.watchQuery,c=a===void 0?{}:a,u=c.fetchPolicy,l=u===void 0?"cache-first":u,f=s.fetchPolicy,h=f===void 0?l:f,d=s.initialFetchPolicy,p=d===void 0?h==="standby"?l:h:d;o.options=C(C({},s),{initialFetchPolicy:p,fetchPolicy:h}),o.queryId=i.queryId||r.generateQueryId();var m=Io(o.query);return o.queryName=m&&m.name&&m.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var s={next:function(a){r(a),n.observers.delete(s),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=n.subscribe(s)})},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||Ae.ready,s=C(C({},r),{loading:uo(i),networkStatus:i}),o=this.options.fetchPolicy,a=o===void 0?"cache-first":o;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(s.data=c.result),nt(s.data,{})&&(s.data=void 0),c.complete?(delete s.partial,c.complete&&s.networkStatus===Ae.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=Ae.ready,s.loading=!1)):s.partial=!0,__DEV__&&!c.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&aw(c.missing)}return n&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(n,r){return!this.last||!nt(this.last.result,n)||r&&!nt(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||nt(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&n&&Kx.call(n,"variables")){var o=Tb(this.query),a=o.variableDefinitions;(!a||!a.some(function(c){return c.variable.name.value==="variables"}))&&__DEV__&&Q.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat(((r=o.name)===null||r===void 0?void 0:r.value)||JSON.stringify(o),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return n&&!nt(this.options.variables,n)&&(i.variables=this.options.variables=C(C({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,Ae.refetch)},e.prototype.fetchMore=function(n){var r=this,i=C(C({},n.query?n:C(C(C(C({},this.options),{query:this.query}),n),{variables:C(C({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),o=this.queryInfo,a=o.networkStatus;o.networkStatus=Ae.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var c=new Set;return this.queryManager.fetchQuery(s,i,Ae.fetchMore).then(function(u){return r.queryManager.removeQuery(s),o.networkStatus===Ae.fetchMore&&(o.networkStatus=a),r.queryManager.cache.batch({update:function(l){var f=n.updateQuery;f?l.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(h){return f(h,{fetchMoreResult:u.data,variables:i.variables})}):l.writeQuery({query:i.query,variables:i.variables,data:u.data})},onWatchUpdated:function(l){c.add(l.query)}}),u}).finally(function(){c.has(r.query)||ow(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(s){var o=n.updateQuery;o&&r.updateQuery(function(a,c){var u=c.variables;return o(a,{subscriptionData:s,variables:u})})},error:function(s){if(n.onError){n.onError(s);return}__DEV__&&Q.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return nt(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},Ae.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=n(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,o=r.initialFetchPolicy,a=o===void 0?s:o;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?Q(s,"Attempted to start a polling query without a polling interval."):Q(s,13);var o=i||(this.pollingInfo={});o.interval=s;var a=function(){n.pollingInfo&&(uo(n.queryInfo.networkStatus)?c():n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Ae.poll).then(c,c))},c=function(){var u=n.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(a,u.interval))};c()}}},e.prototype.updateLastResult=function(n,r){return r===void 0&&(r=this.variables),this.last=C(C({},this.last),{result:this.queryManager.assumeImmutableResults?n:xb(n),variables:r}),Yt(n.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(n,r){var i=this;this.isTornDown=!1;var s=r===Ae.refetch||r===Ae.fetchMore||r===Ae.poll,o=this.options.variables,a=this.options.fetchPolicy,c=Lc(this.options,n||{}),u=s?c:zx(this.options,c);s||(this.updatePolling(),n&&n.variables&&!nt(n.variables,o)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=Ae.setVariables)));var l=u.variables&&C({},u.variables),f=this.fetch(u,r),h={next:function(d){i.reportResult(d,l)},error:function(d){i.reportError(d,l)}};return s||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=h),f.addObserver(h),f.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(n,r))&&((i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),Ls(this.observers,"next",n))},e.prototype.reportError=function(n,r){var i=C(C({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:Ae.error,loading:!1});this.updateLastResult(i,r),Ls(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Me);Ab(lf);function ow(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):n}}):t.reobserve()}function Hx(t){__DEV__&&Q.error("Unhandled error",t.message,t.stack)}function aw(t){__DEV__&&t&&__DEV__&&Q.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var cw=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=Om(n.resolvers,r)}):this.resolvers=Om(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,i=e.context,s=e.variables,o=e.onlyRunForcedResolvers,a=o===void 0?!1:o;return zn(this,void 0,void 0,function(){return Kn(this,function(c){return n?[2,this.resolveDocument(n,r.data,i,s,this.fragmentMatcher,a).then(function(u){return C(C({},r),{data:u.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Dh(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return ak(e)},t.prototype.prepareContext=function(e){var n=this.cache;return C(C({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return n===void 0&&(n={}),r===void 0&&(r={}),zn(this,void 0,void 0,function(){return Kn(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(s){return C(C({},n),s.exportedVariables)})]:[2,C({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return An(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return xh}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:ok(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,i,s,o){return r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),o===void 0&&(o=!1),zn(this,void 0,void 0,function(){var a,c,u,l,f,h,d,p,m,g,w;return Kn(this,function(v){return a=Mh(e),c=Ph(e),u=Ah(c),l=this.collectSelectionsToResolve(a,u),f=a.operation,h=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",d=this,p=d.cache,m=d.client,g={fragmentMap:u,context:C(C({},r),{cache:p,client:m}),variables:i,fragmentMatcher:s,defaultOperationType:h,exportedVariables:{},selectionsToResolve:l,onlyRunForcedResolvers:o},w=!1,[2,this.resolveSelectionSet(a.selectionSet,w,n,g).then(function(y){return{result:y,exportedVariables:g.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return zn(this,void 0,void 0,function(){var s,o,a,c,u,l=this;return Kn(this,function(f){return s=i.fragmentMap,o=i.context,a=i.variables,c=[r],u=function(h){return zn(l,void 0,void 0,function(){var d,p;return Kn(this,function(m){return!n&&!i.selectionsToResolve.has(h)?[2]:Nc(h,a)?jr(h)?[2,this.resolveField(h,n,r,i).then(function(g){var w;typeof g!="undefined"&&c.push((w={},w[Vr(h)]=g,w))})]:(ek(h)?d=h:(d=s[h.name.value],__DEV__?Q(d,"No fragment named ".concat(h.name.value)):Q(d,11)),d&&d.typeCondition&&(p=d.typeCondition.name.value,i.fragmentMatcher(r,p,o))?[2,this.resolveSelectionSet(d.selectionSet,n,r,i).then(function(g){c.push(g)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return Vh(c)})]})})},t.prototype.resolveField=function(e,n,r,i){return zn(this,void 0,void 0,function(){var s,o,a,c,u,l,f,h,d,p=this;return Kn(this,function(m){return r?(s=i.variables,o=e.name.value,a=Vr(e),c=o!==a,u=r[a]||r[o],l=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=r.__typename||i.defaultOperationType,h=this.resolvers&&this.resolvers[f],h&&(d=h[c?o:a],d&&(l=Promise.resolve(Kh.withValue(this.cache,d,[r,Rc(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,l.then(function(g){var w,v;if(g===void 0&&(g=u),e.directives&&e.directives.forEach(function(E){E.name.value==="export"&&E.arguments&&E.arguments.forEach(function(T){T.name.value==="as"&&T.value.kind==="StringValue"&&(i.exportedVariables[T.value.value]=g)})}),!e.selectionSet||g==null)return g;var y=(v=(w=e.directives)===null||w===void 0?void 0:w.some(function(E){return E.name.value==="client"}))!==null&&v!==void 0?v:!1;if(Array.isArray(g))return p.resolveSubSelectedArray(e,n||y,g,i);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,n||y,g,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var s=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return s.resolveSubSelectedArray(e,n,o,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,n,o,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(o){return!Array.isArray(o)},i=this.selectionsToResolveCache;function s(o){if(!i.has(o)){var a=new Set;i.set(o,a),An(o,{Directive:function(c,u,l,f,h){c.name.value==="client"&&h.forEach(function(d){r(d)&&Sm(d)&&a.add(d)})},FragmentSpread:function(c,u,l,f,h){var d=n[c.name.value];__DEV__?Q(d,"No fragment named ".concat(c.name.value)):Q(d,12);var p=s(d);p.size>0&&(h.forEach(function(m){r(m)&&Sm(m)&&a.add(m)}),a.add(c),p.forEach(function(m){a.add(m)}))}})}return i.get(o)}return s(e)},t}(),di=new(Qr?WeakMap:Map);function Hu(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return di.set(t,(di.get(t)+1)%1e15),n.apply(this,arguments)})}function ug(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Gu=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;di.has(r)||(di.set(r,0),Hu(r,"evict"),Hu(r,"modify"),Hu(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||Ae.loading;return this.variables&&this.networkStatus!==Ae.loading&&!nt(this.variables,e.variables)&&(n=Ae.setVariables),nt(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){ug(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&nt(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!nt(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():ow(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;ug(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(uo(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=C(C({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return n.setDiff(s)}});(!this.lastWatch||!nt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===di.get(this.cache)&&nt(n,r.variables)&&nt(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var s=this,o=new ir,a=Yt(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Yt(e.incremental)){var c=Nb(this.getDiff().result,e);e.data=c}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=o.merge(u.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(ff(e,r.errorPolicy)?this.cache.performTransaction(function(l){if(s.shouldWrite(e,r.variables))l.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:di.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var f=s.getDiffOptions(r.variables),h=l.diff(f);s.stopped||s.updateWatch(r.variables),s.updateLastDiff(h,f),h.complete&&(e.data=h.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ae.ready},t.prototype.markError=function(e){return this.networkStatus=Ae.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function ff(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!_a(t);return!r&&n&&t.data&&(r=!0),r}var Gx=Object.prototype.hasOwnProperty,Wx=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,s=e.queryDeduplication,o=s===void 0?!1:s,a=e.onBroadcast,c=e.ssrMode,u=c===void 0?!1:c,l=e.clientAwareness,f=l===void 0?{}:l,h=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Qr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=o,this.clientAwareness=f,this.localState=h||new cw({cache:n}),this.ssrMode=u,this.assumeImmutableResults=!!d,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new Ce("QueryManager stopped while query was in flight"):new Ce(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n,r,i=e.mutation,s=e.variables,o=e.optimisticResponse,a=e.updateQueries,c=e.refetchQueries,u=c===void 0?[]:c,l=e.awaitRefetchQueries,f=l===void 0?!1:l,h=e.update,d=e.onQueryUpdated,p=e.fetchPolicy,m=p===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.fetchPolicy)||"network-only":p,g=e.errorPolicy,w=g===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":g,v=e.keepRootFields,y=e.context;return zn(this,void 0,void 0,function(){var E,T,x,k,O,L;return Kn(this,function(z){switch(z.label){case 0:return __DEV__?Q(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):Q(i,15),__DEV__?Q(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Q(m==="network-only"||m==="no-cache",16),E=this.generateMutationId(),T=this.transform(i),x=T.document,k=T.hasClientExports,i=this.cache.transformForLink(x),s=this.getVariables(i,s),k?[4,this.localState.addExportedVariables(i,s,y)]:[3,2];case 1:s=z.sent(),z.label=2;case 2:return O=this.mutationStore&&(this.mutationStore[E]={mutation:i,variables:s,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:E,document:i,variables:s,fetchPolicy:m,errorPolicy:w,context:y,updateQueries:a,update:h,keepRootFields:v}),this.broadcastQueries(),L=this,[2,new Promise(function(te,$){return ju(L.getObservableFromLink(i,C(C({},y),{optimisticResponse:o}),s,!1),function(ae){if(_a(ae)&&w==="none")throw new Gn({graphQLErrors:Yl(ae)});O&&(O.loading=!1,O.error=null);var B=C({},ae);return typeof u=="function"&&(u=u(B)),w==="ignore"&&_a(B)&&delete B.errors,L.markMutationResult({mutationId:E,result:B,document:i,variables:s,fetchPolicy:m,errorPolicy:w,context:y,update:h,updateQueries:a,awaitRefetchQueries:f,refetchQueries:u,removeOptimistic:o?E:void 0,onQueryUpdated:d,keepRootFields:v})}).subscribe({next:function(ae){L.broadcastQueries(),(!("hasNext"in ae)||ae.hasNext===!1)&&te(ae)},error:function(ae){O&&(O.loading=!1,O.error=ae),o&&L.cache.removeOptimistic(E),L.broadcastQueries(),$(ae instanceof Gn?ae:new Gn({networkError:ae}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,s=[],o=e.fetchPolicy==="no-cache";if(!o&&ff(i,e.errorPolicy)){if(Ti(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Ti(i)&&Yt(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=void 0;a.result&&(c=Nb(a.result,i)),typeof c!="undefined"&&(i.data=c,s.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(f,h){var d=f.observableQuery,p=d&&d.queryName;if(!(!p||!Gx.call(u,p))){var m=u[p],g=r.queries.get(h),w=g.document,v=g.variables,y=n.diff({query:w,variables:v,returnPartialData:!0,optimistic:!1}),E=y.result,T=y.complete;if(T&&E){var x=m(E,{mutationResult:i,queryName:w&&zl(w)||void 0,queryVariables:v});x&&s.push({result:x,dataId:"ROOT_QUERY",query:w,variables:v})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(f){o||s.forEach(function(m){return f.write(m)});var h=e.update,d=!Tk(i)||Ti(i)&&!i.hasNext;if(h){if(!o){var p=f.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});p.complete&&(i=C(C({},i),{data:p.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}d&&h(f,i,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&d&&f.modify({id:"ROOT_MUTATION",fields:function(m,g){var w=g.fieldName,v=g.DELETE;return w==="__typename"?m:v}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(f){return l.push(f)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(C(C({},n),{result:{data:i}}),s)}catch(o){__DEV__&&Q.error(o)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=sk(r),s=this.localState.clientQuery(r),o=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:FO(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:o,defaultVars:Lh(Io(r)),asQuery:C(C({},r),{definitions:r.definitions.map(function(u){return u.kind==="OperationDefinition"&&u.operation!=="query"?C(C({},u),{operation:"query"}):u})})},c=function(u){u&&!n.has(u)&&n.set(u,a)};c(e),c(r),c(s),c(o)}return n.get(e)},t.prototype.getVariables=function(e,n){return C(C({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){e=C(C({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var n=new Gu(this),r=new lf({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:r.query,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),__DEV__?Q(e.query,"query option is required. You must specify your GraphQL document in the query option."):Q(e.query,17),__DEV__?Q(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):Q(e.query.kind==="Document",18),__DEV__?Q(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):Q(!e.returnPartialData,19),__DEV__?Q(!e.pollInterval,"pollInterval option only supported on watchQuery."):Q(!e.pollInterval,20),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Ce("Store reset while query was in flight (not completed in link chain)"):new Ce(21)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=Ae.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?i.set(o,!1):qO(o)?i.set(n.transform(o).document,!1):ze(o)&&o.query&&s.add(o)}),this.queries.forEach(function(o,a){var c=o.observableQuery,u=o.document;if(c){if(e==="all"){r.set(a,c);return}var l=c.queryName,f=c.options.fetchPolicy;if(f==="standby"||e==="active"&&!c.hasObservers())return;(e==="active"||l&&i.has(l)||u&&i.has(u))&&(r.set(a,c),l&&i.set(l,!0),u&&i.set(u,!0))}}),s.size&&s.forEach(function(o){var a=Jl("legacyOneTimeQuery"),c=n.getQuery(a).init({document:o.query,variables:o.variables}),u=new lf({queryManager:n,queryInfo:c,options:C(C({},o),{fetchPolicy:"network-only"})});Q(u.queryId===a),c.setObservableQuery(u),r.set(a,u)}),__DEV__&&i.size&&i.forEach(function(o,a){o||__DEV__&&Q.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var o=i.options.fetchPolicy;i.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&r.push(i.refetch()),n.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,o=e.variables,a=e.context,c=a===void 0?{}:a;r=this.transform(r).document,o=this.getVariables(r,o);var u=function(f){return n.getObservableFromLink(r,c,f).map(function(h){if(i!=="no-cache"&&(ff(h,s)&&n.cache.write({query:r,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),n.broadcastQueries()),_a(h))throw new Gn({graphQLErrors:h.errors});return h})};if(this.transform(r).hasClientExports){var l=this.localState.addExportedVariables(r,o,c).then(u);return new Me(function(f){var h=null;return l.then(function(d){return h=d.subscribe(f)},f.error),function(){return h&&h.unsubscribe()}})}return u(o)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s=this,o;i===void 0&&(i=(o=n==null?void 0:n.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var a,c=this.transform(e).serverQuery;if(c){var u=this,l=u.inFlightLinkObservables,f=u.link,h={query:c,variables:r,operationName:zl(c)||void 0,context:this.prepareContext(C(C({},n),{forceFetch:!i}))};if(n=h.context,i){var d=l.get(c)||new Map;l.set(c,d);var p=Rr(r);if(a=d.get(p),!a){var m=new Cs([Zl(f,h)]);d.set(p,a=m),m.beforeNext(function(){d.delete(p)&&d.size<1&&l.delete(c)})}}else a=new Cs([Zl(f,h)])}else a=new Cs([Me.of({data:{}})]),n=this.prepareContext(n);var g=this.transform(e).clientQuery;return g&&(a=ju(a,function(w){return s.localState.runResolvers({document:g,remoteResult:w,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return ju(this.getObservableFromLink(s,r.context,r.variables),function(o){var a=Yl(o),c=a.length>0;if(i>=e.lastRequestId){if(c&&r.errorPolicy==="none")throw e.markError(new Gn({graphQLErrors:a}));e.markResult(o,s,r,n),e.markReady()}var u={data:o.data,loading:!1,networkStatus:Ae.ready};return c&&r.errorPolicy!=="ignore"&&(u.errors=a,u.networkStatus=Ae.error),u},function(o){var a=sw(o)?o:new Gn({networkError:o});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,n,r){var i=this;r===void 0&&(r=Ae.loading);var s=this.transform(n.query).document,o=this.getVariables(s,n.variables),a=this.getQuery(e),c=this.defaultOptions.watchQuery,u=n.fetchPolicy,l=u===void 0?c&&c.fetchPolicy||"cache-first":u,f=n.errorPolicy,h=f===void 0?c&&c.errorPolicy||"none":f,d=n.returnPartialData,p=d===void 0?!1:d,m=n.notifyOnNetworkStatusChange,g=m===void 0?!1:m,w=n.context,v=w===void 0?{}:w,y=Object.assign({},n,{query:s,variables:o,fetchPolicy:l,errorPolicy:h,returnPartialData:p,notifyOnNetworkStatusChange:g,context:v}),E=function(k){y.variables=k;var O=i.fetchQueryByPolicy(a,y,r);return y.fetchPolicy!=="standby"&&O.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),O},T=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(k){T(),setTimeout(function(){return x.cancel(k)})});var x=new Cs(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(E):E(y.variables));return x.promise.then(T,T),x},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,s=e.optimistic,o=s===void 0?!1:s,a=e.removeOptimistic,c=a===void 0?o?Jl("refetchQueries"):void 0:a,u=e.onQueryUpdated,l=new Map;i&&this.getObservableQueries(i).forEach(function(h,d){l.set(d,{oq:h,lastDiff:n.getQuery(d).getDiff()})});var f=new Map;return r&&this.cache.batch({update:r,optimistic:o&&c||!1,removeOptimistic:c,onWatchUpdated:function(h,d,p){var m=h.watcher instanceof Gu&&h.watcher.observableQuery;if(m){if(u){l.delete(m.queryId);var g=u(m,d,p);return g===!0&&(g=m.refetch()),g!==!1&&f.set(m,g),g}u!==null&&l.set(m.queryId,{oq:m,lastDiff:p,diff:d})}}}),l.size&&l.forEach(function(h,d){var p=h.oq,m=h.lastDiff,g=h.diff,w;if(u){if(!g){var v=p.queryInfo;v.reset(),g=v.getDiff()}w=u(p,g,m)}(!u||w===!0)&&(w=p.refetch()),w!==!1&&f.set(p,w),d.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(d)}),c&&this.cache.removeOptimistic(c),f},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,s=n.query,o=n.variables,a=n.fetchPolicy,c=n.refetchWritePolicy,u=n.errorPolicy,l=n.returnPartialData,f=n.context,h=n.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:this.transform(s).document,variables:o,networkStatus:r});var p=function(){return e.getDiff(o)},m=function(E,T){T===void 0&&(T=e.networkStatus||Ae.loading);var x=E.result;__DEV__&&!l&&!nt(x,{})&&aw(E.missing);var k=function(O){return Me.of(C({data:O,loading:uo(T),networkStatus:T},E.complete?null:{partial:!0}))};return x&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:x},context:f,variables:o,onlyRunForcedResolvers:!0}).then(function(O){return k(O.data||void 0)}):u==="none"&&T===Ae.refetch&&Array.isArray(E.missing)?k(void 0):k(x)},g=a==="no-cache"?0:r===Ae.refetch&&c!=="merge"?1:2,w=function(){return i.getResultsFromLink(e,g,{variables:o,context:f,fetchPolicy:a,errorPolicy:u})},v=h&&typeof d=="number"&&d!==r&&uo(r);switch(a){default:case"cache-first":{var y=p();return y.complete?[m(y,e.markReady())]:l||v?[m(y),w()]:[w()]}case"cache-and-network":{var y=p();return y.complete||l||v?[m(y),w()]:[w()]}case"cache-only":return[m(p(),e.markReady())];case"network-only":return v?[m(p()),w()]:[w()];case"no-cache":return v?[m(e.getDiff()),w()]:[w()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Gu(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return C(C({},n),{clientAwareness:this.clientAwareness})},t}(),lg=!1,Yx=function(){function t(e){var n=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,s=e.headers,o=e.cache,a=e.ssrMode,c=a===void 0?!1:a,u=e.ssrForceFetchDelay,l=u===void 0?0:u,f=e.connectToDevTools,h=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:f,d=e.queryDeduplication,p=d===void 0?!0:d,m=e.defaultOptions,g=e.assumeImmutableResults,w=g===void 0?!1:g,v=e.resolvers,y=e.typeDefs,E=e.fragmentMatcher,T=e.name,x=e.version,k=e.link;if(k||(k=r?new nx({uri:r,credentials:i,headers:s}):zr.empty()),!o)throw __DEV__?new Ce(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new Ce(9);if(this.link=k,this.cache=o,this.disableNetworkFetches=c||l>0,this.queryDeduplication=p,this.defaultOptions=m||Object.create(null),this.typeDefs=y,l&&setTimeout(function(){return n.disableNetworkFetches=!1},l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!lg&&h&&__DEV__&&(lg=!0,typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var O=window.navigator,L=O&&O.userAgent,z=void 0;typeof L=="string"&&(L.indexOf("Chrome/")>-1?z="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":L.indexOf("Firefox/")>-1&&(z="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),z&&__DEV__&&Q.log("Download the Apollo DevTools for a better development experience: "+z)}this.version=Dk,this.localState=new cw({cache:o,client:this,resolvers:v,fragmentMatcher:E}),this.queryManager=new Wx({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:p,ssrMode:c,clientAwareness:{name:T,version:x},localState:this.localState,assumeImmutableResults:w,onBroadcast:h?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=$u(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=C(C({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=$u(this.defaultOptions.query,e)),__DEV__?Q(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Q(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=C(C({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=$u(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Zl(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(o,a){r.push(a),i.push(o)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(o){__DEV__&&Q.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(o))}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),Ta=new Map,hf=new Map,uw=!0,Qa=!1;function lw(t){return t.replace(/[\s,]+/g," ").trim()}function Jx(t){return lw(t.source.body.substring(t.start,t.end))}function Xx(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=Jx(r.loc),o=hf.get(i);o&&!o.has(s)?uw&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||hf.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),C(C({},t),{definitions:n})}function Zx(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function eD(t){var e=lw(t);if(!Ta.has(e)){var n=CO(t,{experimentalFragmentVariables:Qa,allowLegacyFragmentVariables:Qa});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Ta.set(e,Zx(Xx(n)))}return Ta.get(e)}function Fi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),eD(r)}function tD(){Ta.clear(),hf.clear()}function nD(){uw=!1}function rD(){Qa=!0}function iD(){Qa=!1}var ms={gql:Fi,resetCaches:tD,disableFragmentWarnings:nD,enableExperimentalFragmentVariables:rD,disableExperimentalFragmentVariables:iD};(function(t){t.gql=ms.gql,t.resetCaches=ms.resetCaches,t.disableFragmentWarnings=ms.disableFragmentWarnings,t.enableExperimentalFragmentVariables=ms.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=ms.disableExperimentalFragmentVariables})(Fi||(Fi={}));Fi.default=Fi;var ko=Fi,sD=Symbol("default-apollo-client"),oD=Symbol("apollo-clients");function Wu(t,e){return t?t.default:e!=null?e:void 0}function Yu(t,e){if(!t)throw new Error(`No apolloClients injection found, tried to resolve '${e}' clientId`);return t[e]}function fw(t){let e;const n=df;if(!xt())e=i=>i?Yu(n,i):Wu(n,n.default);else{const i=Gt(oD,null),s=Gt(sD,null);e=o=>{if(o){const c=Yu(i,o);return c||Yu(n,o)}const a=Wu(i,s);return a||Wu(n,n.default)}}function r(i=t){const s=e(i);if(!s)throw new Error(`Apollo client with id ${i!=null?i:"default"} not found. Use provideApolloClient() if you are outside of a component setup.`);return s}return{resolveClient:r,get client(){return r()}}}var df={};function aD(t){return df={default:t},function(e){const n=e();return df={},n}}function fg(t){return Ye(t)?t:typeof t=="function"?W(t):Ne(t)}function cD(t){return Ye(t)?t:typeof t=="function"?W(t):t&&Fn(t)}function za(){const t=[];function e(s){return t.push(s),{off:()=>n(s)}}function n(s){const o=t.indexOf(s);o!==-1&&t.splice(o,1)}function r(s){for(const o of t)o(s)}function i(){return t.length}return{on:e,off:n,trigger:r,getCount:i}}function uD(){var t,e,n;const r=xt(),i=(n=(t=r==null?void 0:r.$root)!=null?t:r==null?void 0:r.root)!=null?n:(e=r==null?void 0:r.proxy)==null?void 0:e.$root;if(!i)throw new Error("Instance $root not found");let s;return i._apolloAppTracking?s=i._apolloAppTracking:s=i._apolloAppTracking={queries:Ne(0),mutations:Ne(0),subscriptions:Ne(0),components:new Map},{appTracking:s}}function lD(){const t=xt();if(!t)throw new Error("getCurrentTracking must be used during a component setup");const{appTracking:e}=uD();let n;return e.components.has(t)?n=e.components.get(t):(e.components.set(t,n={queries:Ne(0),mutations:Ne(0),subscriptions:Ne(0)}),Tc(()=>{e.components.delete(t)})),{appTracking:e,tracking:n}}function hw(t,e){const{appTracking:n,tracking:r}=lD();Ct(t,(i,s)=>{if(s!=null&&i!==s){const o=i?1:-1;r[e].value+=o,n[e].value+=o}},{immediate:!0}),fn(()=>{t.value&&(r[e].value--,n[e].value--)})}function fD(t){hw(t,"mutations")}function hD(t){hw(t,"subscriptions")}function dw(t){return t instanceof Error?sw(t)?t:new Gn({networkError:t,errorMessage:t.message}):new Gn({networkError:Object.assign(new Error,{originalError:t}),errorMessage:String(t)})}var dD=typeof window=="undefined";function pf(t,e={}){const n=xt(),r=Ne(!1);n&&fD(r);const i=Ne(null),s=Ne(!1),o=za(),a=za(),{resolveClient:c}=fw();async function u(l,f={}){let h;typeof t=="function"?h=t():Ye(t)?h=t.value:h=t;let d;typeof e=="function"?d=e():Ye(e)?d=e.value:d=e;const p=c(d.clientId);i.value=null,r.value=!0,s.value=!0;try{const m=await p.mutate({mutation:h,...d,...f,variables:(l!=null?l:d.variables)?{...d.variables,...l}:void 0});return r.value=!1,o.trigger(m),m}catch(m){const g=dw(m);if(i.value=g,r.value=!1,a.trigger(g),d.throws==="always"||d.throws!=="never"&&!a.getCount())throw g}return null}return n&&fn(()=>{r.value=!1}),{mutate:u,loading:r,error:i,called:s,onDone:o.on,onError:a.on}}function YF(t,e=void 0,n={}){const r=xt(),i=fg(t),s=fg(e),o=cD(n),a=Ne(),c=za(),u=Ne(null),l=za(),f=Ne(!1);r&&hD(f);const{resolveClient:h}=fw(),d=Ne(null);let p=null,m=!1;function g(){var ee;if(m||!B.value||dD)return;m=!0,f.value=!0;const le=h((ee=L.value)==null?void 0:ee.clientId);d.value=le.subscribe({query:z,variables:te,...L.value}),p=d.value.subscribe({next:w,error:v})}function w(ee){a.value=ee.data,f.value=!1,c.trigger(ee)}function v(ee){const le=dw(ee);u.value=le,f.value=!1,l.trigger(le)}function y(){!m||(m=!1,f.value=!1,d.value&&(d.value=null),p&&(p.unsubscribe(),p=null))}let E=!1;function T(){!m||E||(E=!0,xi(()=>{m&&(y(),g()),E=!1}))}let x;function k(){var ee,le;(ee=L.value)!=null&&ee.throttle?x=Fl(L.value.throttle,T):(le=L.value)!=null&&le.debounce?x=LI(L.value.debounce,T):x=T}function O(){x||k(),x()}const L=Ne();Ct(()=>Ye(o)?o.value:o,ee=>{L.value&&(L.value.throttle!==ee.throttle||L.value.debounce!==ee.debounce)&&k(),L.value=ee,O()},{deep:!0,immediate:!0});let z;Ct(i,ee=>{z=ee,O()},{immediate:!0});let te,$;Ct(s,(ee,le)=>{const be=JSON.stringify(ee);be!==$&&(te=ee,O()),$=be},{deep:!0,immediate:!0});const B=W(()=>!L.value||L.value.enabled==null||L.value.enabled);return Ct(B,ee=>{ee?g():y()},{immediate:!0}),r&&fn(y),{result:a,loading:f,error:u,start:g,stop:y,restart:O,document:i,variables:s,options:o,subscription:d,onResult:c.on,onError:l.on}}function pD(){return pw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function pw(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const mD=typeof Proxy=="function",gD="devtools-plugin:setup",vD="plugin:settings:set";let ti,mf;function yD(){var t;return ti!==void 0||(typeof window!="undefined"&&window.performance?(ti=!0,mf=window.performance):typeof global!="undefined"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(ti=!0,mf=global.perf_hooks.performance):ti=!1),ti}function bD(){return yD()?mf.now():Date.now()}class wD{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return bD()}},n&&n.on(vD,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:a,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function _D(t,e){const n=t,r=pw(),i=pD(),s=mD&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(gD,t,e);else{const o=s?new wD(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var mw="store";function gw(t){return t===void 0&&(t=null),Gt(t!==null?t:mw)}function es(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function ED(t){return t!==null&&typeof t=="object"}function TD(t){return t&&typeof t.then=="function"}function SD(t,e){return function(){return t(e)}}function vw(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function yw(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;jc(t,n,[],t._modules.root,!0),Yh(t,n,e)}function Yh(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={},a={},c=M0(!0);c.run(function(){es(s,function(u,l){o[l]=SD(u,t),a[l]=W(function(){return o[l]()}),Object.defineProperty(t.getters,l,{get:function(){return a[l].value},enumerable:!0})})}),t._state=Fn({data:e}),t._scope=c,t.strict&&xD(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function jc(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=Jh(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var u=r.context=CD(t,o,n);r.forEachMutation(function(l,f){var h=o+f;ID(t,h,l,u)}),r.forEachAction(function(l,f){var h=l.root?f:o+f,d=l.handler||l;OD(t,h,d,u)}),r.forEachGetter(function(l,f){var h=o+f;kD(t,h,l,u)}),r.forEachChild(function(l,f){jc(t,e,n.concat(f),l,i)})}function CD(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var c=Ka(s,o,a),u=c.payload,l=c.options,f=c.type;return(!l||!l.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(s,o,a){var c=Ka(s,o,a),u=c.payload,l=c.options,f=c.type;(!l||!l.root)&&(f=e+f),t.commit(f,u,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return bw(t,e)}},state:{get:function(){return Jh(t.state,n)}}}),i}function bw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function ID(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function OD(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return TD(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function kD(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function xD(t){Ct(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Jh(t,e){return e.reduce(function(n,r){return n[r]},t)}function Ka(t,e,n){return ED(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var DD="vuex bindings",hg="vuex:mutations",Ju="vuex:actions",ni="vuex",AD=0;function ND(t,e){_D({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[DD]},function(n){n.addTimelineLayer({id:hg,label:"Vuex Mutations",color:dg}),n.addTimelineLayer({id:Ju,label:"Vuex Actions",color:dg}),n.addInspector({id:ni,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===ni)if(r.filter){var i=[];Tw(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Ew(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===ni){var i=r.nodeId;bw(e,i),r.state=MD(FD(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===ni){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(ni),n.sendInspectorState(ni),n.addTimelineEvent({layerId:hg,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=AD++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Ju,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Ju,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var dg=8702998,RD=6710886,PD=16777215,ww={label:"namespaced",textColor:PD,backgroundColor:RD};function _w(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Ew(t,e){return{id:e||"root",label:_w(e),tags:t.namespaced?[ww]:[],children:Object.keys(t._children).map(function(n){return Ew(t._children[n],e+n+"/")})}}function Tw(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[ww]:[]}),Object.keys(e._children).forEach(function(i){Tw(t,e._children[i],n,r+i+"/")})}function MD(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=LD(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?_w(o):o,editable:!1,value:gf(function(){return s[o]})}})}return i}function LD(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=gf(function(){return t[n]})}else e[n]=gf(function(){return t[n]})}),e}function FD(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function gf(t){try{return t()}catch(e){return e}}var hn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Sw={namespaced:{configurable:!0}};Sw.namespaced.get=function(){return!!this._rawModule.namespaced};hn.prototype.addChild=function(e,n){this._children[e]=n};hn.prototype.removeChild=function(e){delete this._children[e]};hn.prototype.getChild=function(e){return this._children[e]};hn.prototype.hasChild=function(e){return e in this._children};hn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};hn.prototype.forEachChild=function(e){es(this._children,e)};hn.prototype.forEachGetter=function(e){this._rawModule.getters&&es(this._rawModule.getters,e)};hn.prototype.forEachAction=function(e){this._rawModule.actions&&es(this._rawModule.actions,e)};hn.prototype.forEachMutation=function(e){this._rawModule.mutations&&es(this._rawModule.mutations,e)};Object.defineProperties(hn.prototype,Sw);var Kr=function(e){this.register([],e,!1)};Kr.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Kr.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Kr.prototype.update=function(e){Cw([],this.root,e)};Kr.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new hn(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&es(n.modules,function(a,c){i.register(e.concat(c),a,r)})};Kr.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Kr.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Cw(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Cw(t.concat(r),e.getChild(r),n.modules[r])}}function VD(t){return new Vt(t)}var Vt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Kr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(h,d){return c.call(o,h,d)},this.commit=function(h,d,p){return u.call(o,h,d,p)},this.strict=i;var l=this._modules.root.state;jc(this,l,[],this._modules.root),Yh(this,l),r.forEach(function(f){return f(n)})},Xh={state:{configurable:!0}};Vt.prototype.install=function(e,n){e.provide(n||mw,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&ND(e,this)};Xh.state.get=function(){return this._state.data};Xh.state.set=function(t){};Vt.prototype.commit=function(e,n,r){var i=this,s=Ka(e,n,r),o=s.type,a=s.payload,c={type:o,payload:a},u=this._mutations[o];!u||(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(l){return l(c,i.state)}))};Vt.prototype.dispatch=function(e,n){var r=this,i=Ka(e,n),s=i.type,o=i.payload,a={type:s,payload:o},c=this._actions[s];if(!!c){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(l){return l(o)})):c[0](o);return new Promise(function(l,f){u.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};Vt.prototype.subscribe=function(e,n){return vw(e,this._subscribers,n)};Vt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return vw(r,this._actionSubscribers,n)};Vt.prototype.watch=function(e,n,r){var i=this;return Ct(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Vt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Vt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),jc(this,this.state,e,this._modules.get(e),r.preserveState),Yh(this,this.state)};Vt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Jh(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),yw(this)};Vt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Vt.prototype.hotUpdate=function(e){this._modules.update(e),yw(this,!0)};Vt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Vt.prototype,Xh);const jD=ko`
  mutation createCallInChat($id: Int!, $call_id: String!) {
    update_chats_by_pk(pk_columns: { id: $id }, _set: { call_id: $call_id }) {
      id
    }
  }
`,$D=ko`
  mutation updateUserLastSeen($user_id: String!, $last_seen: timestamptz!) {
    update_users(
      where: { id: { _eq: $user_id } }
      _set: { last_seen: $last_seen }
    ) {
      affected_rows
    }
  }
`,JF=ko`
  mutation createChat(
    $sender_id: String!
    $consumer_id: String!
    $sender_avatar: String!
    $consumer_avatar: String!
    $sender_firstName: String!
    $consumer_firstName: String!
  ) {
    insert_chats_one(
      object: {
        sender_id: $sender_id
        consumer_id: $consumer_id
        sender_avatar: $sender_avatar
        sender_firstName: $sender_firstName
        consumer_avatar: $consumer_avatar
        consumer_firstName: $consumer_firstName
      }
    ) {
      id
    }
  }
`,qD=ko`
  mutation createUser(
    $id: String
    $first_name: String
    $email: String
    $avatar_url: String!
  ) {
    insert_users_one(
      object: {
        id: $id
        first_name: $first_name
        email: $email
        avatar_url: $avatar_url
      }
    ) {
      id
    }
  }
`,XF=ko`
  mutation createMessage(
    $senderId: String!
    $consumerId: String!
    $senderDisplayName: String!
    $senderAvatarUrl: String!
    $content: String!
    $chat_id: Int!
  ) {
    insert_messages_one(
      object: {
        senderId: $senderId
        consumerId: $consumerId
        senderDisplayName: $senderDisplayName
        senderAvatarUrl: $senderAvatarUrl
        content: $content
        chat_id: $chat_id
      }
    ) {
      id
    }
  }
`;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vf=function(t,e){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},vf(t,e)};function BD(t,e){vf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xu="Invariant Violation",pg=Object.setPrototypeOf,UD=pg===void 0?function(t,e){return t.__proto__=e,t}:pg,Zh=function(t){BD(e,t);function e(n){n===void 0&&(n=Xu);var r=t.call(this,typeof n=="number"?Xu+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Xu,UD(r,e.prototype),r}return e}(Error);function Ha(t,e){if(!t)throw new Zh(e)}function mg(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=mg("warn"),t.error=mg("error")})(Ha||(Ha={}));var gg={env:{}};if(typeof process=="object")gg=process;else try{Function("stub","process = stub")(gg)}catch{}var _n=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ed(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function QD(t){Ha(t&&t.kind==="Document",2);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw new Zh(3);return n});return Ha(e.length<=1,4),t}function zD(t){QD(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw new Zh(10)}var td={},KD=ts;function ts(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ts.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};ts.prototype.reset=function(){this.attempts=0};ts.prototype.setMin=function(t){this.ms=t};ts.prototype.setMax=function(t){this.max=t};ts.prototype.setJitter=function(t){this.jitter=t};var Iw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new i(l,f||c,h),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],d]:c._events[p].push(d):(c._events[p]=d,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)e.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,h,d,p){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],w=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),w){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,f),!0;case 4:return g.fn.call(g.context,l,f,h),!0;case 5:return g.fn.call(g.context,l,f,h,d),!0;case 6:return g.fn.call(g.context,l,f,h,d,p),!0}for(y=1,v=new Array(w-1);y<w;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var E=g.length,T;for(y=0;y<E;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),w){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,l);break;case 3:g[y].fn.call(g[y].context,l,f);break;case 4:g[y].fn.call(g[y].context,l,f,h);break;default:if(!v)for(T=1,v=new Array(w-1);T<w;T++)v[T-1]=arguments[T];g[y].fn.apply(g[y].context,v)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,h){var d=n?n+u:u;if(!this._events[d])return this;if(!l)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===l&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,g=[],w=p.length;m<w;m++)(p[m].fn!==l||h&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Iw);var nd={};Object.defineProperty(nd,"__esModule",{value:!0});function HD(t){return typeof t=="string"}nd.default=HD;var rd={};Object.defineProperty(rd,"__esModule",{value:!0});function GD(t){return t!==null&&typeof t=="object"}rd.default=GD;var WD=ed(NO),YD=ed(PO);function JD(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var oi;typeof self!="undefined"?oi=self:typeof window!="undefined"?oi=window:typeof global!="undefined"?oi=global:typeof module!="undefined"?oi=module:oi=Function("return this")();var XD=JD(oi),ZD=Object.freeze(Object.defineProperty({__proto__:null,default:XD},Symbol.toStringTag,{value:"Module"})),eA=ed(ZD),Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.GRAPHQL_SUBSCRIPTIONS=Vi.GRAPHQL_WS=void 0;var tA="graphql-ws";Vi.GRAPHQL_WS=tA;var nA="graphql-subscriptions";Vi.GRAPHQL_SUBSCRIPTIONS=nA;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.WS_TIMEOUT=ji.MIN_WS_TIMEOUT=void 0;var rA=1e3;ji.MIN_WS_TIMEOUT=rA;var iA=3e4;ji.WS_TIMEOUT=iA;var id={};Object.defineProperty(id,"__esModule",{value:!0});var sA=function(){function t(){throw new Error("Static Class")}return t.GQL_CONNECTION_INIT="connection_init",t.GQL_CONNECTION_ACK="connection_ack",t.GQL_CONNECTION_ERROR="connection_error",t.GQL_CONNECTION_KEEP_ALIVE="ka",t.GQL_CONNECTION_TERMINATE="connection_terminate",t.GQL_START="start",t.GQL_DATA="data",t.GQL_ERROR="error",t.GQL_COMPLETE="complete",t.GQL_STOP="stop",t.SUBSCRIPTION_START="subscription_start",t.SUBSCRIPTION_DATA="subscription_data",t.SUBSCRIPTION_SUCCESS="subscription_success",t.SUBSCRIPTION_FAIL="subscription_fail",t.SUBSCRIPTION_END="subscription_end",t.INIT="init",t.INIT_SUCCESS="init_success",t.INIT_FAIL="init_fail",t.KEEP_ALIVE="keepalive",t}();id.default=sA;var pi=_n&&_n.__assign||function(){return pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pi.apply(this,arguments)},oA=_n&&_n.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},aA=_n&&_n.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vg=_n&&_n.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(td,"__esModule",{value:!0});var yf=td.SubscriptionClient=void 0,yg=typeof _n!="undefined"?_n:typeof window!="undefined"?window:{},cA=yg.WebSocket||yg.MozWebSocket,bg=KD,uA=Iw.exports,wg=nd,lA=rd,fA=WD,hA=YD,dA=eA,pA=Vi,_g=ji,Dt=id,mA=function(){function t(e,n,r,i){var s=n||{},o=s.connectionCallback,a=o===void 0?void 0:o,c=s.connectionParams,u=c===void 0?{}:c,l=s.minTimeout,f=l===void 0?_g.MIN_WS_TIMEOUT:l,h=s.timeout,d=h===void 0?_g.WS_TIMEOUT:h,p=s.reconnect,m=p===void 0?!1:p,g=s.reconnectionAttempts,w=g===void 0?1/0:g,v=s.lazy,y=v===void 0?!1:v,E=s.inactivityTimeout,T=E===void 0?0:E,x=s.wsOptionArguments,k=x===void 0?[]:x;if(this.wsImpl=r||cA,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=i||pA.GRAPHQL_WS,this.connectionCallback=a,this.url=e,this.operations={},this.nextOperationId=0,this.minWsTimeout=f,this.wsTimeout=d,this.unsentMessagesQueue=[],this.reconnect=m,this.reconnecting=!1,this.reconnectionAttempts=w,this.lazy=!!y,this.inactivityTimeout=T,this.closedByUser=!1,this.backoff=new bg({jitter:.5}),this.eventEmitter=new uA.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(u),this.wsOptionArguments=k,this.lazy||this.connect()}return Object.defineProperty(t.prototype,"status",{get:function(){return this.client===null?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),t.prototype.close=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0),this.clearInactivityTimeout(),this.client!==null&&(this.closedByUser=n,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,Dt.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},t.prototype.request=function(e){var n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),s=this.unsubscribe.bind(this),o;return this.clearInactivityTimeout(),n={},n[dA.default]=function(){return this},n.subscribe=function(a,c,u){var l=r(a,c,u);return o=i(e,function(f,h){f===null&&h===null?l.complete&&l.complete():f?l.error&&l.error(f[0]):l.next&&l.next(h)}),{unsubscribe:function(){o&&(s(o),o=null)}}},n},t.prototype.on=function(e,n,r){var i=this.eventEmitter.on(e,n,r);return function(){i.off(e,n,r)}},t.prototype.onConnected=function(e,n){return this.on("connected",e,n)},t.prototype.onConnecting=function(e,n){return this.on("connecting",e,n)},t.prototype.onDisconnected=function(e,n){return this.on("disconnected",e,n)},t.prototype.onReconnected=function(e,n){return this.on("reconnected",e,n)},t.prototype.onReconnecting=function(e,n){return this.on("reconnecting",e,n)},t.prototype.onError=function(e,n){return this.on("error",e,n)},t.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(n){e.unsubscribe(n)})},t.prototype.applyMiddlewares=function(e){var n=this;return new Promise(function(r,i){var s=function(o,a){var c=function(u){if(u)i(u);else if(o.length>0){var l=o.shift();l&&l.applyMiddleware.apply(a,[e,c])}else r(e)};c()};s(vg(n.middlewares),n)})},t.prototype.use=function(e){var n=this;return e.map(function(r){if(typeof r.applyMiddleware=="function")n.middlewares.push(r);else throw new Error("Middleware must implement the applyMiddleware function.")}),this},t.prototype.getConnectionParams=function(e){return function(){return new Promise(function(n,r){if(typeof e=="function")try{return n(e.call(null))}catch(i){return r(i)}n(e)})}},t.prototype.executeOperation=function(e,n){var r=this;this.client===null&&this.connect();var i=this.generateOperationId();return this.operations[i]={options:e,handler:n},this.applyMiddlewares(e).then(function(s){r.checkOperationOptions(s,n),r.operations[i]&&(r.operations[i]={options:s,handler:n},r.sendMessage(i,Dt.default.GQL_START,s))}).catch(function(s){r.unsubscribe(i),n(r.formatErrors(s))}),i},t.prototype.getObserver=function(e,n,r){return typeof e=="function"?{next:function(i){return e(i)},error:function(i){return n&&n(i)},complete:function(){return r&&r()}}:e},t.prototype.createMaxConnectTimeGenerator=function(){var e=this.minWsTimeout,n=this.wsTimeout;return new bg({min:e,max:n,factor:1.2})},t.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},t.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},t.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},t.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},t.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&Object.keys(this.operations).length===0&&(this.inactivityTimeoutId=setTimeout(function(){Object.keys(e.operations).length===0&&e.close()},this.inactivityTimeout))},t.prototype.checkOperationOptions=function(e,n){var r=e.query,i=e.variables,s=e.operationName;if(!r)throw new Error("Must provide a query.");if(!n)throw new Error("Must provide an handler.");if(!wg.default(r)&&!hA.getOperationAST(r,s)||s&&!wg.default(s)||i&&!lA.default(i))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},t.prototype.buildMessage=function(e,n,r){var i=r&&r.query?pi(pi({},r),{query:typeof r.query=="string"?r.query:fA.print(r.query)}):r;return{id:e,type:n,payload:i}},t.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},t.prototype.sendMessage=function(e,n,r){this.sendMessageRaw(this.buildMessage(e,n,r))},t.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var n=JSON.stringify(e);try{JSON.parse(n)}catch{this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(n);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},t.prototype.generateOperationId=function(){return String(++this.nextOperationId)},t.prototype.tryReconnect=function(){var e=this;if(!(!this.reconnect||this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(r){e.unsentMessagesQueue.push(e.buildMessage(r,Dt.default.GQL_START,e.operations[r].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var n=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},n)}},t.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(n){e.sendMessageRaw(n)}),this.unsentMessagesQueue=[]},t.prototype.checkConnection=function(){if(this.wasKeepAliveReceived){this.wasKeepAliveReceived=!1;return}this.reconnecting||this.close(!1,!0)},t.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},t.prototype.connect=function(){var e,n=this;this.client=new((e=this.wsImpl).bind.apply(e,vg([void 0,this.url,this.wsProtocols],this.wsOptionArguments))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return oA(n,void 0,void 0,function(){var r,i;return aA(this,function(s){switch(s.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return r=s.sent(),this.sendMessage(void 0,Dt.default.GQL_CONNECTION_INIT,r),this.flushUnsentMessagesQueue(),[3,4];case 3:return i=s.sent(),this.sendMessage(void 0,Dt.default.GQL_CONNECTION_ERROR,i),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){n.closedByUser||n.close(!1,!1)},this.client.onerror=function(r){n.eventEmitter.emit("error",r)},this.client.onmessage=function(r){var i=r.data;n.processReceivedData(i)}},t.prototype.processReceivedData=function(e){var n,r;try{n=JSON.parse(e),r=n.id}catch{throw new Error("Message must be JSON-parseable. Got: "+e)}if([Dt.default.GQL_DATA,Dt.default.GQL_COMPLETE,Dt.default.GQL_ERROR].indexOf(n.type)!==-1&&!this.operations[r]){this.unsubscribe(r);return}switch(n.type){case Dt.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(n.payload);break;case Dt.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",n.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case Dt.default.GQL_COMPLETE:var i=this.operations[r].handler;delete this.operations[r],i.call(this,null,null);break;case Dt.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(n.payload),null),delete this.operations[r];break;case Dt.default.GQL_DATA:var s=n.payload.errors?pi(pi({},n.payload),{errors:this.formatErrors(n.payload.errors)}):n.payload;this.operations[r].handler(null,s);break;case Dt.default.GQL_CONNECTION_KEEP_ALIVE:var o=typeof this.wasKeepAliveReceived=="undefined";this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}},t.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,Dt.default.GQL_STOP,void 0))},t}();yf=td.SubscriptionClient=mA;var gA=function(t){Jt(e,t);function e(n){var r=t.call(this)||this;return n instanceof yf?r.subscriptionClient=n:r.subscriptionClient=new yf(n.uri,n.options,n.webSocketImpl),r}return e.prototype.request=function(n){return this.subscriptionClient.request(n)},e}(zr);function vA(t){const e=Pb({uri:"https://knowing-pegasus-94.hasura.app/v1/graphql"}),n=new gA({uri:"wss://knowing-pegasus-94.hasura.app/v1/graphql",options:{}}),r=xk(({query:i})=>{const{kind:s,operation:o}=zD(i);return s==="OperationDefinition"&&o==="subscription"},n,e);return Object.assign({link:r,cache:new Ux,connectToDevTools:!0},{},{},{},{},{},{},{},{},{},{},{})}const yA=vA(),bA=new Yx(yA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;c||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new _A;const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(t){const e=Ow(t);return kw.encodeByteArray(e,!0)},Ga=function(t){return EA(t).replace(/\./g,"")},TA=function(t){try{return kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>SA().__FIREBASE_DEFAULTS__,IA=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OA=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TA(t[1]);return e&&JSON.parse(e)},xw=()=>{try{return CA()||IA()||OA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kA=t=>{var e,n;return(n=(e=xw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xA=t=>{const e=kA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DA=()=>{var t;return(t=xw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ga(JSON.stringify(n)),Ga(JSON.stringify(o)),a].join(".")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ns(i,a,r)}}function LA(t,e){return t.replace(FA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FA=/\{\$([^}]+)}/g;function bf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Eg(s)&&Eg(o)){if(!bf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Eg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($A(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(t){return t===wr?void 0:t}function $A(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const BA={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},UA=Ie.INFO,QA={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},zA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Aw{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const KA=(t,e)=>e.some(n=>t instanceof n);let Tg,Sg;function HA(){return Tg||(Tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GA(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,wf=new WeakMap,Rw=new WeakMap,Zu=new WeakMap,sd=new WeakMap;function WA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nw.set(n,t)}).catch(()=>{}),sd.set(e,t),e}function YA(t){if(wf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wf.set(t,e)}let _f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JA(t){_f=t(_f)}function XA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(el(this),e,...n);return Rw.set(r,e.sort?e.sort():[e]),Zn(r)}:GA().includes(t)?function(...e){return t.apply(el(this),e),Zn(Nw.get(this))}:function(...e){return Zn(t.apply(el(this),e))}}function ZA(t){return typeof t=="function"?XA(t):(t instanceof IDBTransaction&&YA(t),KA(t,HA())?new Proxy(t,_f):t)}function Zn(t){if(t instanceof IDBRequest)return WA(t);if(Zu.has(t))return Zu.get(t);const e=ZA(t);return e!==t&&(Zu.set(t,e),sd.set(e,t)),e}const el=t=>sd.get(t);function eN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zn(o.result),c.oldVersion,c.newVersion,Zn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],tl=new Map;function Cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tl.get(e))return tl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tN.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return tl.set(e,s),s}JA(t=>({...t,get:(e,n,r)=>Cg(e,n)||t.get(e,n,r),has:(e,n)=>!!Cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",Ig="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Aw("@firebase/app"),sN="@firebase/app-compat",oN="@firebase/analytics-compat",aN="@firebase/analytics",cN="@firebase/app-check-compat",uN="@firebase/app-check",lN="@firebase/auth",fN="@firebase/auth-compat",hN="@firebase/database",dN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",vN="@firebase/installations-compat",yN="@firebase/messaging",bN="@firebase/messaging-compat",wN="@firebase/performance",_N="@firebase/performance-compat",EN="@firebase/remote-config",TN="@firebase/remote-config-compat",SN="@firebase/storage",CN="@firebase/storage-compat",IN="@firebase/firestore",ON="@firebase/firestore-compat",kN="firebase",xN="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",DN={[Ef]:"fire-core",[sN]:"fire-core-compat",[aN]:"fire-analytics",[oN]:"fire-analytics-compat",[uN]:"fire-app-check",[cN]:"fire-app-check-compat",[lN]:"fire-auth",[fN]:"fire-auth-compat",[hN]:"fire-rtdb",[dN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[vN]:"fire-iid-compat",[yN]:"fire-fcm",[bN]:"fire-fcm-compat",[wN]:"fire-perf",[_N]:"fire-perf-compat",[EN]:"fire-rc",[TN]:"fire-rc-compat",[SN]:"fire-gcs",[CN]:"fire-gcs-compat",[IN]:"fire-fst",[ON]:"fire-fst-compat","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Map,Sf=new Map;function AN(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(Sf.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,t);for(const n of Wa.values())AN(n,t);return!0}function NN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},er=new Dw("app","Firebase",RN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=xN;function Pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw er.create("bad-app-name",{appName:String(i)});if(n||(n=DA()),!n)throw er.create("no-options");const s=Wa.get(i);if(s){if(bf(n,s.options)&&bf(r,s.config))return s;throw er.create("duplicate-app",{appName:i})}const o=new qA(i);for(const c of Sf.values())o.addComponent(c);const a=new PN(n,r,o);return Wa.set(i,a),a}function LN(t=Tf){const e=Wa.get(t);if(!e&&t===Tf)return Pw();if(!e)throw er.create("no-app",{appName:t});return e}function Ci(t,e,n){var r;let i=(r=DN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}Ya(new lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",VN=1,fo="firebase-heartbeat-store";let nl=null;function Mw(){return nl||(nl=eN(FN,VN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fo)}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),nl}async function jN(t){try{return(await Mw()).transaction(fo).objectStore(fo).get(Lw(t))}catch(e){if(e instanceof ns)$r.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Og(t,e){try{const r=(await Mw()).transaction(fo,"readwrite");return await r.objectStore(fo).put(e,Lw(t)),r.done}catch(n){if(n instanceof ns)$r.warn(n.message);else{const r=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function Lw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1024,qN=30*24*60*60*1e3;class BN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=qN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kg(),{heartbeatsToSend:n,unsentEntries:r}=UN(this._heartbeatsCache.heartbeats),i=Ga(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kg(){return new Date().toISOString().substring(0,10)}function UN(t,e=$N){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Og(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Og(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xg(t){return Ga(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){Ya(new lo("platform-logger",e=>new rN(e),"PRIVATE")),Ya(new lo("heartbeat",e=>new BN(e),"PRIVATE")),Ci(Ef,Ig,t),Ci(Ef,Ig,"esm2017"),Ci("fire-js","")}zN("");var KN=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},J,od=od||{},he=KN||self;function Ja(){}function $c(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HN(t){return Object.prototype.hasOwnProperty.call(t,rl)&&t[rl]||(t[rl]=++GN)}var rl="closure_uid_"+(1e9*Math.random()>>>0),GN=0;function WN(t,e,n){return t.call.apply(t.bind,arguments)}function YN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function It(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?It=WN:It=YN,It.apply(null,arguments)}function ra(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fr(){this.s=this.s,this.o=this.o}var JN=0;fr.prototype.s=!1;fr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),JN!=0)&&HN(this)};fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ad(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($c(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var XN=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",Ja,e),he.removeEventListener("test",Ja,e)}catch{}return t}();function Xa(t){return/^[\s\xa0]*$/.test(t)}var Ag=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function il(t,e){return t<e?-1:t>e?1:0}function qc(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function yn(t){return qc().indexOf(t)!=-1}function cd(t){return cd[" "](t),t}cd[" "]=Ja;function ZN(t){var e=nR;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var eR=yn("Opera"),$i=yn("Trident")||yn("MSIE"),Vw=yn("Edge"),Cf=Vw||$i,jw=yn("Gecko")&&!(qc().toLowerCase().indexOf("webkit")!=-1&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),tR=qc().toLowerCase().indexOf("webkit")!=-1&&!yn("Edge");function $w(){var t=he.document;return t?t.documentMode:void 0}var Za;e:{var sl="",ol=function(){var t=qc();if(jw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vw)return/Edge\/([\d\.]+)/.exec(t);if($i)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tR)return/WebKit\/(\S+)/.exec(t);if(eR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ol&&(sl=ol?ol[1]:""),$i){var al=$w();if(al!=null&&al>parseFloat(sl)){Za=String(al);break e}}Za=sl}var nR={};function rR(){return ZN(function(){let t=0;const e=Ag(String(Za)).split("."),n=Ag("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=il(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||il(i[2].length==0,s[2].length==0)||il(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var If;if(he.document&&$i){var Ng=$w();If=Ng||parseInt(Za,10)||void 0}else If=void 0;var iR=If;function ho(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jw){e:{try{cd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ho.X.h.call(this)}}yt(ho,Ot);var sR={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),oR=0;function aR(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++oR,this.ba=this.ea=!1}function Bc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function ud(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qw(t){const e={};for(const n in t)e[n]=t[n];return e}const Rg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Rg.length;s++)n=Rg[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uc(t){this.src=t,this.g={},this.h=0}Uc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=kf(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new aR(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Of(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Fw(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kf(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var ld="closure_lm_"+(1e6*Math.random()|0),cl={};function Uw(t,e,n,r,i){if(r&&r.once)return zw(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Uw(t,e[s],n,r,i);return null}return n=dd(n),t&&t[Do]?t.N(e,n,xo(r)?!!r.capture:!!r,i):Qw(t,e,n,!1,r,i)}function Qw(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xo(i)?!!i.capture:!!i,a=hd(t);if(a||(t[ld]=a=new Uc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cR(){function t(n){return e.call(t.src,t.listener,n)}const e=uR;return t}function zw(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zw(t,e[s],n,r,i);return null}return n=dd(n),t&&t[Do]?t.O(e,n,xo(r)?!!r.capture:!!r,i):Qw(t,e,n,!0,r,i)}function Kw(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kw(t,e[s],n,r,i);else r=xo(r)?!!r.capture:!!r,n=dd(n),t&&t[Do]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kf(s,n,r,i),-1<n&&(Bc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kf(e,n,r,i)),(n=-1<t?e[t]:null)&&fd(n))}function fd(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Do])Of(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hd(e))?(Of(n,t),n.h==0&&(n.src=null,e[ld]=null)):Bc(t)}}}function Hw(t){return t in cl?cl[t]:cl[t]="on"+t}function uR(t,e){if(t.ba)t=!0;else{e=new ho(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&fd(t),t=n.call(r,e)}return t}function hd(t){return t=t[ld],t instanceof Uc?t:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function dd(t){return typeof t=="function"?t:(t[ul]||(t[ul]=function(e){return t.handleEvent(e)}),t[ul])}function lt(){fr.call(this),this.i=new Uc(this),this.P=this,this.I=null}yt(lt,fr);lt.prototype[Do]=!0;lt.prototype.removeEventListener=function(t,e,n,r){Kw(this,t,e,n,r)};function vt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;e=new Ot(r,t),Bw(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ia(o,r,!0,e)&&i}if(o=e.g=t,i=ia(o,r,!0,e)&&i,i=ia(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ia(o,r,!1,e)&&i}lt.prototype.M=function(){if(lt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bc(n[r]);delete t.g[e],t.h--}}this.I=null};lt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ia(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&Of(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var pd=he.JSON.stringify;function lR(){var t=Yw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class fR{constructor(){this.h=this.g=null}add(e,n){const r=Gw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gw=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new hR,t=>t.reset());class hR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dR(t){he.setTimeout(()=>{throw t},0)}function Ww(t,e){xf||pR(),Df||(xf(),Df=!0),Yw.add(t,e)}var xf;function pR(){var t=he.Promise.resolve(void 0);xf=function(){t.then(mR)}}var Df=!1,Yw=new fR;function mR(){for(var t;t=lR();){try{t.h.call(t.g)}catch(n){dR(n)}var e=Gw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Df=!1}function Qc(t,e){lt.call(this),this.h=t||1,this.g=e||he,this.j=It(this.lb,this),this.l=Date.now()}yt(Qc,lt);J=Qc.prototype;J.ca=!1;J.R=null;J.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),vt(this,"tick"),this.ca&&(md(this),this.start()))}};J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function md(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}J.M=function(){Qc.X.M.call(this),md(this),delete this.g};function gd(t,e,n){if(typeof t=="function")n&&(t=It(t,n));else if(t&&typeof t.handleEvent=="function")t=It(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function Jw(t){t.g=gd(()=>{t.g=null,t.i&&(t.i=!1,Jw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gR extends fr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jw(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(t){fr.call(this),this.h=t,this.g={}}yt(po,fr);var Pg=[];function Xw(t,e,n,r){Array.isArray(n)||(n&&(Pg[0]=n.toString()),n=Pg);for(var i=0;i<n.length;i++){var s=Uw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Zw(t){ud(t.g,function(e,n){this.g.hasOwnProperty(n)&&fd(e)},t),t.g={}}po.prototype.M=function(){po.X.M.call(this),Zw(this)};po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zc(){this.g=!0}zc.prototype.Aa=function(){this.g=!1};function vR(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var f=l.split("_");o=2<=f.length&&f[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function yR(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function mi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wR(t,n)+(r?" "+r:"")})}function bR(t,e){t.info(function(){return"TIMEOUT: "+e})}zc.prototype.info=function(){};function wR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pd(n)}catch{return e}}var Hr={},Mg=null;function Kc(){return Mg=Mg||new lt}Hr.Pa="serverreachability";function e_(t){Ot.call(this,Hr.Pa,t)}yt(e_,Ot);function mo(t){const e=Kc();vt(e,new e_(e))}Hr.STAT_EVENT="statevent";function t_(t,e){Ot.call(this,Hr.STAT_EVENT,t),this.stat=e}yt(t_,Ot);function Nt(t){const e=Kc();vt(e,new t_(e,t))}Hr.Qa="timingevent";function n_(t,e){Ot.call(this,Hr.Qa,t),this.size=e}yt(n_,Ot);function Ao(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Hc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},r_={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vd(){}vd.prototype.h=null;function Lg(t){return t.h||(t.h=t.i())}function i_(){}var No={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yd(){Ot.call(this,"d")}yt(yd,Ot);function bd(){Ot.call(this,"c")}yt(bd,Ot);var Af;function Gc(){}yt(Gc,vd);Gc.prototype.g=function(){return new XMLHttpRequest};Gc.prototype.i=function(){return{}};Af=new Gc;function Ro(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new po(this),this.O=_R,t=Cf?125:void 0,this.T=new Qc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new s_}function s_(){this.i=null,this.g="",this.h=!1}var _R=45e3,Nf={},ec={};J=Ro.prototype;J.setTimeout=function(t){this.O=t};function Rf(t,e,n){t.K=1,t.v=Yc(Rn(e)),t.s=n,t.P=!0,o_(t,null)}function o_(t,e){t.F=Date.now(),Po(t),t.A=Rn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),p_(n.i,"t",r),t.C=0,n=t.l.H,t.h=new s_,t.g=M_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new gR(It(t.La,t,t.g),t.N)),Xw(t.S,t.g,"readystatechange",t.ib),e=t.H?qw(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),mo(),vR(t.j,t.u,t.A,t.m,t.U,t.s)}J.ib=function(t){t=t.target;const e=this.L;e&&kn(t)==3?e.l():this.La(t)};J.La=function(t){try{if(t==this.g)e:{const l=kn(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>l)&&(l!=3||Cf||this.g&&(this.h.h||this.g.fa()||$g(this.g)))){this.I||l!=4||e==7||(e==8||0>=f?mo(3):mo(2)),Wc(this);var n=this.g.aa();this.Y=n;t:if(a_(this)){var r=$g(this.g);t="";var i=r.length,s=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Cr(this),js(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,yR(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xa(a)){var u=a;break t}}u=null}if(n=u)mi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pf(this,n);else{this.i=!1,this.o=3,Nt(12),Cr(this),js(this);break e}}this.P?(c_(this,l,o),Cf&&this.i&&l==3&&(Xw(this.S,this.T,"tick",this.hb),this.T.start())):(mi(this.j,this.m,o,null),Pf(this,o)),l==4&&Cr(this),this.i&&!this.I&&(l==4?A_(this.l,this):(this.i=!1,Po(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),Cr(this),js(this)}}}catch{}finally{}};function a_(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function c_(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=ER(t,n),i==ec){e==4&&(t.o=4,Nt(14),r=!1),mi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nf){t.o=4,Nt(15),mi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else mi(t.j,t.m,i,null),Pf(t,i);a_(t)&&i!=ec&&i!=Nf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Id(e),e.K=!0,Nt(11))):(mi(t.j,t.m,n,"[Invalid Chunked Response]"),Cr(t),js(t))}J.hb=function(){if(this.g){var t=kn(this.g),e=this.g.fa();this.C<e.length&&(Wc(this),c_(this,t,e),this.i&&t!=4&&Po(this))}};function ER(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ec:(n=Number(e.substring(n,r)),isNaN(n)?Nf:(r+=1,r+n>e.length?ec:(e=e.substr(r,n),t.C=r+n,e)))}J.cancel=function(){this.I=!0,Cr(this)};function Po(t){t.V=Date.now()+t.O,u_(t,t.O)}function u_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ao(It(t.gb,t),e)}function Wc(t){t.B&&(he.clearTimeout(t.B),t.B=null)}J.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(bR(this.j,this.A),this.K!=2&&(mo(),Nt(17)),Cr(this),this.o=2,js(this)):u_(this,this.V-t)};function js(t){t.l.G==0||t.I||A_(t.l,t)}function Cr(t){Wc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,md(t.T),Zw(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Pf(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Mf(n.h,t))){if(!t.J&&Mf(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)rc(n),Zc(n);else break e;Cd(n),Nt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ao(It(n.cb,n),6e3));if(1>=v_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ir(n,11)}else if((t.J||n.g==t)&&rc(n),!Xa(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const l=u[3];l!=null&&(n.ma=l,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(wd(s,s.h),s.h=null))}if(r.D){const m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,je(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=P_(r,r.H?r.ka:null,r.V),o.J){y_(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(Wc(a),Po(a)),r.g=o}else x_(r);0<n.i.length&&eu(n)}else u[0]!="stop"&&u[0]!="close"||Ir(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ir(n,7):Sd(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}mo(4)}catch{}}function TR(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($c(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function SR(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if($c(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function l_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($c(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=SR(t),r=TR(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var f_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pr){this.h=e!==void 0?e:t.h,tc(this,t.j),this.s=t.s,this.g=t.g,nc(this,t.m),this.l=t.l,e=t.i;var n=new go;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fg(this,n),this.o=t.o}else t&&(n=String(t).match(f_))?(this.h=!!e,tc(this,n[1]||"",!0),this.s=Is(n[2]||""),this.g=Is(n[3]||"",!0),nc(this,n[4]),this.l=Is(n[5]||"",!0),Fg(this,n[6]||"",!0),this.o=Is(n[7]||"")):(this.h=!!e,this.i=new go(null,this.h))}Pr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Os(e,Vg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Os(e,Vg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Os(n,n.charAt(0)=="/"?kR:OR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Os(n,DR)),t.join("")};function Rn(t){return new Pr(t)}function tc(t,e,n){t.j=n?Is(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fg(t,e,n){e instanceof go?(t.i=e,AR(t.i,t.h)):(n||(e=Os(e,xR)),t.i=new go(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Yc(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Os(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Vg=/[#\/\?@]/g,OR=/[#\?:]/g,kR=/[#\?]/g,xR=/[#\?@]/g,DR=/#/g;function go(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hr(t){t.g||(t.g=new Map,t.h=0,t.i&&CR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=go.prototype;J.add=function(t,e){hr(this),this.i=null,t=rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function h_(t,e){hr(t),e=rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function d_(t,e){return hr(t),e=rs(t,e),t.g.has(e)}J.forEach=function(t,e){hr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.oa=function(){hr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.W=function(t){hr(this);let e=[];if(typeof t=="string")d_(this,t)&&(e=e.concat(this.g.get(rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return hr(this),this.i=null,t=rs(this,t),d_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function p_(t,e,n){h_(t,e),0<n.length&&(t.i=null,t.g.set(rs(t,e),ad(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AR(t,e){e&&!t.j&&(hr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(h_(this,r),p_(this,i,n))},t)),t.j=e}var NR=class{constructor(t,e){this.h=t,this.g=e}};function m_(t){this.l=t||RR,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ga&&he.g.Ga()&&he.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var RR=10;function g_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function v_(t){return t.h?1:t.g?t.g.size:0}function Mf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wd(t,e){t.g?t.g.add(e):t.h=e}function y_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}m_.prototype.cancel=function(){if(this.i=b_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function b_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ad(t.i)}function _d(){}_d.prototype.stringify=function(t){return he.JSON.stringify(t,void 0)};_d.prototype.parse=function(t){return he.JSON.parse(t,void 0)};function PR(){this.g=new _d}function MR(t,e,n){const r=n||"";try{l_(t,function(i,s){let o=i;xo(i)&&(o=pd(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LR(t,e){const n=new zc;if(he.Image){const r=new Image;r.onload=ra(sa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ra(sa,n,r,"TestLoadImage: error",!1,e),r.onabort=ra(sa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ra(sa,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mo(t){this.l=t.ac||null,this.j=t.jb||!1}yt(Mo,vd);Mo.prototype.g=function(){return new Jc(this.l,this.j)};Mo.prototype.i=function(t){return function(){return t}}({});function Jc(t,e){lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ed,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(Jc,lt);var Ed=0;J=Jc.prototype;J.open=function(t,e){if(this.readyState!=Ed)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vo(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||he).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lo(this)),this.readyState=Ed};J.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof he.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function w_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}J.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lo(this):vo(this),this.readyState==3&&w_(this)}};J.Va=function(t){this.g&&(this.response=this.responseText=t,Lo(this))};J.Ua=function(t){this.g&&(this.response=t,Lo(this))};J.ga=function(){this.g&&Lo(this)};function Lo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vo(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FR=he.JSON.parse;function He(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=__,this.K=this.L=!1}yt(He,lt);var __="",VR=/^https?$/i,jR=["POST","PUT"];J=He.prototype;J.Ka=function(t){this.L=t};J.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Af.g(),this.C=this.u?Lg(this.u):Lg(Af),this.g.onreadystatechange=It(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){jg(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=he.FormData&&t instanceof he.FormData,!(0<=Fw(jR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{S_(this),0<this.B&&((this.K=$R(this.g))?(this.g.timeout=this.B,this.g.ontimeout=It(this.qa,this)):this.A=gd(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jg(this,s)}};function $R(t){return $i&&rR()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.qa=function(){typeof od!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))};function jg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,E_(t),Xc(t)}function E_(t){t.D||(t.D=!0,vt(t,"complete"),vt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),Xc(this))};J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),He.X.M.call(this)};J.Ha=function(){this.s||(this.F||this.v||this.l?T_(this):this.fb())};J.fb=function(){T_(this)};function T_(t){if(t.h&&typeof od!="undefined"&&(!t.C[1]||kn(t)!=4||t.aa()!=2)){if(t.v&&kn(t)==4)gd(t.Ha,0,t);else if(vt(t,"readystatechange"),kn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(f_)[1]||null;if(!i&&he.self&&he.self.location){var s=he.self.location.protocol;i=s.substr(0,s.length-1)}r=!VR.test(i?i.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var o=2<kn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",E_(t)}}finally{Xc(t)}}}}function Xc(t,e){if(t.g){S_(t);const n=t.g,r=t.C[0]?Ja:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function S_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function kn(t){return t.g?t.g.readyState:0}J.aa=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}};J.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FR(e)}};function $g(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case __:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}J.Ea=function(){return this.m};J.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C_(t){let e="";return ud(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Td(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function gs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function I_(t){this.Ca=0,this.i=[],this.j=new zc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gs("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gs("baseRetryDelayMs",5e3,t),this.bb=gs("retryDelaySeedMs",1e4,t),this.$a=gs("forwardChannelMaxRetries",2,t),this.ta=gs("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new m_(t&&t.concurrentRequestLimit),this.Fa=new PR,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}J=I_.prototype;J.ma=8;J.G=1;function Sd(t){if(O_(t),t.G==3){var e=t.U++,n=Rn(t.F);je(n,"SID",t.I),je(n,"RID",e),je(n,"TYPE","terminate"),Fo(t,n),e=new Ro(t,t.j,e,void 0),e.K=2,e.v=Yc(Rn(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(e.v.toString(),"")),!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=M_(e.l,null),e.g.da(e.v)),e.F=Date.now(),Po(e)}R_(t)}function Zc(t){t.g&&(Id(t),t.g.cancel(),t.g=null)}function O_(t){Zc(t),t.u&&(he.clearTimeout(t.u),t.u=null),rc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function eu(t){g_(t.h)||t.m||(t.m=!0,Ww(t.Ja,t),t.C=0)}function qR(t,e){return v_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ao(It(t.Ja,t,e),N_(t,t.C)),t.C++,!0)}J.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ro(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=qw(s),Bw(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=k_(this,i,e),n=Rn(this.F),je(n,"RID",t),je(n,"CVER",22),this.D&&je(n,"X-HTTP-Session-Id",this.D),Fo(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(C_(s)))+"&"+e:this.o&&Td(n,this.o,s)),wd(this.h,i),this.Ya&&je(n,"TYPE","init"),this.O?(je(n,"$req",e),je(n,"SID","null"),i.Z=!0,Rf(i,n,null)):Rf(i,n,e),this.G=2}}else this.G==3&&(t?qg(this,t):this.i.length==0||g_(this.h)||qg(this))};function qg(t,e){var n;e?n=e.m:n=t.U++;const r=Rn(t.F);je(r,"SID",t.I),je(r,"RID",n),je(r,"AID",t.T),Fo(t,r),t.o&&t.s&&Td(r,t.o,t.s),n=new Ro(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=k_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),wd(t.h,n),Rf(n,r,e)}function Fo(t,e){t.ia&&ud(t.ia,function(n,r){je(e,r,n)}),t.l&&l_({},function(n,r){je(e,r,n)})}function k_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?It(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].h;const l=i[c].g;if(u-=s,0>u)s=Math.max(0,i[c].h-100),a=!1;else try{MR(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function x_(t){t.g||t.u||(t.Z=1,Ww(t.Ia,t),t.A=0)}function Cd(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ao(It(t.Ia,t),N_(t,t.A)),t.A++,!0)}J.Ia=function(){if(this.u=null,D_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ao(It(this.eb,this),t)}};J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nt(10),Zc(this),D_(this))};function Id(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function D_(t){t.g=new Ro(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Rn(t.sa);je(e,"RID","rpc"),je(e,"SID",t.I),je(e,"CI",t.L?"0":"1"),je(e,"AID",t.T),je(e,"TYPE","xmlhttp"),Fo(t,e),t.o&&t.s&&Td(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Yc(Rn(e)),n.s=null,n.P=!0,o_(n,t)}J.cb=function(){this.v!=null&&(this.v=null,Zc(this),Cd(this),Nt(19))};function rc(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function A_(t,e){var n=null;if(t.g==e){rc(t),Id(t),t.g=null;var r=2}else if(Mf(t.h,e))n=e.D,y_(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Kc(),vt(r,new n_(r,n)),eu(t)}else x_(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&qR(t,e)||r==2&&Cd(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ir(t,5);break;case 4:Ir(t,10);break;case 3:Ir(t,6);break;default:Ir(t,2)}}}function N_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ir(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=It(t.kb,t);n||(n=new Pr("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||tc(n,"https"),Yc(n)),LR(n.toString(),r)}else Nt(2);t.G=0,t.l&&t.l.va(e),R_(t),O_(t)}J.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function R_(t){if(t.G=0,t.la=[],t.l){const e=b_(t.h);(e.length!=0||t.i.length!=0)&&(Dg(t.la,e),Dg(t.la,t.i),t.h.i.length=0,ad(t.i),t.i.length=0),t.l.ua()}}function P_(t,e,n){var r=n instanceof Pr?Rn(n):new Pr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),nc(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Pr(null,void 0);r&&tc(s,r),e&&(s.g=e),i&&nc(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&je(r,n,e),je(r,"VER",t.ma),Fo(t,r),r}function M_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new He(new Mo({jb:!0})):new He(t.ra),e.Ka(t.H),e}function L_(){}J=L_.prototype;J.xa=function(){};J.wa=function(){};J.va=function(){};J.ua=function(){};J.Ra=function(){};function ic(){if($i&&!(10<=Number(iR)))throw Error("Environmental error: no available transport.")}ic.prototype.g=function(t,e){return new Bt(t,e)};function Bt(t,e){lt.call(this),this.g=new I_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Xa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new is(this)}yt(Bt,lt);Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=P_(t,null,t.V),eu(t)};Bt.prototype.close=function(){Sd(this.g)};Bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pd(t),t=n);e.i.push(new NR(e.ab++,t)),e.G==3&&eu(e)};Bt.prototype.M=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,Bt.X.M.call(this)};function F_(t){yd.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yt(F_,yd);function V_(){bd.call(this),this.status=1}yt(V_,bd);function is(t){this.g=t}yt(is,L_);is.prototype.xa=function(){vt(this.g,"a")};is.prototype.wa=function(t){vt(this.g,new F_(t))};is.prototype.va=function(t){vt(this.g,new V_)};is.prototype.ua=function(){vt(this.g,"b")};ic.prototype.createWebChannel=ic.prototype.g;Bt.prototype.send=Bt.prototype.u;Bt.prototype.open=Bt.prototype.m;Bt.prototype.close=Bt.prototype.close;Hc.NO_ERROR=0;Hc.TIMEOUT=8;Hc.HTTP_ERROR=6;r_.COMPLETE="complete";i_.EventType=No;No.OPEN="a";No.CLOSE="b";No.ERROR="c";No.MESSAGE="d";lt.prototype.listen=lt.prototype.N;He.prototype.listenOnce=He.prototype.O;He.prototype.getLastError=He.prototype.Oa;He.prototype.getLastErrorCode=He.prototype.Ea;He.prototype.getStatus=He.prototype.aa;He.prototype.getResponseJson=He.prototype.Sa;He.prototype.getResponseText=He.prototype.fa;He.prototype.send=He.prototype.da;He.prototype.setWithCredentials=He.prototype.Ka;var BR=function(){return new ic},UR=function(){return Kc()},ll=Hc,QR=r_,zR=Hr,Bg={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KR=Mo,oa=i_,HR=He;const Ug="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Aw("@firebase/firestore");function Qg(){return qr.logLevel}function Z(t,...e){if(qr.logLevel<=Ie.DEBUG){const n=e.map(Od);qr.debug(`Firestore (${ss}): ${t}`,...n)}}function Pn(t,...e){if(qr.logLevel<=Ie.ERROR){const n=e.map(Od);qr.error(`Firestore (${ss}): ${t}`,...n)}}function Lf(t,...e){if(qr.logLevel<=Ie.WARN){const n=e.map(Od);qr.warn(`Firestore (${ss}): ${t}`,...n)}}function Od(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function Pe(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new _t(e)}}class JR{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Pe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class XR{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new JR(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.A=n.token,new ZR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=t1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function qi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new it(0,0))}static max(){return new pe(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends yo{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const n1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends yo{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return n1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe($e.fromString(e))}static fromName(e){return new oe($e.fromString(e).popFirst(5))}static empty(){return new oe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new $e(e.slice()))}}function r1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new ar(i,oe.empty(),e)}function i1(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(pe.min(),oe.empty(),-1)}static max(){return new ar(pe.max(),oe.empty(),-1)}}function s1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==o1)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}kd.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,s,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class bo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return t==null}function sc(t){return t===0&&1/t==-1/0}function u1(t){return typeof t=="number"&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new l1("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const f1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=f1.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function U_(t){const e=t.mapValue.fields.__previous_value__;return B_(e)?U_(e):e}function wo(t){const e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:h1(t)?9007199254740991:10:ce()}function En(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wo(t).isEqual(wo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=cr(r.timestampValue),o=cr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Bi(r.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?sc(s)===sc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zg(s)!==zg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!En(s[a],o[a])))return!1;return!0}(t,e);default:return ce()}}function _o(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function Ui(t,e){if(t===e)return 0;const n=Br(t),r=Br(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Kg(t.timestampValue,e.timestampValue);case 4:return Kg(wo(t),wo(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Bi(i),a=Bi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=Oe(o[c],a[c]);if(u!==0)return u}return Oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Oe(Ze(i.latitude),Ze(s.latitude));return o!==0?o:Oe(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Ui(o[c],a[c]);if(u)return u}return Oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===aa.mapValue&&s===aa.mapValue)return 0;if(i===aa.mapValue)return 1;if(s===aa.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const f=Oe(a[l],u[l]);if(f!==0)return f;const h=Ui(o[a[l]],c[u[l]]);if(h!==0)return h}return Oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Kg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=cr(t),r=cr(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Qi(t){return Ff(t)}function Ff(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=cr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ff(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ff(r.fields[a])}`;return s+"}"}(t.mapValue):ce();var e,n}function Vf(t){return!!t&&"integerValue"in t}function xd(t){return!!t&&"arrayValue"in t}function Hg(t){return!!t&&"nullValue"in t}function Gg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sa(t){return!!t&&"mapValue"in t}function $s(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$s(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$s(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.position=e,this.inclusive=n}}function Wg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Ui(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class rt extends Q_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p1(e,n,r):n==="array-contains"?new v1(e,r):n==="in"?new y1(e,r):n==="not-in"?new b1(e,r):n==="array-contains-any"?new w1(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m1(e,r):new g1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ui(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tn extends Q_{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Tn(e,n)}matches(e){return z_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function z_(t){return t.op==="and"}function K_(t){return d1(t)&&z_(t)}function d1(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function jf(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Qi(t.value);if(K_(t))return t.filters.map(e=>jf(e)).join(",");{const e=t.filters.map(n=>jf(n)).join(",");return`${t.op}(${e})`}}function H_(t,e){return t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.field.isEqual(r.field)&&En(n.value,r.value)}(t,e):t instanceof Tn?function(n,r){return r instanceof Tn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&H_(s,r.filters[o]),!0):!1}(t,e):void ce()}function G_(t){return t instanceof rt?function(e){return`${e.field.canonicalString()} ${e.op} ${Qi(e.value)}`}(t):t instanceof Tn?function(e){return e.op.toString()+" {"+e.getFilters().map(G_).join(" ,")+"}"}(t):"Filter"}class p1 extends rt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class m1 extends rt{constructor(e,n){super(e,"in",n),this.keys=W_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g1 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=W_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class v1 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xd(n)&&_o(n.arrayValue,this.value)}}class y1 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_o(this.value.arrayValue,n)}}class b1 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_o(this.value.arrayValue,n)}}class w1 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_o(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function _1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ca(this.root,e,this.comparator,!0)}}class ca{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:mt.RED,this.left=i!=null?i:mt.EMPTY,this.right=s!=null?s:mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jg(this.data.getIterator())}getIteratorFrom(e){return new Jg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class Jg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new qt([])}unionWith(e){let n=new st(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$s(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$s(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt($s(this.value))}}function Y_(t){const e=[];return Gr(t.fields,(n,r)=>{const i=new St([n]);if(Sa(r)){const s=Y_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,pe.min(),pe.min(),pe.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,pe.min(),pe.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,pe.min(),pe.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function Xg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new E1(t,e,n,r,i,s,o)}function Dd(t){const e=me(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),e._t=n}return e._t}function Ad(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yg(t.startAt,e.startAt)&&Yg(t.endAt,e.endAt)}function $f(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null,this.startAt,this.endAt}}function T1(t,e,n,r,i,s,o,a){return new nu(t,e,n,r,i,s,o,a)}function ru(t){return new nu(t)}function Zg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function C1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function I1(t){return t.collectionGroup!==null}function Ii(t){const e=me(t);if(e.wt===null){e.wt=[];const n=C1(e),r=S1(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new qs(n)),e.wt.push(new qs(St.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qs(St.keyField(),s))}}}return e.wt}function Mn(t){const e=me(t);if(!e.gt)if(e.limitType==="F")e.gt=Xg(e.path,e.collectionGroup,Ii(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ii(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new qs(s.field,o))}const r=e.endAt?new oc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new oc(e.startAt.position,e.startAt.inclusive):null;e.gt=Xg(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function qf(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iu(t,e){return Ad(Mn(t),Mn(e))&&t.limitType===e.limitType}function J_(t){return`${Dd(Mn(t))}|lt:${t.limitType}`}function Bf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>G_(r)).join(", ")}]`),tu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function su(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ii(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Wg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ii(n),r)||n.endAt&&!function(i,s,o){const a=Wg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ii(n),r))}(t,e)}function O1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X_(t){return(e,n)=>{let r=!1;for(const i of Ii(t)){const s=k1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k1(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Ui(a,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function eE(t){return{integerValue:""+t}}function x1(t,e){return u1(e)?eE(e):Z_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this._=void 0}}function D1(t,e,n){return t instanceof ac?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Eo?nE(t,e):t instanceof To?rE(t,e):function(r,i){const s=tE(r,i),o=ev(s)+ev(r.It);return Vf(s)&&Vf(r.It)?eE(o):Z_(r.Tt,o)}(t,e)}function A1(t,e,n){return t instanceof Eo?nE(t,e):t instanceof To?rE(t,e):n}function tE(t,e){return t instanceof cc?Vf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ac extends ou{}class Eo extends ou{constructor(e){super(),this.elements=e}}function nE(t,e){const n=iE(e);for(const r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}class To extends ou{constructor(e){super(),this.elements=e}}function rE(t,e){let n=iE(e);for(const r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}class cc extends ou{constructor(e,n){super(),this.Tt=e,this.It=n}}function ev(t){return Ze(t.integerValue||t.doubleValue)}function iE(t){return xd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N1(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Eo&&r instanceof Eo||n instanceof To&&r instanceof To?qi(n.elements,r.elements,En):n instanceof cc&&r instanceof cc?En(n.It,r.It):n instanceof ac&&r instanceof ac}(t.transform,e.transform)}class R1{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ca(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class au{}function sE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aE(t.key,cn.none()):new $o(t.key,t.data,cn.none());{const n=t.data,r=Lt.empty();let i=new st(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dr(t.key,r,new qt(i.toArray()),cn.none())}}function P1(t,e,n){t instanceof $o?function(r,i,s){const o=r.value.clone(),a=nv(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(r,i,s){if(!Ca(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=nv(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(oE(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bs(t,e,n,r){return t instanceof $o?function(i,s,o,a){if(!Ca(i.precondition,s))return o;const c=i.value.clone(),u=rv(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(i,s,o,a){if(!Ca(i.precondition,s))return o;const c=rv(i.fieldTransforms,a,s),u=s.data;return u.setAll(oE(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,s,o){return Ca(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function M1(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tE(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function tv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qi(n,r,(i,s)=>N1(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends au{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dr extends au{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nv(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A1(o,a,n[i]))}return r}function rv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,D1(s,o,e))}return r}class aE extends au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1 extends au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,Ee;function V1(t){switch(t){default:return ce();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function cE(t){if(t===void 0)return Pn("GRPC error has no .code"),P.UNKNOWN;switch(t){case Xe.OK:return P.OK;case Xe.CANCELLED:return P.CANCELLED;case Xe.UNKNOWN:return P.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return P.INTERNAL;case Xe.UNAVAILABLE:return P.UNAVAILABLE;case Xe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Xe.NOT_FOUND:return P.NOT_FOUND;case Xe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Xe.ABORTED:return P.ABORTED;case Xe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Xe.DATA_LOSS:return P.DATA_LOSS;default:return ce()}}(Ee=Xe||(Xe={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new ot(oe.comparator);function Ln(){return j1}const uE=new ot(oe.comparator);function ks(...t){let e=uE;for(const n of t)e=e.insert(n.key,n);return e}function lE(t){let e=uE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Us()}function fE(){return Us()}function Us(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const $1=new ot(oe.comparator),q1=new st(oe.comparator);function _e(...t){let e=q1;for(const n of t)e=e.add(n);return e}const B1=new st(Oe);function hE(){return B1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cu(pe.min(),i,hE(),Ln(),_e())}}class qo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qo(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class dE{constructor(e,n){this.targetId=e,this.Rt=n}}class pE{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iv{constructor(){this.Pt=0,this.vt=ov(),this.bt=kt.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=_e(),n=_e(),r=_e();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new qo(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=ov()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class U1{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Ln(),this.Kt=sv(),this.Gt=new st(Oe)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if($f(s))if(r===0){const o=new oe(s.path);this.zt(n,o,Et.newNoDocument(o,pe.min()))}else Pe(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&$f(a.target)){const c=new oe(a.target.path);this.Ut.get(c)!==null||this.ne(o,c)||this.zt(o,c,Et.newNoDocument(c,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=_e();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Xt(c);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new cu(e,n,this.Gt,this.Ut,r);return this.Ut=Ln(),this.Kt=sv(),this.Gt=new st(Oe),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new iv,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new st(Oe),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new iv),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function sv(){return new ot(oe.comparator)}function ov(){return new ot(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),z1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),K1=(()=>({and:"AND",or:"OR"}))();class H1{constructor(e,n){this.databaseId=e,this.yt=n}}function uc(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(t,e){return t.yt?e.toBase64():e.toUint8Array()}function G1(t,e){return uc(t,e.toTimestamp())}function bn(t){return Pe(!!t),pe.fromTimestamp(function(e){const n=cr(e);return new it(n.seconds,n.nanos)}(t))}function Nd(t,e){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gE(t){const e=$e.fromString(t);return Pe(wE(e)),e}function Uf(t,e){return Nd(t.databaseId,e.path)}function fl(t,e){const n=gE(e);if(n.get(1)!==t.databaseId.projectId)throw new se(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(vE(n))}function Qf(t,e){return Nd(t.databaseId,e)}function W1(t){const e=gE(t);return e.length===4?$e.emptyPath():vE(e)}function zf(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vE(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function av(t,e,n){return{name:Uf(t,e),fields:n.value.mapValue.fields}}function Y1(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.yt?(Pe(u===void 0||typeof u=="string"),kt.fromBase64String(u||"")):(Pe(u===void 0||u instanceof Uint8Array),kt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?P.UNKNOWN:cE(c.code);return new se(u,c.message||"")}(o);n=new pE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fl(t,r.document.name),s=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):pe.min(),a=new Lt({mapValue:{fields:r.document.fields}}),c=Et.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ia(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fl(t,r.document),s=r.readTime?bn(r.readTime):pe.min(),o=Et.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ia([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fl(t,r.document),s=r.removedTargetIds||[];n=new Ia([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new F1(i),o=r.targetId;n=new dE(o,s)}}return n}function J1(t,e){let n;if(e instanceof $o)n={update:av(t,e.key,e.value)};else if(e instanceof aE)n={delete:Uf(t,e.key)};else if(e instanceof dr)n={update:av(t,e.key,e.data),updateMask:oP(e.fieldMask)};else{if(!(e instanceof L1))return ce();n={verify:Uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ac)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof To)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cc)return{fieldPath:s.field.canonicalString(),increment:o.It};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:G1(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function X1(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?bn(r.updateTime):bn(i);return s.isEqual(pe.min())&&(s=bn(i)),new R1(s,r.transformResults||[])}(n,e))):[]}function Z1(t,e){return{documents:[Qf(t,e.path)]}}function eP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Qf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return bE(Tn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:ai(l.field),direction:rP(l.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(c,u){return c.yt||tu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function tP(t){let e=W1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const f=yE(l);return f instanceof Tn&&K_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(f){return new qs(ci(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(l)));let a=null;n.limit&&(a=function(l){let f;return f=typeof l=="object"?l.value:l,tu(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(l){const f=!!l.before,h=l.values||[];return new oc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const f=!l.before,h=l.values||[];return new oc(h,f)}(n.endAt)),T1(e,i,o,s,a,"F",c,u)}function nP(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ce()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function yE(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ci(e.unaryFilter.field);return rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ci(e.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ci(e.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ci(e.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(e){return rt.create(ci(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Tn.create(e.compositeFilter.filters.map(n=>yE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ce()}}(e.compositeFilter.op))}(t):ce()}function rP(t){return Q1[t]}function iP(t){return z1[t]}function sP(t){return K1[t]}function ai(t){return{fieldPath:t.canonicalString()}}function ci(t){return St.fromServerFormat(t.fieldPath)}function bE(t){return t instanceof rt?function(e){if(e.op==="=="){if(Gg(e.value))return{unaryFilter:{field:ai(e.field),op:"IS_NAN"}};if(Hg(e.value))return{unaryFilter:{field:ai(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Gg(e.value))return{unaryFilter:{field:ai(e.field),op:"IS_NOT_NAN"}};if(Hg(e.value))return{unaryFilter:{field:ai(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ai(e.field),op:iP(e.op),value:e.value}}}(t):t instanceof Tn?function(e){const n=e.getFilters().map(r=>bE(r));return n.length===1?n[0]:{compositeFilter:{op:sP(e.op),filters:n}}}(t):ce()}function oP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P1(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=sE(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>tv(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>tv(n,r))}}class Rd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=$1;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,s=pe.min(),o=pe.min(),a=kt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.oe=e}}function lP(t){const e=tP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Ze=new hP}addToCollectionParentIndex(e,n){return this.Ze.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ar.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class hP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new zi(0)}static Sn(){return new zi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bs(r.mutation,i,qt.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ks();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln();const o=Us(),a=Us();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof dr)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Bs(l.mutation,u,l.mutation.getFieldMask(),it.now())):o.set(u.key,qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var f;return a.set(u,new pP(l,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Us();let i=new ot((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||qt.empty();l=a.applyToLocalView(u,l),r.set(c,l);const f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,f=fE();l.forEach(h=>{if(!s.has(h)){const d=sE(n.get(h),r.get(h));d!==null&&f.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Or());let a=-1,c=s;return o.next(u=>M.forEach(u,(l,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(l)?M.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(l=>({batchId:a,changes:lE(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=ks();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ks();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,a=>{const c=function(u,l){return new nu(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,f)=>{s=s.insert(l,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Et.newInvalidDocument(u)))});let o=ks();return s.forEach((a,c)=>{const u=i.get(a);u!==void 0&&Bs(u.mutation,c,qt.empty(),it.now()),su(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return M.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:bn(r.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:lP(r.bundledQuery),readTime:bn(r.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.overlays=new ot(oe.comparator),this.ss=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Or(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ot((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Or(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Or(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return M.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cP(n,r));let s=this.ss.get(n);s===void 0&&(s=_e(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.rs=new st(ct.os),this.us=new st(ct.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new ct(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new oe(new $e([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new oe(new $e([])),r=new ct(n,e),i=new ct(n,e+1);let s=_e();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return oe.comparator(e.key,n.key)||Oe(e.gs,n.gs)}static cs(e,n){return Oe(e.gs,n.gs)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new st(ct.os)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aP(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(Oe);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),M.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new ct(new oe(s),0);let a=new st(Oe);return this.ps.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gs)),!0)},o),M.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return M.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new ct(n,0),i=this.ps.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.Rs=e,this.docs=new ot(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Et.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln();const o=n.path,a=new oe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s1(i1(l),r)<=0||(i.has(l.key)||su(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Ps(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wP(this)}getSize(e){return M.resolve(this.size)}}class wP extends dP{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.persistence=e,this.vs=new os(n=>Dd(n),Ad),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Pd,this.targetCount=0,this.Ss=zi.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),M.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new zi(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.xn(n),M.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new kd(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new _P(this),this.indexManager=new fP,this.remoteDocumentCache=function(r){return new bP(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new uP(n),this.$s=new gP(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new yP(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new TP(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return M.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class TP extends a1{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Bs=new Pd,this.Ls=null}static qs(e){return new Md(e)}get Us(){if(this.Ls)return this.Ls;throw ce()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),M.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Us,r=>{const i=oe.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return M.or([()=>M.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ld(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(Zg(n))return M.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qf(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Bi(n,a);return this.Li(n,u,o,c.readTime)?this.Mi(e,qf(n,null,"F")):this.qi(e,u,n,c)}))})))}Oi(e,n,r,i){return Zg(n)||i.isEqual(pe.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(Qg()<=Ie.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bf(n)),this.qi(e,o,n,r1(i,-1)))})}Bi(e,n){let r=new st(X_(e));return n.forEach((i,s)=>{su(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return Qg()<=Ie.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Bf(n)),this.$i.getDocumentsMatchingQuery(e,n,ar.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new ot(Oe),this.Gi=new os(s=>Dd(s),Ad),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mP(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function IP(t,e,n,r){return new CP(t,e,n,r)}async function _E(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=_e();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function OP(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,f=l.keys();let h=M.resolve();return f.forEach(d=>{h=h.next(()=>u.getEntry(a,d)).next(p=>{const m=c.docVersions.get(d);Pe(m!==null),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EE(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function kP(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((l,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,l.removedDocuments,f).next(()=>n.Ns.addMatchingKeys(s,l.addedDocuments,f)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?d=d.withResumeToken(kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,r)),i=i.insert(f,d),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,d,l)&&a.push(n.Ns.updateTargetData(s,d))});let c=Ln(),u=_e();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(xP(s,o,e.documentUpdates).next(l=>{c=l.Hi,u=l.Ji})),!r.isEqual(pe.min())){const l=n.Ns.getLastRemoteSnapshotVersion(s).next(f=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ki=i,s))}function xP(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Hi:o,Ji:i}})}function DP(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AP(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Mr(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function Kf(t,e,n){const r=me(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jo(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function cv(t,e,n){const r=me(t);let i=pe.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=me(a),f=l.Gi.get(u);return f!==void 0?M.resolve(l.Ki.get(f)):l.Ns.getTargetData(c,u)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:_e())).next(a=>(NP(r,O1(e),a),{documents:a,Yi:s})))}function NP(t,e,n){let r=t.Qi.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}class uv{constructor(){this.activeTargetIds=hE()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(){this.Ur=new uv,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new uv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua=null;function hl(){return ua===null?ua=268435456+Math.round(2147483648*Math.random()):ua++,"0x"+ua.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class FP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=hl(),a=this.fo(e,n);Z("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this._o(c,i,s),this.wo(e,a,c,r).then(u=>(Z("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Lf("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=MP[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=hl();return new Promise((o,a)=>{const c=new HR;c.setWithCredentials(!0),c.listenOnce(QR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ll.NO_ERROR:const l=c.getResponseJson();Z(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ll.TIMEOUT:Z(bt,`RPC '${e}' ${s} timed out`),a(new se(P.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:const f=c.getStatus();if(Z(bt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(g)>=0?g:P.UNKNOWN}(d.status);a(new se(p,d.message))}else a(new se(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(P.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Z(bt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Z(bt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}yo(e,n,r){const i=hl(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BR(),a=UR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new KR({})),this._o(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");Z(bt,`Creating RPC '${e}' stream ${i}: ${u}`,c);const l=o.createWebChannel(u,c);let f=!1,h=!1;const d=new LP({Yr:m=>{h?Z(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(Z(bt,`Opening RPC '${e}' stream ${i} transport.`),l.open(),f=!0),Z(bt,`RPC '${e}' stream ${i} sending:`,m),l.send(m))},Zr:()=>l.close()}),p=(m,g,w)=>{m.listen(g,v=>{try{w(v)}catch(y){setTimeout(()=>{throw y},0)}})};return p(l,oa.EventType.OPEN,()=>{h||Z(bt,`RPC '${e}' stream ${i} transport opened.`)}),p(l,oa.EventType.CLOSE,()=>{h||(h=!0,Z(bt,`RPC '${e}' stream ${i} transport closed`),d.oo())}),p(l,oa.EventType.ERROR,m=>{h||(h=!0,Lf(bt,`RPC '${e}' stream ${i} transport errored:`,m),d.oo(new se(P.UNAVAILABLE,"The operation could not be completed")))}),p(l,oa.EventType.MESSAGE,m=>{var g;if(!h){const w=m.data[0];Pe(!!w);const v=w,y=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(y){Z(bt,`RPC '${e}' stream ${i} received error:`,y);const E=y.status;let T=function(k){const O=Xe[k];if(O!==void 0)return cE(O)}(E),x=y.message;T===void 0&&(T=P.INTERNAL,x="Unknown error status: "+E+" with message "+y.message),h=!0,d.oo(new se(T,x)),l.close()}else Z(bt,`RPC '${e}' stream ${i} received:`,w),d.uo(w)}}),p(a,zR.STAT_EVENT,m=>{m.stat===Bg.PROXY?Z(bt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Bg.NOPROXY&&Z(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.ro()},0),d}}function dl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){return new H1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i,s,o,a,c){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new TE(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new se(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VP extends SE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=Y1(this.Tt,e),r=function(i){if(!("targetChange"in i))return pe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?bn(s.readTime):pe.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=zf(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=$f(a)?{documents:Z1(i,a)}:{query:eP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mE(i,s.resumeToken):s.snapshotVersion.compareTo(pe.min())>0&&(o.readTime=uc(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=nP(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=zf(this.Tt),n.removeTarget=e,this.qo(n)}}class jP extends SE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=X1(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.eu(r,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=zf(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J1(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new se(P.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(P.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(P.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class qP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Pn(n),this.cu=!1):Z("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Wr(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=me(a);c.mu.add(4),await Bo(c),c.pu.set("Unknown"),c.mu.delete(4),await lu(c)}(this))})}),this.pu=new qP(r,i)}}async function lu(t){if(Wr(t))for(const e of t.gu)await e(!0)}async function Bo(t){for(const e of t.gu)await e(!1)}function CE(t,e){const n=me(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),jd(n)?Vd(n):as(n).Mo()&&Fd(n,e))}function IE(t,e){const n=me(t),r=as(n);n.wu.delete(e),r.Mo()&&OE(n,e),n.wu.size===0&&(r.Mo()?r.Bo():Wr(n)&&n.pu.set("Unknown"))}function Fd(t,e){t.Iu.Ot(e.targetId),as(t).Jo(e)}function OE(t,e){t.Iu.Ot(e),as(t).Yo(e)}function Vd(t){t.Iu=new U1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),as(t).start(),t.pu.au()}function jd(t){return Wr(t)&&!as(t).$o()&&t.wu.size>0}function Wr(t){return me(t).mu.size===0}function kE(t){t.Iu=void 0}async function UP(t){t.wu.forEach((e,n)=>{Fd(t,e)})}async function QP(t,e){kE(t),jd(t)?(t.pu.fu(e),Vd(t)):t.pu.set("Unknown")}async function zP(t,e,n){if(t.pu.set("Online"),e instanceof pE&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lc(t,r)}else if(e instanceof Ia?t.Iu.Qt(e):e instanceof dE?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(pe.min()))try{const r=await EE(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.wu.get(c);u&&i.wu.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const c=i.wu.get(a);if(!c)return;i.wu.set(a,c.withResumeToken(kt.EMPTY_BYTE_STRING,c.snapshotVersion)),OE(i,a);const u=new Mr(c.target,a,1,c.sequenceNumber);Fd(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await lc(t,r)}}async function lc(t,e,n){if(!jo(e))throw e;t.mu.add(1),await Bo(t),t.pu.set("Offline"),n||(n=()=>EE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await lu(t)})}function xE(t,e){return e().catch(n=>lc(t,n,e))}async function fu(t){const e=me(t),n=ur(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;KP(e);)try{const i=await DP(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,HP(e,i)}catch(i){await lc(e,i)}DE(e)&&AE(e)}function KP(t){return Wr(t)&&t._u.length<10}function HP(t,e){t._u.push(e);const n=ur(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function DE(t){return Wr(t)&&!ur(t).$o()&&t._u.length>0}function AE(t){ur(t).start()}async function GP(t){ur(t).su()}async function WP(t){const e=ur(t);for(const n of t._u)e.tu(n.mutations)}async function YP(t,e,n){const r=t._u.shift(),i=Rd.from(r,e,n);await xE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fu(t)}async function JP(t,e){e&&ur(t).Xo&&await async function(n,r){if(i=r.code,V1(i)&&i!==P.ABORTED){const s=n._u.shift();ur(n).Fo(),await xE(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fu(n)}var i}(t,e),DE(t)&&AE(t)}async function fv(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Wr(n);n.mu.add(3),await Bo(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await lu(n)}async function XP(t,e){const n=me(t);e?(n.mu.delete(2),await lu(n)):e||(n.mu.add(2),await Bo(n),n.pu.set("Unknown"))}function as(t){return t.Tu||(t.Tu=function(e,n,r){const i=me(e);return i.ru(),new VP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:UP.bind(null,t),no:QP.bind(null,t),Ho:zP.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),jd(t)?Vd(t):t.pu.set("Unknown")):(await t.Tu.stop(),kE(t))})),t.Tu}function ur(t){return t.Eu||(t.Eu=function(e,n,r){const i=me(e);return i.ru(),new jP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:GP.bind(null,t),no:JP.bind(null,t),nu:WP.bind(null,t),eu:YP.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await fu(t)):(await t.Eu.stop(),t._u.length>0&&(Z("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $d(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),jo(t))return new se(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=ks(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Oi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Au=new ot(oe.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):ce():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ki{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ki(e,n,Oi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.Pu=void 0,this.listeners=[]}}class eM{constructor(){this.queries=new os(e=>J_(e),iu),this.onlineState="Unknown",this.vu=new Set}}async function NE(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ZP),i)try{s.Pu=await n.onListen(r)}catch(o){const a=qd(o,`Initialization of query '${Bf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&Bd(n)}async function RE(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function tM(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&Bd(n)}function nM(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Bd(t){t.vu.forEach(e=>{e.next()})}class PE{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ki(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=Ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class rM{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=_e(),this.mutatedKeys=_e(),this.ju=X_(e),this.zu=new Oi(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new hv,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,f)=>{const h=i.get(l),d=su(this.query,f)?f:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?p!==m&&(r.track({type:3,doc:d}),g=!0):this.Yu(h,d)||(r.track({type:2,doc:d}),g=!0,(c&&this.ju(d,c)>0||u&&this.ju(d,u)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),g=!0):h&&!d&&(r.track({type:1,doc:h}),g=!0,(c||u)&&(a=!0)),g&&(d?(o=o.add(d),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((u,l)=>function(f,h){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return d(f)-d(h)}(u.type,l.type)||this.ju(u.doc,l.doc)),this.Zu(r);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,s.length!==0||c?{snapshot:new Ki(this.query,e.zu,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new hv,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=_e(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new LE(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new ME(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=_e();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return Ki.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class iM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sM{constructor(e){this.key=e,this.ic=!1}}class oM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new os(a=>J_(a),iu),this.uc=new Map,this.cc=new Set,this.ac=new ot(oe.comparator),this.hc=new Map,this.lc=new Pd,this.fc={},this.dc=new Map,this._c=zi.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function aM(t,e){const n=vM(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await AP(n.localStore,Mn(e));n.isPrimaryClient&&CE(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await cM(n,e,r,a==="current",o.resumeToken)}return i}async function cM(t,e,n,r,i){t.mc=(f,h,d)=>async function(p,m,g,w){let v=m.view.Hu(g);v.Li&&(v=await cv(p.localStore,m.query,!1).then(({documents:T})=>m.view.Hu(T,v)));const y=w&&w.targetChanges.get(m.targetId),E=m.view.applyChanges(v,p.isPrimaryClient,y);return pv(p,m.targetId,E.tc),E.snapshot}(t,f,h,d);const s=await cv(t.localStore,e,!0),o=new rM(e,s.Yi),a=o.Hu(s.documents),c=qo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);pv(t,n,u.tc);const l=new iM(e,n,o);return t.oc.set(e,l),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),u.snapshot}async function uM(t,e){const n=me(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!iu(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Kf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),IE(n.remoteStore,r.targetId),Hf(n,r.targetId)}).catch(Vo)):(Hf(n,r.targetId),await Kf(n.localStore,r.targetId,!0))}async function lM(t,e,n){const r=yM(t);try{const i=await function(s,o){const a=me(s),c=it.now(),u=o.reduce((h,d)=>h.add(d.key),_e());let l,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let d=Ln(),p=_e();return a.ji.getEntries(h,u).next(m=>{d=m,d.forEach((g,w)=>{w.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,d)).next(m=>{l=m;const g=[];for(const w of o){const v=M1(w,l.get(w.key).overlayedDocument);v!=null&&g.push(new dr(w.key,v,Y_(v.value.mapValue),cn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,g,o)}).next(m=>{f=m;const g=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:f.batchId,changes:lE(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.fc[s.currentUser.toKey()];c||(c=new ot(Oe)),c=c.insert(o,a),s.fc[s.currentUser.toKey()]=c}(r,i.batchId,n),await Uo(r,i.changes),await fu(r.remoteStore)}catch(i){const s=qd(i,"Failed to persist write");n.reject(s)}}async function FE(t,e){const n=me(t);try{const r=await kP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?Pe(o.ic):i.removedDocuments.size>0&&(Pe(o.ic),o.ic=!1))}),await Uo(n,r,e)}catch(r){await Vo(r)}}function dv(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=me(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const f of l.listeners)f.bu(o)&&(c=!0)}),c&&Bd(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fM(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new ot(oe.comparator);o=o.insert(s,Et.newNoDocument(s,pe.min()));const a=_e().add(s),c=new cu(pe.min(),new Map,new st(Oe),o,a);await FE(r,c),r.ac=r.ac.remove(s),r.hc.delete(e),Ud(r)}else await Kf(r.localStore,e,!1).then(()=>Hf(r,e,n)).catch(Vo)}async function hM(t,e){const n=me(t),r=e.batch.batchId;try{const i=await OP(n.localStore,e);jE(n,r,null),VE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uo(n,i)}catch(i){await Vo(i)}}async function dM(t,e,n){const r=me(t);try{const i=await function(s,o){const a=me(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(Pe(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);jE(r,e,n),VE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uo(r,i)}catch(i){await Vo(i)}}function VE(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function jE(t,e,n){const r=me(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function Hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||$E(t,r)})}function $E(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(IE(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),Ud(t))}function pv(t,e,n){for(const r of n)r instanceof ME?(t.lc.addReference(r.key,e),pM(t,r)):r instanceof LE?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||$E(t,r.key)):ce()}function pM(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.cc.add(r),Ud(t))}function Ud(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new oe($e.fromString(e)),r=t._c.next();t.hc.set(r,new sM(n)),t.ac=t.ac.insert(n,r),CE(t.remoteStore,new Mr(Mn(ru(n.path)),r,2,kd.at))}}async function Uo(t,e,n){const r=me(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,c)=>{o.push(r.mc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const l=Ld.Ni(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,c){const u=me(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>M.forEach(c,f=>M.forEach(f.Ci,h=>u.persistence.referenceDelegate.addReference(l,f.targetId,h)).next(()=>M.forEach(f.xi,h=>u.persistence.referenceDelegate.removeReference(l,f.targetId,h)))))}catch(l){if(!jo(l))throw l;Z("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const f=l.targetId;if(!l.fromCache){const h=u.Ki.get(f),d=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(d);u.Ki=u.Ki.insert(f,p)}}}(r.localStore,s))}async function mM(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await _E(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new se(P.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uo(n,r.Wi)}}function gM(t,e){const n=me(t),r=n.hc.get(e);if(r&&r.ic)return _e().add(r.key);{let i=_e();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}function vM(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fM.bind(null,e),e.rc.Ho=tM.bind(null,e.eventManager),e.rc.gc=nM.bind(null,e.eventManager),e}function yM(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class bM{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=uu(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return IP(this.persistence,new SP,e.initialUser,this.Tt)}Tc(e){return new EP(Md.qs,this.Tt)}Ic(e){return new RP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await XP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new eM}createDatastore(e){const n=uu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new FP(i));var i;return function(s,o,a,c){return new $P(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dv(this.syncEngine,a,0),o=lv.C()?new lv:new PP,new BP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new oM(r,i,s,o,a,c);return u&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=me(e);Z("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await Bo(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=$_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function EM(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _E(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function TM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SM(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>fv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fv(e.remoteStore,s)),t.onlineComponents=e}async function SM(t){return t.offlineComponents||(Z("FirestoreClient","Using default OfflineComponentProvider"),await EM(t,new bM)),t.offlineComponents}async function BE(t){return t.onlineComponents||(Z("FirestoreClient","Using default OnlineComponentProvider"),await TM(t,new wM)),t.onlineComponents}function CM(t){return BE(t).then(e=>e.syncEngine)}async function Gf(t){const e=await BE(t),n=e.eventManager;return n.onListen=aM.bind(null,e.syncEngine),n.onUnlisten=uM.bind(null,e.syncEngine),n}function IM(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const u=new qE({next:f=>{s.enqueueAndForget(()=>RE(i,l));const h=f.docs.has(o);!h&&f.fromCache?c.reject(new se(P.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&a&&a.source==="server"?c.reject(new se(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),l=new PE(ru(o.path),u,{includeMetadataChanges:!0,$u:!0});return NE(i,l)}(await Gf(t),t.asyncQueue,e,n,r)),r.promise}const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e,n){if(!n)throw new se(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OM(t,e,n,r){if(e===!0&&r===!0)throw new se(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gv(t){if(!oe.isDocumentKey(t))throw new se(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vv(t){if(oe.isDocumentKey(t))throw new se(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new se(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new GR;switch(n.type){case"gapi":const r=n.client;return new XR(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mv.get(e);n&&(Z("ComponentProvider","Removing Datastore"),mv.delete(e),n.terminate())}(this),Promise.resolve()}}function kM(t,e,n,r={}){var i;const s=(t=un(t,hu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Lf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=_t.MOCK_USER;else{o=NA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new _t(c)}t._authCredentials=new WR(new j_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class du{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new du(this.firestore,e,this._query)}}class nr extends du{constructor(e,n,r){super(e,n,ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new oe(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Nn(t),UE("collection","path",e),t instanceof hu){const r=$e.fromString(e,...n);return vv(r),new nr(t,null,r)}{if(!(t instanceof Rt||t instanceof nr))throw new se(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return vv(r),new nr(t.firestore,null,r)}}function Wf(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=$_.R()),UE("doc","path",e),t instanceof hu){const r=$e.fromString(e,...n);return gv(r),new Rt(t,null,new oe(r))}{if(!(t instanceof Rt||t instanceof nr))throw new se(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return gv(r),new Rt(t.firestore,t instanceof nr?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new TE(this,"async_queue_retry"),this.Hc=()=>{const n=dl();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=dl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=dl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new tr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!jo(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=$d.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&ce()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function bv(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ur extends hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||QE(this),this._firestoreClient.terminate()}}function DM(t,e){const n=typeof t=="object"?t:LN(),r=typeof t=="string"?t:e||"(default)",i=NN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xA("firestore");s&&kM(i,...s)}return i}function zd(t){return t._firestoreClient||QE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QE(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new c1(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new _M(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(kt.fromBase64String(e))}catch(n){throw new se(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^__.*__$/;class NM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}class zE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Gd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return fc(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(KE(this.ra)&&AM.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class RM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||uu(e)}wa(e,n,r,i=!1){return new Gd({ra:e,methodName:n,_a:r,path:St.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Wd(t){const e=t._freezeSettings(),n=uu(t._databaseId);return new RM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HE(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);Yd("Data must be an object, but it was:",o,r);const a=GE(r,o);let c,u;if(s.merge)c=new qt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const f of s.mergeFields){const h=Yf(e,f,n);if(!o.contains(h))throw new se(P.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YE(l,h)||l.push(h)}c=new qt(l),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new NM(new Lt(a),c,u)}class mu extends Kd{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mu}}function PM(t,e,n,r){const i=t.wa(1,e,n);Yd("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();Gr(r,(c,u)=>{const l=Jd(e,c,n);u=Nn(u);const f=i.ha(l);if(u instanceof mu)s.push(l);else{const h=gu(u,f);h!=null&&(s.push(l),o.set(l,h))}});const a=new qt(s);return new zE(o,a,i.fieldTransforms)}function MM(t,e,n,r,i,s){const o=t.wa(1,e,n),a=[Yf(e,r,n)],c=[i];if(s.length%2!=0)throw new se(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Yf(e,s[h])),c.push(s[h+1]);const u=[],l=Lt.empty();for(let h=a.length-1;h>=0;--h)if(!YE(u,a[h])){const d=a[h];let p=c[h];p=Nn(p);const m=o.ha(d);if(p instanceof mu)u.push(d);else{const g=gu(p,m);g!=null&&(u.push(d),l.set(d,g))}}const f=new qt(u);return new zE(l,f,o.fieldTransforms)}function gu(t,e){if(WE(t=Nn(t)))return Yd("Unsupported field value:",e,t),GE(t,e);if(t instanceof Kd)return function(n,r){if(!KE(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=gu(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return x1(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=it.fromDate(n);return{timestampValue:uc(r.Tt,i)}}if(n instanceof it){const i=new it(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uc(r.Tt,i)}}if(n instanceof Hd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hi)return{bytesValue:mE(r.Tt,n._byteString)};if(n instanceof Rt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nd(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${Qd(n)}`)}(t,e)}function GE(t,e){const n={};return q_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,(r,i)=>{const s=gu(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Hd||t instanceof Hi||t instanceof Rt||t instanceof Kd)}function Yd(t,e,n){if(!WE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Qd(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function Yf(t,e,n){if((e=Nn(e))instanceof pu)return e._internalPath;if(typeof e=="string")return Jd(t,e);throw fc("Field path arguments must be of type string or ",t,!1,void 0,n)}const LM=new RegExp("[~\\*/\\[\\]]");function Jd(t,e,n){if(e.search(LM)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(P.INVALID_ARGUMENT,a+t+c)}function YE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(XE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FM extends JE{data(){return super.data()}}function XE(t,e){return typeof e=="string"?Jd(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jM{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){const r={};return Gr(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hd(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=U_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wo(e));default:return null}}convertTimestamp(e){const n=cr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Pe(wE(r));const i=new bo(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e0 extends JE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(XE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Oa extends e0{data(e={}){return super.data(e)}}class $M{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oa(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Oa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Oa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:qM(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){t=un(t,Rt);const e=un(t.firestore,Ur);return IM(zd(e),t._key).then(n=>n0(e,t,n))}class t0 extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function UM(t,e,n){t=un(t,Rt);const r=un(t.firestore,Ur),i=ZE(t.converter,e,n);return Xd(r,[HE(Wd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cn.none())])}function QM(t,e,n,...r){t=un(t,Rt);const i=un(t.firestore,Ur),s=Wd(i);let o;return o=typeof(e=Nn(e))=="string"||e instanceof pu?MM(s,"updateDoc",t._key,e,n,r):PM(s,"updateDoc",t._key,e),Xd(i,[o.toMutation(t._key,cn.exists(!0))])}function wv(t,e){const n=un(t.firestore,Ur),r=Wf(t),i=ZE(t.converter,e);return Xd(n,[HE(Wd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function pl(t,...e){var n,r,i;t=Nn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||bv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(bv(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,l;if(t instanceof Rt)u=un(t.firestore,Ur),l=ru(t._key.path),c={next:f=>{e[o]&&e[o](n0(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=un(t,du);u=un(f.firestore,Ur),l=f._query;const h=new t0(u);c={next:d=>{e[o]&&e[o](new $M(u,h,f,d))},error:e[o+1],complete:e[o+2]},VM(t._query)}return function(f,h,d,p){const m=new qE(p),g=new PE(h,m,d);return f.asyncQueue.enqueueAndForget(async()=>NE(await Gf(f),g)),()=>{m.bc(),f.asyncQueue.enqueueAndForget(async()=>RE(await Gf(f),g))}}(zd(u),l,a,c)}function Xd(t,e){return function(n,r){const i=new tr;return n.asyncQueue.enqueueAndForget(async()=>lM(await CM(n),r,i)),i.promise}(zd(t),e)}function n0(t,e,n){const r=n.docs.get(e._key),i=new t0(t);return new e0(t,i,e._key,r,new xs(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ss=n})(MN),Ya(new lo("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ur(new YR(n.getProvider("auth-internal")),new e1(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ci(Ug,"3.9.0",t),Ci(Ug,"3.9.0","esm2017")})();var zM="firebase",KM="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(zM,KM,"app");const HM=Pw({apiKey:"AIzaSyDhLkCaapxxgYmOeQiAdP1V1xI8e7aZqlA",authDomain:"worktask2-e6e75.firebaseapp.com",projectId:"worktask2-e6e75",storageBucket:"worktask2-e6e75.appspot.com",messagingSenderId:"869898186237",appId:"1:869898186237:web:7d7f1e3a8376a3cd907d94"}),_v=DM(HM),GM={class:"flex items-center text-center justify-center column"},WM={class:"flex"},YM=mn("h3",null,"\u0412\u0430\u0448\u0430 \u043A\u0430\u043C\u0435\u0440\u0430",-1),JM=[".srcObject"],XM=mn("h3",null,"\u041A\u0430\u043C\u0435\u0440\u0430 \u0441\u043E\u0431\u0435\u0441\u0435\u0434\u043D\u0438\u043A\u0430",-1),ZM=[".srcObject"],eL={__name:"VideoStream",setup(t){const e=W(()=>i.getters["chat/GET_CURRENT_CHAT"]),{mutate:n}=pf(jD),r={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},i=gw(),s=new RTCPeerConnection(r),o=Ne(null),a=Ne(null),c=async()=>{o.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),a.value=new MediaStream,o.value.getTracks().forEach(h=>{s.addTrack(h,o.value)}),s.ontrack=h=>{h.streams[0].getTracks().forEach(d=>{a.value.addTrack(d)})}},u=async()=>{const h=Wf(ri(_v,"calls")),d=ri(h,"offerCandidates"),p=ri(h,"answerCandidates");i.commit("chat/CHANGE_CALL_ID_IN_CHAT",h.id);try{const{data:w}=await n({id:e.value.id,call_id:h.id})}catch(w){console.log(w)}s.onicecandidate=async w=>{w.candidate&&await wv(d,w.candidate.toJSON())};const m=await s.createOffer();await s.setLocalDescription(m);const g={sdp:m.sdp,type:m.type};await UM(h,{offer:g}),pl(h,w=>{const v=w.data();if(!s.currentRemoteDescription&&(v==null?void 0:v.answer)){const y=new RTCSessionDescription(v.answer);s.setRemoteDescription(y)}}),pl(p,w=>{w.docChanges().forEach(v=>{if(v.type==="added"){const y=new RTCIceCandidate(v.doc.data());s.addIceCandidate(y)}})})},l=async()=>{const h=i.getters["chat/GET_CURRENT_CHAT"].call_id,d=Wf(ri(_v,"calls"),h),p=ri(d,"offerCandidates"),m=ri(d,"answerCandidates");s.onicecandidate=async E=>{E.candidate&&await wv(m,E.candidate.toJSON())};const w=(await BM(d)).data().offer;await s.setRemoteDescription(new RTCSessionDescription(w));const v=await s.createAnswer();await s.setLocalDescription(v);const y={type:v.type,sdp:v.sdp};await QM(d,{answer:y}),pl(p,E=>{E.docChanges().forEach(T=>{if(T.type==="added"){let x=T.doc.data();s.addIceCandidate(new RTCIceCandidate(x))}})})},f=async()=>{i.commit("chat/CHANGE_CALL_ID_IN_CHAT",null),o.value.getVideoTracks()[0].enabled=!1,o.value.getAudioTracks()[0].enabled=!1,s.close()};return(h,d)=>(_i(),Ry("div",GM,[mn("div",null,[mn("div",WM,[Fe(fi,{flat:"",onClick:c},{default:On(()=>[_s("\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043A\u0430\u043C\u0435\u0440\u0443")]),_:1}),Fe(fi,{flat:"",onClick:u},{default:On(()=>[_s("\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0432\u0438\u0434\u0435\u043E\u0447\u0430\u0442")]),_:1}),Fe(fi,{flat:"",onClick:l},{default:On(()=>[_s("\u041F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C\u0441\u044F \u043A \u0437\u0432\u043E\u043D\u043A\u0443")]),_:1}),Fe(fi,{flat:"",color:"negative",onClick:f},{default:On(()=>[_s("\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F")]),_:1})]),mn("span",null,[YM,mn("video",{class:"rounded-borders",".srcObject":o.value,autoplay:"",playsinline:""},null,8,JM)]),mn("span",null,[XM,mn("video",{class:"rounded-borders",".srcObject":a.value,autoplay:"",playsinline:""},null,8,ZM)])])]))}},tL={__name:"App",setup(t){aD(bA);const e=gw(),n=Ne(!1);W(()=>e.getters["chat/GET_CURRENT_CHAT"]);const{mutate:r}=pf(qD),{mutate:i}=pf($D),s=async f=>{const h=new Date().toISOString();await i({user_id:f,last_seen:h})},o=async()=>{var f;sessionStorage.setItem("token",await((f=window.Clerk.session)==null?void 0:f.getToken({template:"hasura"})))},a=()=>{n.value=!0},c=()=>{};Ns("setTrueForShowVideoTrack",a);const u="pk_test_c3Ryb25nLWNhbWVsLTQzLmNsZXJrLmFjY291bnRzLmRldiQ",l=async()=>{var h;const f=window.Clerk;try{await f.load();const d=document.getElementById("user-button"),p=document.getElementById("auth-links");if(f.addListener(({user:m})=>p.style.display=m?"none":"block"),f.user){f.mountUserButton(d),d.style.margin="auto",e.commit("chat/SET_CURRENT_USER",f.user),o();const m=setInterval(async()=>{await o(),f.user||clearInterval(m)},1e3);try{await r({id:f.user.id,first_name:f.user.firstName,email:f.user.primaryEmailAddress.emailAddress,avatar_url:f.user.profileImageUrl})}catch(w){console.log(w)}await s((h=f.user)==null?void 0:h.id);const g=setInterval(async()=>{var w;await s((w=f.user)==null?void 0:w.id),f.user||clearInterval(g)},1e4)}}catch(d){console.error("Error starting Clerk: ",d)}};return(()=>{const f=document.createElement("script");f.setAttribute("data-clerk-publishable-key",u),f.async=!0,f.src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js",f.crossOrigin="anonymous",f.addEventListener("load",l),f.addEventListener("error",()=>{document.getElementById("no-frontend-api-warning").hidden=!1}),document.body.appendChild(f)})(),(f,h)=>{const d=jT("router-view");return _i(),Ry(Mt,null,[Fe(d,null,{default:On(({Component:p})=>[(_i(),Ma(DT,null,[(_i(),Ma($T(p)))],1024))]),_:1}),Fe(PI,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=p=>n.value=p),persistent:""},{default:On(()=>[Fe(tI,{style:{"max-width":"1100px"}},{default:On(()=>[Fe(eL),Fe(XC,{align:"left"},{default:On(()=>[wh(Fe(fi,{flat:"",label:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u0432\u0438\u0434\u0435\u043E\u0447\u0430\u0442\u0430",color:"negative",onClick:c},null,512),[[MI]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};function ZF(t){return t}function nL(){return{currentUser:null,currentChats:[],selectedChat:null}}function rL(t){return t.selectedChat}function iL(t){return t.currentUser}function sL(t){return t.currentChats}var oL=Object.freeze(Object.defineProperty({__proto__:null,GET_CURRENT_CHAT:rL,GET_CURRENT_USER:iL,GET_CURRENT_CHATS:sL},Symbol.toStringTag,{value:"Module"}));function aL(t,e){t.selectedChat=e}function cL(t,e){t.currentUser=e}function uL(t,e){t.currentChats=e}function lL(t,e){t.selectedChat.call_id=e}var fL=Object.freeze(Object.defineProperty({__proto__:null,CHANGE_CHAT:aL,SET_CURRENT_USER:cL,SET_CURRENT_CHATS:uL,CHANGE_CALL_ID_IN_CHAT:lL},Symbol.toStringTag,{value:"Module"}));function hL(){}var dL=Object.freeze(Object.defineProperty({__proto__:null,someAction:hL},Symbol.toStringTag,{value:"Module"})),pL={namespaced:!0,getters:oL,mutations:fL,actions:dL,state:nL},ka=function(){return VD({modules:{chat:pL},strict:!1})},mL=Object.freeze(Object.defineProperty({__proto__:null,default:ka},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ui=typeof window!="undefined";function gL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ke=Object.assign;function ml(t,e){const n={};for(const r in e){const i=e[r];n[r]=ln(i)?i.map(t):t(i)}return n}const Qs=()=>{},ln=Array.isArray,vL=/\/$/,yL=t=>t.replace(vL,"");function gl(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=EL(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function bL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ev(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wL(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Gi(e.matched[r],n.matched[i])&&r0(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function r0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_L(t[n],e[n]))return!1;return!0}function _L(t,e){return ln(t)?Tv(t,e):ln(e)?Tv(e,t):t===e}function Tv(t,e){return ln(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function EL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var So;(function(t){t.pop="pop",t.push="push"})(So||(So={}));var zs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(zs||(zs={}));function TL(t){if(!t)if(ui){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),yL(t)}const SL=/^[^#]+#/;function CL(t,e){return t.replace(SL,"#")+e}function IL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const vu=()=>({left:window.pageXOffset,top:window.pageYOffset});function OL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=IL(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Sv(t,e){return(history.state?history.state.position-e:-1)+t}const Jf=new Map;function kL(t,e){Jf.set(t,e)}function xL(t){const e=Jf.get(t);return Jf.delete(t),e}let DL=()=>location.protocol+"//"+location.host;function i0(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),Ev(c,"")}return Ev(n,t)+r+i}function AL(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const d=i0(t,location),p=n.value,m=e.value;let g=0;if(h){if(n.value=d,e.value=h,o&&o===p){o=null;return}g=m?h.position-m.position:0}else r(d);i.forEach(w=>{w(n.value,p,{delta:g,type:So.pop,direction:g?g>0?zs.forward:zs.back:zs.unknown})})};function c(){o=n.value}function u(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(d),d}function l(){const{history:h}=window;!h.state||h.replaceState(ke({},h.state,{scroll:vu()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:f}}function Cv(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?vu():null}}function NL(t){const{history:e,location:n}=window,r={value:i0(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,l){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:DL()+t+c;try{e[l?"replaceState":"pushState"](u,"",h),i.value=u}catch(d){console.error(d),n[l?"replace":"assign"](h)}}function o(c,u){const l=ke({},e.state,Cv(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,l,!0),r.value=c}function a(c,u){const l=ke({},i.value,e.state,{forward:c,scroll:vu()});s(l.current,l,!0);const f=ke({},Cv(r.value,c,null),{position:l.position+1},u);s(c,f,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function RL(t){t=TL(t);const e=NL(t),n=AL(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ke({location:"",base:t,go:r,createHref:CL.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function PL(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),RL(t)}function ML(t){return typeof t=="string"||t&&typeof t=="object"}function s0(t){return typeof t=="string"||typeof t=="symbol"}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},o0=Symbol("");var Iv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Iv||(Iv={}));function Wi(t,e){return ke(new Error,{type:t,[o0]:!0},e)}function Sn(t,e){return t instanceof Error&&o0 in t&&(e==null||!!(t.type&e))}const Ov="[^/]+?",LL={sensitive:!1,strict:!1,start:!0,end:!0},FL=/[.+*?^${}()[\]/\\]/g;function VL(t,e){const n=ke({},LL,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(FL,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:m,optional:g,regexp:w}=h;s.push({name:p,repeatable:m,optional:g});const v=w||Ov;if(v!==Ov){d+=10;try{new RegExp(`(${v})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+E.message)}}let y=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(y=g&&u.length<2?`(?:/${y})`:"/"+y),g&&(y+="?"),i+=y,d+=20,g&&(d+=-8),m&&(d+=-20),v===".*"&&(d+=-50)}l.push(d)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const l=u.match(o),f={};if(!l)return null;for(let h=1;h<l.length;h++){const d=l[h]||"",p=s[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function c(u){let l="",f=!1;for(const h of t){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const d of h)if(d.type===0)l+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:g}=d,w=p in u?u[p]:"";if(ln(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=ln(w)?w.join("/"):w;if(!v)if(g)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);l+=v}}return l||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function jL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function $L(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=jL(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(kv(r))return 1;if(kv(i))return-1}return i.length-r.length}function kv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qL={type:0,value:""},BL=/[a-zA-Z0-9_]/;function UL(t){if(!t)return[[]];if(t==="/")return[[qL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,u="",l="";function f(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),o()):c===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:c==="("?n=2:BL.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function QL(t,e,n){const r=VL(UL(t.path),n),i=ke(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function zL(t,e){const n=[],r=new Map;e=Av({strict:!1,end:!0,sensitive:!1},e);function i(l){return r.get(l)}function s(l,f,h){const d=!h,p=KL(l);p.aliasOf=h&&h.record;const m=Av(e,l),g=[p];if("alias"in l){const y=typeof l.alias=="string"?[l.alias]:l.alias;for(const E of y)g.push(ke({},p,{components:h?h.record.components:p.components,path:E,aliasOf:h?h.record:p}))}let w,v;for(const y of g){const{path:E}=y;if(f&&E[0]!=="/"){const T=f.record.path,x=T[T.length-1]==="/"?"":"/";y.path=f.record.path+(E&&x+E)}if(w=QL(y,f,m),h?h.alias.push(w):(v=v||w,v!==w&&v.alias.push(w),d&&l.name&&!Dv(w)&&o(l.name)),p.children){const T=p.children;for(let x=0;x<T.length;x++)s(T[x],w,h&&h.children[x])}h=h||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&c(w)}return v?()=>{o(v)}:Qs}function o(l){if(s0(l)){const f=r.get(l);f&&(r.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let f=0;for(;f<n.length&&$L(l,n[f])>=0&&(l.record.path!==n[f].record.path||!a0(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!Dv(l)&&r.set(l.record.name,l)}function u(l,f){let h,d={},p,m;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw Wi(1,{location:l});m=h.record.name,d=ke(xv(f.params,h.keys.filter(v=>!v.optional).map(v=>v.name)),l.params&&xv(l.params,h.keys.map(v=>v.name))),p=h.stringify(d)}else if("path"in l)p=l.path,h=n.find(v=>v.re.test(p)),h&&(d=h.parse(p),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!h)throw Wi(1,{location:l,currentLocation:f});m=h.record.name,d=ke({},f.params,l.params),p=h.stringify(d)}const g=[];let w=h;for(;w;)g.unshift(w.record),w=w.parent;return{name:m,path:p,params:d,matched:g,meta:GL(g)}}return t.forEach(l=>s(l)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function xv(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function KL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:HL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function HL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Dv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function GL(t){return t.reduce((e,n)=>ke(e,n.meta),{})}function Av(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function a0(t,e){return e.children.some(n=>n===t||a0(t,n))}const c0=/#/g,WL=/&/g,YL=/\//g,JL=/=/g,XL=/\?/g,u0=/\+/g,ZL=/%5B/g,eF=/%5D/g,l0=/%5E/g,tF=/%60/g,f0=/%7B/g,nF=/%7C/g,h0=/%7D/g,rF=/%20/g;function Zd(t){return encodeURI(""+t).replace(nF,"|").replace(ZL,"[").replace(eF,"]")}function iF(t){return Zd(t).replace(f0,"{").replace(h0,"}").replace(l0,"^")}function Xf(t){return Zd(t).replace(u0,"%2B").replace(rF,"+").replace(c0,"%23").replace(WL,"%26").replace(tF,"`").replace(f0,"{").replace(h0,"}").replace(l0,"^")}function sF(t){return Xf(t).replace(JL,"%3D")}function oF(t){return Zd(t).replace(c0,"%23").replace(XL,"%3F")}function aF(t){return t==null?"":oF(t).replace(YL,"%2F")}function hc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function cF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(u0," "),o=s.indexOf("="),a=hc(o<0?s:s.slice(0,o)),c=o<0?null:hc(s.slice(o+1));if(a in e){let u=e[a];ln(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Nv(t){let e="";for(let n in t){const r=t[n];if(n=sF(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ln(r)?r.map(s=>s&&Xf(s)):[r&&Xf(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function uF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ln(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const lF=Symbol(""),Rv=Symbol(""),ep=Symbol(""),d0=Symbol(""),Zf=Symbol("");function vs(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Wn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(Wi(4,{from:n,to:e})):f instanceof Error?a(f):ML(f)?a(Wi(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),o())},u=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch(f=>a(f))})}function vl(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(fF(a)){const u=(a.__vccOpts||a)[e];u&&i.push(Wn(u,n,r,s,o))}else{let c=a();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const l=gL(u)?u.default:u;s.components[o]=l;const h=(l.__vccOpts||l)[e];return h&&Wn(h,n,r,s,o)()}))}}return i}function fF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Pv(t){const e=Gt(ep),n=Gt(d0),r=W(()=>e.resolve(xr(t.to))),i=W(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],f=n.matched;if(!l||!f.length)return-1;const h=f.findIndex(Gi.bind(null,l));if(h>-1)return h;const d=Mv(c[u-2]);return u>1&&Mv(l)===d&&f[f.length-1].path!==d?f.findIndex(Gi.bind(null,c[u-2])):h}),s=W(()=>i.value>-1&&mF(n.params,r.value.params)),o=W(()=>i.value>-1&&i.value===n.matched.length-1&&r0(n.params,r.value.params));function a(c={}){return pF(c)?e[xr(t.replace)?"replace":"push"](xr(t.to)).catch(Qs):Promise.resolve()}return{route:r,href:W(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const hF=vh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Pv,setup(t,{slots:e}){const n=Fn(Pv(t)),{options:r}=Gt(ep),i=W(()=>({[Lv(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Lv(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:ne("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),dF=hF;function pF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mF(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ln(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Mv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lv=(t,e,n)=>t!=null?t:e!=null?e:n,gF=vh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Gt(Zf),i=W(()=>t.route||r.value),s=Gt(Rv,0),o=W(()=>{let u=xr(s);const{matched:l}=i.value;let f;for(;(f=l[u])&&!f.components;)u++;return u}),a=W(()=>i.value.matched[o.value]);Ns(Rv,W(()=>o.value+1)),Ns(lF,a),Ns(Zf,i);const c=Ne();return Ct(()=>[c.value,a.value,t.name],([u,l,f],[h,d,p])=>{l&&(l.instances[f]=u,d&&d!==l&&u&&u===h&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),u&&l&&(!d||!Gi(l,d)||!h)&&(l.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,l=t.name,f=a.value,h=f&&f.components[l];if(!h)return Fv(n.default,{Component:h,route:u});const d=f.props[l],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,g=ne(h,ke({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[l]=null)},ref:c}));return Fv(n.default,{Component:g,route:u})||g}}});function Fv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const vF=gF;function yF(t){const e=zL(t.routes,t),n=t.parseQuery||cF,r=t.stringifyQuery||Nv,i=t.history,s=vs(),o=vs(),a=vs(),c=fT(qn);let u=qn;ui&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=ml.bind(null,S=>""+S),f=ml.bind(null,aF),h=ml.bind(null,hc);function d(S,F){let U,X;return s0(S)?(U=e.getRecordMatcher(S),X=F):X=S,e.addRoute(X,U)}function p(S){const F=e.getRecordMatcher(S);F&&e.removeRoute(F)}function m(){return e.getRoutes().map(S=>S.record)}function g(S){return!!e.getRecordMatcher(S)}function w(S,F){if(F=ke({},F||c.value),typeof S=="string"){const b=gl(n,S,F.path),_=e.resolve({path:b.path},F),I=i.createHref(b.fullPath);return ke(b,_,{params:h(_.params),hash:hc(b.hash),redirectedFrom:void 0,href:I})}let U;if("path"in S)U=ke({},S,{path:gl(n,S.path,F.path).path});else{const b=ke({},S.params);for(const _ in b)b[_]==null&&delete b[_];U=ke({},S,{params:f(S.params)}),F.params=f(F.params)}const X=e.resolve(U,F),ye=S.hash||"";X.params=l(h(X.params));const qe=bL(r,ke({},S,{hash:iF(ye),path:X.path})),ve=i.createHref(qe);return ke({fullPath:qe,hash:ye,query:r===Nv?uF(S.query):S.query||{}},X,{redirectedFrom:void 0,href:ve})}function v(S){return typeof S=="string"?gl(n,S,c.value.path):ke({},S)}function y(S,F){if(u!==S)return Wi(8,{from:F,to:S})}function E(S){return k(S)}function T(S){return E(ke(v(S),{replace:!0}))}function x(S){const F=S.matched[S.matched.length-1];if(F&&F.redirect){const{redirect:U}=F;let X=typeof U=="function"?U(S):U;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=v(X):{path:X},X.params={}),ke({query:S.query,hash:S.hash,params:"path"in X?{}:S.params},X)}}function k(S,F){const U=u=w(S),X=c.value,ye=S.state,qe=S.force,ve=S.replace===!0,b=x(U);if(b)return k(ke(v(b),{state:typeof b=="object"?ke({},ye,b.state):ye,force:qe,replace:ve}),F||U);const _=U;_.redirectedFrom=F;let I;return!qe&&wL(r,X,U)&&(I=Wi(16,{to:_,from:X}),Ge(X,X,!0,!1)),(I?Promise.resolve(I):L(_,X)).catch(D=>Sn(D)?Sn(D,2)?D:ft(D):be(D,_,X)).then(D=>{if(D){if(Sn(D,2))return k(ke({replace:ve},v(D.to),{state:typeof D.to=="object"?ke({},ye,D.to.state):ye,force:qe}),F||_)}else D=te(_,X,!0,ve,ye);return z(_,X,D),D})}function O(S,F){const U=y(S,F);return U?Promise.reject(U):Promise.resolve()}function L(S,F){let U;const[X,ye,qe]=bF(S,F);U=vl(X.reverse(),"beforeRouteLeave",S,F);for(const b of X)b.leaveGuards.forEach(_=>{U.push(Wn(_,S,F))});const ve=O.bind(null,S,F);return U.push(ve),ii(U).then(()=>{U=[];for(const b of s.list())U.push(Wn(b,S,F));return U.push(ve),ii(U)}).then(()=>{U=vl(ye,"beforeRouteUpdate",S,F);for(const b of ye)b.updateGuards.forEach(_=>{U.push(Wn(_,S,F))});return U.push(ve),ii(U)}).then(()=>{U=[];for(const b of S.matched)if(b.beforeEnter&&!F.matched.includes(b))if(ln(b.beforeEnter))for(const _ of b.beforeEnter)U.push(Wn(_,S,F));else U.push(Wn(b.beforeEnter,S,F));return U.push(ve),ii(U)}).then(()=>(S.matched.forEach(b=>b.enterCallbacks={}),U=vl(qe,"beforeRouteEnter",S,F),U.push(ve),ii(U))).then(()=>{U=[];for(const b of o.list())U.push(Wn(b,S,F));return U.push(ve),ii(U)}).catch(b=>Sn(b,8)?b:Promise.reject(b))}function z(S,F,U){for(const X of a.list())X(S,F,U)}function te(S,F,U,X,ye){const qe=y(S,F);if(qe)return qe;const ve=F===qn,b=ui?history.state:{};U&&(X||ve?i.replace(S.fullPath,ke({scroll:ve&&b&&b.scroll},ye)):i.push(S.fullPath,ye)),c.value=S,Ge(S,F,U,ve),ft()}let $;function ae(){$||($=i.listen((S,F,U)=>{if(!Yr.listening)return;const X=w(S),ye=x(X);if(ye){k(ke(ye,{replace:!0}),X).catch(Qs);return}u=X;const qe=c.value;ui&&kL(Sv(qe.fullPath,U.delta),vu()),L(X,qe).catch(ve=>Sn(ve,12)?ve:Sn(ve,2)?(k(ve.to,X).then(b=>{Sn(b,20)&&!U.delta&&U.type===So.pop&&i.go(-1,!1)}).catch(Qs),Promise.reject()):(U.delta&&i.go(-U.delta,!1),be(ve,X,qe))).then(ve=>{ve=ve||te(X,qe,!1),ve&&(U.delta&&!Sn(ve,8)?i.go(-U.delta,!1):U.type===So.pop&&Sn(ve,20)&&i.go(-1,!1)),z(X,qe,ve)}).catch(Qs)}))}let B=vs(),ee=vs(),le;function be(S,F,U){ft(S);const X=ee.list();return X.length?X.forEach(ye=>ye(S,F,U)):console.error(S),Promise.reject(S)}function fe(){return le&&c.value!==qn?Promise.resolve():new Promise((S,F)=>{B.add([S,F])})}function ft(S){return le||(le=!S,ae(),B.list().forEach(([F,U])=>S?U(S):F()),B.reset()),S}function Ge(S,F,U,X){const{scrollBehavior:ye}=t;if(!ui||!ye)return Promise.resolve();const qe=!U&&xL(Sv(S.fullPath,0))||(X||!U)&&history.state&&history.state.scroll||null;return xi().then(()=>ye(S,F,qe)).then(ve=>ve&&OL(ve)).catch(ve=>be(ve,S,F))}const ht=S=>i.go(S);let tt;const dn=new Set,Yr={currentRoute:c,listening:!0,addRoute:d,removeRoute:p,hasRoute:g,getRoutes:m,resolve:w,options:t,push:E,replace:T,go:ht,back:()=>ht(-1),forward:()=>ht(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ee.add,isReady:fe,install(S){const F=this;S.component("RouterLink",dF),S.component("RouterView",vF),S.config.globalProperties.$router=F,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>xr(c)}),ui&&!tt&&c.value===qn&&(tt=!0,E(i.location).catch(ye=>{}));const U={};for(const ye in qn)U[ye]=W(()=>c.value[ye]);S.provide(ep,F),S.provide(d0,Fn(U)),S.provide(Zf,c);const X=S.unmount;dn.add(S),S.unmount=function(){dn.delete(S),dn.size<1&&(u=qn,$&&$(),$=null,c.value=qn,tt=!1,le=!1),X()}}};return Yr}function ii(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function bF(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Gi(u,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>Gi(u,c))||i.push(c))}return[n,r,i]}const wF=[{path:"/",component:()=>Ds(()=>import("./MainLayout.0f1791d9.js"),["assets/MainLayout.0f1791d9.js","assets/MainLayout.993e991b.css","assets/calculateTime.6dc88724.js","assets/plugin-vue_export-helper.21dcd24c.js"]),children:[{path:"",component:()=>Ds(()=>import("./IndexPage.1929f5ff.js"),["assets/IndexPage.1929f5ff.js","assets/IndexPage.71018d0d.css","assets/calculateTime.6dc88724.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/:catchAll(.*)*",component:()=>Ds(()=>import("./ErrorNotFound.aeb143fe.js"),["assets/ErrorNotFound.aeb143fe.js","assets/plugin-vue_export-helper.21dcd24c.js"])}];var yl=function(){return yF({scrollBehavior:()=>({left:0,top:0}),routes:wF,history:PL("/")})};async function _F(t,e){const n=t(tL);n.use(SC,e);const r=typeof ka=="function"?await ka({}):ka,{storeKey:i}=await Ds(()=>Promise.resolve().then(function(){return mL}),void 0),s=Zi(typeof yl=="function"?await yl({store:r}):yl);return r.$router=s,{app:n,store:r,storeKey:i,router:s}}var EF=lr({name:"QAvatar",props:{...Ih,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=Oh(t),r=W(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),i=W(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const s=t.icon!==void 0?[ne(Va,{name:t.icon})]:void 0;return ne("div",{class:r.value,style:n.value},[ne("div",{class:"q-avatar__content row flex-center overflow-hidden",style:i.value},CC(e.default,s))])}}});let TF=0;const xa={},Da={},rn={},p0={},SF=/^\s*$/,m0=[],tp=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],CF=["top-left","top-right","bottom-left","bottom-right"],li={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function g0(t,e,n){if(!t)return ys("parameter required");let r;const i={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(i,xa),ro(t)===!1&&(i.type&&Object.assign(i,li[i.type]),t={message:t}),Object.assign(i,li[t.type||i.type],t),typeof i.icon=="function"&&(i.icon=i.icon(e)),i.spinner?(i.spinner===!0&&(i.spinner=tb),i.spinner=Zi(i.spinner)):i.spinner=!1,i.meta={hasMedia:Boolean(i.spinner!==!1||i.icon||i.avatar),hasText:Vv(i.message)||Vv(i.caption)},i.position){if(tp.includes(i.position)===!1)return ys("wrong position",t)}else i.position="bottom";if(i.timeout===void 0)i.timeout=5e3;else{const c=parseInt(i.timeout,10);if(isNaN(c)||c<0)return ys("wrong timeout",t);i.timeout=c}i.timeout===0?i.progress=!1:i.progress===!0&&(i.meta.progressClass="q-notification__progress"+(i.progressClass?` ${i.progressClass}`:""),i.meta.progressStyle={animationDuration:`${i.timeout+1e3}ms`});const s=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(xa.actions)===!0?xa.actions:[]).concat(li[t.type]!==void 0&&Array.isArray(li[t.type].actions)===!0?li[t.type].actions:[]),{closeBtn:o}=i;if(o&&s.push({label:typeof o=="string"?o:e.lang.label.close}),i.actions=s.map(({handler:c,noDismiss:u,...l})=>({flat:!0,...l,onClick:typeof c=="function"?()=>{c(),u!==!0&&a()}:()=>{a()}})),i.multiLine===void 0&&(i.multiLine=i.actions.length>1),Object.assign(i.meta,{class:`q-notification row items-stretch q-notification--${i.multiLine===!0?"multi-line":"standard"}`+(i.color!==void 0?` bg-${i.color}`:"")+(i.textColor!==void 0?` text-${i.textColor}`:"")+(i.classes!==void 0?` ${i.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(i.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(i.multiLine===!0?"":" col"),leftClass:i.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...i.attrs}}),i.group===!1?(i.group=void 0,i.meta.group=void 0):((i.group===void 0||i.group===!0)&&(i.group=[i.message,i.caption,i.multiline].concat(i.actions.map(c=>`${c.label}*${c.icon}`)).join("|")),i.meta.group=i.group+"|"+i.position),i.actions.length===0?i.actions=void 0:i.meta.actionsClass="q-notification__actions row items-center "+(i.multiLine===!0?"justify-end":"col-auto")+(i.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),i.meta.uid=n.notif.meta.uid;const c=rn[i.position].value.indexOf(n.notif);rn[i.position].value[c]=i}else{const c=Da[i.meta.group];if(c===void 0){if(i.meta.uid=TF++,i.meta.badge=1,["left","right","center"].indexOf(i.position)!==-1)rn[i.position].value.splice(Math.floor(rn[i.position].value.length/2),0,i);else{const u=i.position.indexOf("top")>-1?"unshift":"push";rn[i.position].value[u](i)}i.group!==void 0&&(Da[i.meta.group]=i)}else{if(c.meta.timer&&(clearTimeout(c.meta.timer),c.meta.timer=void 0),i.badgePosition!==void 0){if(CF.includes(i.badgePosition)===!1)return ys("wrong badgePosition",t)}else i.badgePosition=`top-${i.position.indexOf("left")>-1?"right":"left"}`;i.meta.uid=c.meta.uid,i.meta.badge=c.meta.badge+1,i.meta.badgeClass=`q-notification__badge q-notification__badge--${i.badgePosition}`+(i.badgeColor!==void 0?` bg-${i.badgeColor}`:"")+(i.badgeTextColor!==void 0?` text-${i.badgeTextColor}`:"")+(i.badgeClass?` ${i.badgeClass}`:"");const u=rn[i.position].value.indexOf(c);rn[i.position].value[u]=Da[i.meta.group]=i}}const a=()=>{IF(i),r=void 0};if(i.timeout>0&&(i.meta.timer=setTimeout(()=>{i.meta.timer=void 0,a()},i.timeout+1e3)),i.group!==void 0)return c=>{c!==void 0?ys("trying to update a grouped one which is forbidden",t):a()};if(r={dismiss:a,config:t,notif:i},n!==void 0){Object.assign(n,r);return}return c=>{if(r!==void 0)if(c===void 0)r.dismiss();else{const u=Object.assign({},r.config,c,{group:!1,position:i.position});g0(u,e,r)}}}function IF(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=rn[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete Da[t.meta.group];const n=m0[""+t.meta.uid];if(n){const{width:r,height:i}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=r,n.style.height=i}rn[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function Vv(t){return t!=null&&SF.test(t)!==!0}function ys(t,e){return console.error(`Notify: ${t}`,e),!1}function OF(){return lr({name:"QNotifications",devtools:{hide:!0},setup(){return()=>ne("div",{class:"q-notifications"},tp.map(t=>ne(US,{key:t,class:p0[t],tag:"div",name:`q-notification--${t}`},()=>rn[t].value.map(e=>{const n=e.meta,r=[];if(n.hasMedia===!0&&(e.spinner!==!1?r.push(ne(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?r.push(ne(Va,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&r.push(ne(EF,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>ne("img",{src:e.avatar,"aria-hidden":"true"})))),n.hasText===!0){let s;const o={class:"q-notification__message col"};if(e.html===!0)o.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const a=[e.message];s=e.caption?[ne("div",a),ne("div",{class:"q-notification__caption"},[e.caption])]:a}r.push(ne("div",o,s))}const i=[ne("div",{class:n.contentClass},r)];return e.progress===!0&&i.push(ne("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),e.actions!==void 0&&i.push(ne("div",{class:n.actionsClass},e.actions.map(s=>ne(fi,s)))),n.badge>1&&i.push(ne("div",{key:`${n.uid}|${n.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[n.badge])),ne("div",{ref:s=>{m0[""+n.uid]=s},key:n.uid,class:n.class,...n.attrs},[ne("div",{class:n.wrapperClass},i)])}))))}})}var kF={setDefaults(t){ro(t)===!0&&Object.assign(xa,t)},registerType(t,e){ro(e)===!0&&(li[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=n=>g0(n,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){tp.forEach(r=>{rn[r]=Ne([]);const i=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")>-1?"top":"bottom",s=r.indexOf("left")>-1?"start":r.indexOf("right")>-1?"end":"center",o=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${s}`;p0[r]=`q-notifications__list q-notifications__list--${i} fixed column no-wrap ${o}`});const n=ub("q-notify");_C(OF(),e).mount(n)}}},xF={config:{},plugins:{Notify:kF}};const DF="/";async function AF({app:t,router:e,store:n,storeKey:r},i){let s=!1;const o=u=>{try{return e.resolve(u).href}catch{}return Object(u)===u?null:u},a=u=>{if(s=!0,typeof u=="string"&&/^https?:\/\//.test(u)){window.location.href=u;return}const l=o(u);l!==null&&(window.location.href=l,window.location.reload())},c=window.location.href.replace(window.location.origin,"");for(let u=0;s===!1&&u<i.length;u++)try{await i[u]({app:t,router:e,store:n,ssrContext:null,redirect:a,urlPath:c,publicPath:DF})}catch(l){if(l&&l.url){a(l.url);return}console.error("[Quasar] boot error:",l);return}s!==!0&&(t.use(e),t.use(n,r),t.mount("#q-app"))}_F(Qy,xF).then(t=>{const[e,n]=Promise.allSettled!==void 0?["allSettled",r=>r.map(i=>{if(i.status==="rejected"){console.error("[Quasar] boot error:",i.reason);return}return i.value.default})]:["all",r=>r.map(i=>i.default)];return Promise[e]([Ds(()=>import("./axios.03e2c48c.js"),[])]).then(r=>{const i=n(r).filter(s=>typeof s=="function");AF(t,i)})});export{wh as $,QF as A,_i as B,Ma as C,On as D,Fe as E,xr as F,mn as G,_s as H,Jy as I,et as J,VF as K,iC as L,jF as M,Rl as N,Ky as O,Nl as P,fi as Q,nC as R,sC as S,br as T,sI as U,ZC as V,oI as W,eI as X,rI as Y,aI as Z,nI as _,qF as a,zF as a0,OI as a1,NF as a2,LF as a3,gw as a4,YF as a5,Ry as a6,FF as a7,Mt as a8,MF as a9,$T as aA,aD as aB,bA as aC,ko as aD,UC as aE,QC as aF,no as aG,KF as aH,nh as aI,jD as aJ,vh as aK,bC as aa,pf as ab,JF as ac,Va as ad,th as ae,PI as af,tI as ag,XC as ah,MI as ai,RF as aj,PF as ak,BF as al,oC as am,Oc as an,PT as ao,fI as ap,yh as aq,AT as ar,HF as as,tb as at,eo as au,dC as av,ab as aw,XF as ax,jT as ay,DT as az,ZF as b,lr as c,W as d,UF as e,Dc as f,xt as g,ne as h,Gt as i,Lr as j,fn as k,$F as l,xi as m,to as n,Ec as o,Ns as p,Pt as q,Ne as r,Es as s,GF as t,_I as u,EI as v,Ct as w,WF as x,Fn as y,Tc as z};
