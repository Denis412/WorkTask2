# Quasar App (main-dev)

A Quasar Project

## Install the dependencies
```bash
yarn
# or
npm install
```

### Start the app in development mode (hot-code reloading, error reporting, etc.)
```bash
quasar dev
```


### Build the app for production
```bash
quasar build
```

### Customize the configuration
See [Configuring quasar.config.js](https://v2.quasar.dev/quasar-cli-vite/quasar-config-js).

Mini-Telegram v 3.0
Стек используемых инструментов: 
  
  •	Vue js (Composition API), Quasar Framework – пользовательский интерфейс, удобство взаимодействия с приложением.
  
  •	Hasura, GraphQL, Vue Apollo, Pub/Sub – взаимодействие с базой данных. Отправка query, mutations, subscriptions для получения или создания новых данных, таких как    чаты, пользователи и сообщения.
  
  •	Clerk js – реализация авторизации пользователя.
  
  •	WebRTC – создание видеочата.
  
  •	Firebase – хостинг приложения и хранение информации о видеозвонках.
  
  
Работа приложения:
  •	При заходе на страницу приложения появляется интерфейс, где отображается список пользователей с их статусами "онлайн" или нет, также отображается кнопка «Войти». Нажав на данную кнопку необходимо выбрать один из    трех способов авторизации: Google, GitHub, Discord. Если ранее пользователь не был зарегистрирован, произойдет регистрация и добавление новой учетной записи          пользователя с последующей отправкой данных пользователя в БД для обеспечения их сохранности и для использования внутри приложения. После успешного входа, в правом  углу приложения отображается аватар пользователя.
  
  •	При нажатии на любого пользователя из списка появляется диалоговое окно, предлагающее создать новый чат с выбранным пользователем. Исключение составляет выбор  самого себя. В этом случае создание чата не произойдет. Между двумя пользователями может быть сразу несколько чатов, их количество не ограничено. Если пользователь не  авторизован, то создание чата невозможно. При попытке появляется соответствующее уведомление. 

  •	В списке чата отображается аватар пользователя, с которым ведется переписка, его имя, а также последнее сообщение, которое было введено в чат.
  
  •	При клике на любой чат из списка происходит переход на страницу выбранного чата, после чего в основном окне переписки отображается хедер, а также область сообщений и форма для написания нового сообщения. В хедере чата отображается аватар пользователя, его имя, а также две кнопки: «Видеосвязь» и «Назад». Область сообщений содержит в себе все отправленные в данной переписке сообщения.
  
  •	При сжатии окна до определенного размера, левый и правый drawer сворачиваются. Имеется возможность развернуть один из двух drawerов единовременно.
  
  • При нажатии на кнопку видеочата в хедере чата, появляется диалоговое окно, где есть иконка, закрывающая данное окно, ниже расположен небольшой тулбар, где есть следующие кнопки: "Включить камеру", "Создать видеочат", "Присоединиться к звонку". Ниже расположены два небольших окна, в которых выводится стрим. Левое окно показывает запись с камеры текущего пользователя, а правое - с камеры собеседника. Еще ниже имеется кнопка, позволяющая отключиться от трансляции. Сбрасывается видео на обоих окнах, после чего можно закрыть диалоговое окно.

  • Для начала нового видеочата необходимо нажать на иконку камеры в хедере чата, после чего в самом окне видеочата необходимо включить камеру, после чего нажать "Создать видеочат". Чтобы собеседнику присоединиться к существующему видеочату, ему необходимо зайти в тот же диалог, где видеочат создавался, также нажать на иконку камеры в хедере, включить камеру и нажать " Присоединиться к звонку", после чего в правом окне видео появится трансляция с камеры собеседника

  
Присутствующие недоработки:
  
  •	Отсутствие юнит тестов. (к сожалению, еще не доводилось их писать, но исправлюсь).
Суммарное потраченное время на работу над приложением – между 10 и 11 часами + 1.5 - 2 часа на доработки + 3.5 часа - видеочат.

Дополнения:

  • Из-за ошибок со стороны сервера не удалось реализовать передачу токена на hasura, из-за чего IP пользователя передаётся прямо в запросах GraphQL, что является уязвимостью. Я знаю, что так нельзя, но я предполагаю, что данная ошибка связана с тем, что полные возможности использования веб сокетов на hasura можно получить в платной версии. Всё дело в том, что в приложении используется эндпоинт "wss://...". Если использовать обычный эндпоинт, который указан во вкладке api, то токен передаётся нормально и ошибок со стороны сервера не возникает.


Ссылка, где можно протестировать приложение: https://worktask2-e6e75.web.app/?#/
